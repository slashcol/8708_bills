function _classCallCheck(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function _createClass(n,e,t){return e&&_defineProperties(n.prototype,e),t&&_defineProperties(n,t),n}function _inherits(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),e&&_setPrototypeOf(n,e)}function _setPrototypeOf(n,e){return(_setPrototypeOf=Object.setPrototypeOf||function(n,e){return n.__proto__=e,n})(n,e)}function _createSuper(n){var e=_isNativeReflectConstruct();return function(){var t,r=_getPrototypeOf(n);if(e){var i=_getPrototypeOf(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return _possibleConstructorReturn(this,t)}}function _possibleConstructorReturn(n,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(n):e}function _assertThisInitialized(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}function _getPrototypeOf(n){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{H0qn:function(n,e,t){"use strict";t.r(e),t.d(e,"OrderDetailPageModule",(function(){return nn}));var r=t("tyNb"),i=t("mrSG"),o=t("NV1z"),c=t("dNOa"),a=t("fXoL"),b=t("TEn/"),l=t("MKfq"),s=t("3Pt+"),u=t("ofXK"),d=t("sYmb");function p(n,e){1&n&&a.Qb(0,"ion-spinner")}function f(n,e){1&n&&(a.Vb(0,"span"),a.Fc(1),a.hc(2,"translate"),a.Ub()),2&n&&(a.Cb(1),a.Gc(a.ic(2,1,"SUBMIT")))}var h,m=((h=function(n){_inherits(t,n);var e=_createSuper(t);function t(n){var r;return _classCallCheck(this,t),(r=e.call(this,n)).input={rating:3,comment:""},r}return _createClass(t,[{key:"enableMenuSwipe",value:function(){return!1}},{key:"prepareReviewData",value:function(){return{rating:this.input.rating,comment:this.input.comment,itemId:this.item.objectId}}},{key:"onSubmit",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var e,t,r=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.input.rating){n.next=17;break}return n.prev=1,n.next=4,this.showLoadingView({showOverlay:!1});case 4:return e=this.prepareReviewData(),n.next=7,this.order.reviewItem(e);case 7:this.translate.get("REVIEW_SUCCESS").subscribe((function(n){return r.showToast(n)})),this.showContentView(),this.onDismiss(e),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(1),this.showContentView(),5e3===n.t0.code?this.translate.get("REVIEW_ALREADY_EXISTS").subscribe((function(n){return r.showToast(n)})):this.translate.get("ERROR_NETWORK").subscribe((function(n){return r.showToast(n)}));case 15:n.next=21;break;case 17:return n.next=19,this.getTrans("PLEASE_SELECT_A_RATING");case 19:t=n.sent,this.showToast(t);case 21:case"end":return n.stop()}}),n,this,[[1,12]])})))}},{key:"onDismiss",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.modalCtrl.dismiss(n)}}]),t}(o.a)).\u0275fac=function(n){return new(n||h)(a.Pb(a.r))},h.\u0275cmp=a.Jb({type:h,selectors:[["page-review-add"]],inputs:{order:"order",item:"item"},features:[a.zb],decls:17,vars:14,consts:[[1,"ion-no-border"],["color","primary"],["slot","end"],["fill","clear",3,"click"],["name","close"],[1,"ion-padding"],[1,"ion-text-center"],[3,"rate","readOnly","max","theme","rateChange"],["lines","none","color","light",1,"radius"],["rows","8",3,"ngModel","placeholder","ngModelChange","keyup.enter"],["shape","round","color","primary","strong","",1,"ion-margin-vertical",3,"disabled","click"],[4,"ngIf"]],template:function(n,e){1&n&&(a.Vb(0,"ion-header",0),a.Vb(1,"ion-toolbar",1),a.Vb(2,"ion-buttons",2),a.Vb(3,"ion-button",3),a.dc("click",(function(){return e.onDismiss()})),a.Qb(4,"ion-icon",4),a.Ub(),a.Ub(),a.Vb(5,"ion-title"),a.Fc(6),a.hc(7,"translate"),a.Ub(),a.Ub(),a.Ub(),a.Vb(8,"ion-content",5),a.Vb(9,"div",6),a.Vb(10,"bar-rating",7),a.dc("rateChange",(function(n){return e.input.rating=n})),a.Ub(),a.Vb(11,"ion-item",8),a.Vb(12,"ion-textarea",9),a.dc("ngModelChange",(function(n){return e.input.comment=n}))("keyup.enter",(function(){return e.onSubmit()})),a.hc(13,"translate"),a.Ub(),a.Ub(),a.Vb(14,"ion-button",10),a.dc("click",(function(){return e.onSubmit()})),a.Dc(15,p,1,0,"ion-spinner",11),a.Dc(16,f,3,3,"span",11),a.Ub(),a.Ub(),a.Ub()),2&n&&(a.Cb(6),a.Hc(" ",a.ic(7,10,"ADD_REVIEW")," "),a.Cb(4),a.mc("rate",e.input.rating)("readOnly",!1)("max",5)("theme","stars"),a.Cb(2),a.mc("ngModel",e.input.comment)("placeholder",a.ic(13,12,"COMMENT")),a.Cb(2),a.mc("disabled",e.isLoadingViewVisible),a.Cb(1),a.mc("ngIf",e.isLoadingViewVisible),a.Cb(1),a.mc("ngIf",!e.isLoadingViewVisible))},directives:[b.s,b.Y,b.k,b.j,b.t,b.W,b.p,l.a,b.x,b.U,b.ib,s.i,s.k,u.l,b.P],pipes:[d.c],styles:["ion-content[_ngcontent-%COMP%]{--padding-top:60px}ion-item[_ngcontent-%COMP%]{--border-radius:4px;margin-top:40px}"]}),h),g=t("4ro/"),V=t("xJkR"),C=t("RKXm"),U=t("eiOl");function v(n,e){1&n&&(a.Qb(0,"empty-view",6),a.hc(1,"translate")),2&n&&a.mc("text",a.ic(1,1,"EMPTY_DATA"))}function w(n,e){1&n&&(a.Qb(0,"empty-view",6),a.hc(1,"translate")),2&n&&a.mc("text",a.ic(1,1,"ERROR_NETWORK"))}function I(n,e){if(1&n&&(a.Vb(0,"ion-thumbnail",2),a.Qb(1,"img",34),a.Ub()),2&n){var t=a.gc().$implicit;a.Cb(1),a.mc("src",null==t.featuredImageThumb?null:t.featuredImageThumb.url(),a.zc)}}function y(n,e){if(1&n&&(a.Vb(0,"p"),a.Vb(1,"span",22),a.Fc(2),a.hc(3,"translate"),a.Ub(),a.Fc(4),a.Ub()),2&n){var t=a.gc().$implicit;a.Cb(2),a.Hc("",a.ic(3,2,"VARIANT"),":"),a.Cb(2),a.Hc(" ",t.variation.name," ")}}function _(n,e){if(1&n&&(a.Vb(0,"span"),a.Vb(1,"ion-text",35),a.Vb(2,"s",36),a.Fc(3),a.hc(4,"currencyGlobal"),a.Ub(),a.Ub(),a.Qb(5,"br"),a.Vb(6,"span"),a.Fc(7),a.hc(8,"currencyGlobal"),a.Ub(),a.Ub()),2&n){var t=a.gc(2).$implicit;a.Cb(3),a.Hc(" ",a.ic(4,2,t.amount)," "),a.Cb(4),a.Hc(" ",a.ic(8,4,t.finalAmount)," ")}}function x(n,e){if(1&n&&(a.Vb(0,"span"),a.Vb(1,"span"),a.Fc(2),a.hc(3,"currencyGlobal"),a.Ub(),a.Ub()),2&n){var t=a.gc(2).$implicit;a.Cb(2),a.Gc(a.ic(3,1,t.finalAmount))}}function O(n,e){if(1&n&&(a.Vb(0,"p",18),a.Dc(1,_,9,6,"span",5),a.Dc(2,x,4,3,"span",5),a.Ub()),2&n){var t=a.gc().$implicit;a.Cb(1),a.mc("ngIf",t.amount>t.finalAmount),a.Cb(1),a.mc("ngIf",t.amount<=t.finalAmount)}}function R(n,e){if(1&n&&(a.Vb(0,"p",18),a.Fc(1),a.hc(2,"currencyGlobal"),a.Ub()),2&n){var t=a.gc().$implicit;a.Cb(1),a.Hc(" ",a.ic(2,1,t.amount)," ")}}function D(n,e){if(1&n){var t=a.Wb();a.Vb(0,"div",20),a.Vb(1,"ion-item",27),a.Dc(2,I,2,1,"ion-thumbnail",28),a.Vb(3,"ion-label",29),a.Vb(4,"ion-text",16),a.Vb(5,"p",30),a.Fc(6),a.Ub(),a.Dc(7,y,5,4,"p",5),a.Ub(),a.Ub(),a.Vb(8,"div",17),a.Dc(9,O,3,2,"p",31),a.Dc(10,R,3,3,"ng-template",null,32,a.Ec),a.Ub(),a.Ub(),a.Vb(12,"ion-button",33),a.dc("click",(function(){a.wc(t);var n=e.$implicit;return a.gc(2).onPresentReviewAddModal(n)})),a.Fc(13),a.hc(14,"translate"),a.Ub(),a.Ub()}if(2&n){var r=e.$implicit,i=a.uc(11),o=a.gc(2);a.Cb(2),a.mc("ngIf",r.featuredImageThumb),a.Cb(4),a.Ic("",r.qty," x ",r.name,""),a.Cb(1),a.mc("ngIf",r.variation),a.Cb(2),a.mc("ngIf",r.hasOwnProperty("finalAmount"))("ngIfElse",i),a.Cb(3),a.mc("disabled",!(null!=o.order&&o.order.isDelivered())||r.rating),a.Cb(1),a.Hc(" ",a.ic(14,8,"REVIEW_THIS_ITEM")," ")}}function E(n,e){if(1&n&&(a.Vb(0,"ion-item"),a.Vb(1,"ion-label"),a.Vb(2,"ion-text",16),a.Vb(3,"p"),a.Fc(4),a.hc(5,"translate"),a.Ub(),a.Ub(),a.Ub(),a.Vb(6,"div",17),a.Vb(7,"ion-text",16),a.Vb(8,"p",18),a.Fc(9),a.hc(10,"currencyGlobal"),a.Ub(),a.Ub(),a.Ub(),a.Ub()),2&n){var t=a.gc(2);a.Cb(4),a.Ic(" ",a.ic(5,3,"COUPON_DISCOUNT")," (",null==t.order||null==t.order.coupon?null:t.order.coupon.name,") "),a.Cb(5),a.Hc(" ",a.ic(10,5,0-(null==t.order?null:t.order.coupon.amount))," ")}}function k(n,e){1&n&&(a.Vb(0,"ion-list-header",19),a.Vb(1,"h5",11),a.Fc(2),a.hc(3,"translate"),a.Ub(),a.Ub()),2&n&&(a.Cb(2),a.Gc(a.ic(3,1,"TRACKING")))}function F(n,e){if(1&n&&(a.Vb(0,"ion-list",21),a.Vb(1,"ion-item"),a.Vb(2,"ion-label"),a.Vb(3,"p"),a.Vb(4,"span",22),a.Fc(5),a.hc(6,"translate"),a.Ub(),a.Fc(7),a.Ub(),a.Vb(8,"p"),a.Vb(9,"span",22),a.Fc(10),a.hc(11,"translate"),a.Ub(),a.Fc(12),a.Ub(),a.Ub(),a.Ub(),a.Ub()),2&n){var t=a.gc(2);a.Cb(5),a.Hc("",a.ic(6,4,"TRACKING_NUMBER"),":"),a.Cb(2),a.Hc(" ",(null==t.order?null:t.order.tracking.number)||"---"," "),a.Cb(3),a.Hc("",a.ic(11,6,"CARRIER"),":"),a.Cb(2),a.Hc(" ",(null==t.order?null:t.order.tracking.carrier)||"---"," ")}}function P(n,e){1&n&&(a.Vb(0,"ion-item",20),a.Qb(1,"img",37),a.Vb(2,"ion-label"),a.Vb(3,"p"),a.Fc(4),a.hc(5,"translate"),a.Ub(),a.Ub(),a.Ub()),2&n&&(a.Cb(4),a.Gc(a.ic(5,1,"CASH")))}function T(n,e){if(1&n&&(a.Vb(0,"p"),a.Fc(1),a.Ub()),2&n){var t=a.gc(3);a.Cb(1),a.Hc(" \u2022\u2022\u2022\u2022 ",null==t.order?null:t.order.card.last4," ")}}function A(n,e){if(1&n&&(a.Vb(0,"ion-item"),a.Qb(1,"img",38),a.Vb(2,"ion-label"),a.Dc(3,T,2,1,"p",5),a.Ub(),a.Ub()),2&n){var t=a.gc(2);a.Cb(1),a.oc("src","./assets/imgs/",t.formatBrand(),".png",a.zc),a.Cb(2),a.mc("ngIf",null==t.order?null:t.order.card)}}function G(n,e){1&n&&(a.Vb(0,"span"),a.Fc(1),a.hc(2,"translate"),a.Ub()),2&n&&(a.Cb(1),a.Gc(a.ic(2,1,"UNPAID")))}function S(n,e){1&n&&(a.Vb(0,"span"),a.Fc(1),a.hc(2,"translate"),a.Ub()),2&n&&(a.Cb(1),a.Gc(a.ic(2,1,"PAID")))}function M(n,e){1&n&&(a.Vb(0,"span"),a.Fc(1),a.hc(2,"translate"),a.Ub()),2&n&&(a.Cb(1),a.Gc(a.ic(2,1,"PENDING")))}function N(n,e){1&n&&(a.Vb(0,"span"),a.Fc(1),a.hc(2,"translate"),a.Ub()),2&n&&(a.Cb(1),a.Gc(a.ic(2,1,"IN_PROCESS")))}function z(n,e){1&n&&(a.Vb(0,"span"),a.Fc(1),a.hc(2,"translate"),a.Ub()),2&n&&(a.Cb(1),a.Gc(a.ic(2,1,"PACKED")))}function H(n,e){1&n&&(a.Vb(0,"span"),a.Fc(1),a.hc(2,"translate"),a.Ub()),2&n&&(a.Cb(1),a.Gc(a.ic(2,1,"SHIPPED_OUT")))}function j(n,e){1&n&&(a.Vb(0,"span"),a.Fc(1),a.hc(2,"translate"),a.Ub()),2&n&&(a.Cb(1),a.Gc(a.ic(2,1,"DELIVERED")))}function L(n,e){1&n&&(a.Vb(0,"span"),a.Fc(1),a.hc(2,"translate"),a.Ub()),2&n&&(a.Cb(1),a.Gc(a.ic(2,1,"CANCELLED")))}function Q(n,e){if(1&n&&(a.Vb(0,"ion-item"),a.Vb(1,"ion-label"),a.Vb(2,"p"),a.Fc(3),a.hc(4,"translate"),a.Ub(),a.Ub(),a.Ub()),2&n){var t=a.gc(2);a.Cb(3),a.Ic("",a.ic(4,2,"REASON"),": ",t.order.cancellationReason,"")}}function K(n,e){if(1&n){var t=a.Wb();a.Vb(0,"ion-row",7),a.Vb(1,"ion-col",8),a.Vb(2,"div"),a.Vb(3,"ion-list",9),a.Vb(4,"ion-list-header"),a.Vb(5,"div",10),a.Vb(6,"h5",11),a.Fc(7),a.hc(8,"translate"),a.Ub(),a.Vb(9,"ion-button",12),a.dc("click",(function(){return a.wc(t),a.gc().onMarkAsReceived()})),a.Fc(10),a.hc(11,"translate"),a.Ub(),a.Ub(),a.Ub(),a.Vb(12,"ion-list",13),a.Dc(13,D,15,10,"div",14),a.Qb(14,"div",15),a.Vb(15,"ion-item"),a.Vb(16,"ion-label"),a.Vb(17,"ion-text",16),a.Vb(18,"p"),a.Fc(19),a.hc(20,"translate"),a.Ub(),a.Ub(),a.Ub(),a.Vb(21,"div",17),a.Vb(22,"ion-text",16),a.Vb(23,"p",18),a.Fc(24),a.hc(25,"currencyGlobal"),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Dc(26,E,11,7,"ion-item",5),a.Vb(27,"ion-item"),a.Vb(28,"ion-label"),a.Vb(29,"ion-text",16),a.Vb(30,"p"),a.Fc(31),a.hc(32,"translate"),a.Ub(),a.Ub(),a.Ub(),a.Vb(33,"div",17),a.Vb(34,"ion-text",16),a.Vb(35,"p",18),a.Fc(36),a.hc(37,"currencyGlobal"),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Vb(38,"ion-item"),a.Vb(39,"ion-label"),a.Vb(40,"ion-text",16),a.Vb(41,"p"),a.Fc(42),a.hc(43,"translate"),a.Ub(),a.Ub(),a.Ub(),a.Vb(44,"div",17),a.Vb(45,"ion-text",16),a.Vb(46,"p",18),a.Fc(47),a.hc(48,"currencyGlobal"),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Vb(49,"ion-list-header",19),a.Vb(50,"h5"),a.Fc(51),a.hc(52,"translate"),a.Ub(),a.Ub(),a.Vb(53,"ion-item",20),a.Vb(54,"ion-label"),a.Vb(55,"p"),a.Fc(56),a.Ub(),a.Ub(),a.Ub(),a.Vb(57,"ion-list-header",19),a.Vb(58,"h5"),a.Fc(59),a.hc(60,"translate"),a.Ub(),a.Ub(),a.Vb(61,"ion-list",21),a.Vb(62,"ion-item",20),a.Vb(63,"ion-label"),a.Vb(64,"h2",22),a.Fc(65),a.Ub(),a.Vb(66,"p"),a.Fc(67),a.Ub(),a.Vb(68,"p"),a.Fc(69),a.hc(70,"translate"),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Dc(71,k,4,3,"ion-list-header",23),a.Dc(72,F,13,8,"ion-list",24),a.Vb(73,"ion-list-header",19),a.Vb(74,"h5"),a.Fc(75),a.hc(76,"translate"),a.Ub(),a.Ub(),a.Vb(77,"ion-list",21),a.Dc(78,P,6,3,"ion-item",25),a.Dc(79,A,4,2,"ion-item",5),a.Ub(),a.Vb(80,"ion-list-header",19),a.Vb(81,"h5"),a.Fc(82),a.hc(83,"translate"),a.Ub(),a.Ub(),a.Vb(84,"ion-list",21),a.Vb(85,"ion-item",20),a.Vb(86,"ion-label"),a.Vb(87,"p"),a.Fc(88),a.hc(89,"translate"),a.Ub(),a.Ub(),a.Vb(90,"div",26),a.Dc(91,G,3,3,"span",5),a.Dc(92,S,3,3,"span",5),a.Dc(93,M,3,3,"span",5),a.Dc(94,N,3,3,"span",5),a.Dc(95,z,3,3,"span",5),a.Dc(96,H,3,3,"span",5),a.Dc(97,j,3,3,"span",5),a.Dc(98,L,3,3,"span",5),a.Ub(),a.Ub(),a.Dc(99,Q,5,4,"ion-item",5),a.Vb(100,"ion-item"),a.Vb(101,"ion-label"),a.Vb(102,"p"),a.Fc(103),a.hc(104,"translate"),a.Ub(),a.Ub(),a.Vb(105,"div",17),a.Vb(106,"p",18),a.Fc(107),a.hc(108,"dateGlobal"),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub()}if(2&n){var r=a.gc();a.Cb(7),a.Ic(" ",a.ic(8,41,"ORDER")," #",null==r.order?null:r.order.number,"\xa0\xa0 "),a.Cb(2),a.mc("disabled",!(null!=r.order&&r.order.isShippedOut())),a.Cb(1),a.Hc(" ",a.ic(11,43,"MARK_AS_RECEIVED")," "),a.Cb(3),a.mc("ngForOf",null==r.order?null:r.order.items),a.Cb(6),a.Gc(a.ic(20,45,"SUBTOTAL")),a.Cb(5),a.Gc(a.ic(25,47,null==r.order?null:r.order.subtotal)),a.Cb(2),a.mc("ngIf",null==r.order?null:r.order.coupon),a.Cb(5),a.Gc(a.ic(32,49,"SHIPPING_FEE")),a.Cb(5),a.Gc(a.ic(37,51,null==r.order?null:r.order.shippingFee)),a.Cb(6),a.Gc(a.ic(43,53,"TOTAL")),a.Cb(5),a.Gc(a.ic(48,55,null==r.order?null:r.order.total)),a.Cb(4),a.Gc(a.ic(52,57,"CONTACT_INFO")),a.Cb(5),a.Gc(null==r.order?null:r.order.contact.email),a.Cb(3),a.Gc(a.ic(60,59,"SHIPPING_ADDRESS")),a.Cb(6),a.Gc(null==r.order||null==r.order.shipping?null:r.order.shipping.name),a.Cb(2),a.Jc(" ",null==r.order||null==r.order.shipping?null:r.order.shipping.address,", ",null==r.order||null==r.order.shipping?null:r.order.shipping.city,", ",null==r.order||null==r.order.shipping||null==r.order.shipping.subzone?null:r.order.shipping.subzone.name,", ",null==r.order||null==r.order.shipping?null:r.order.shipping.zipcode,", ",null==r.order||null==r.order.shipping||null==r.order.shipping.zone?null:r.order.shipping.zone.name," "),a.Cb(2),a.Ic("",a.ic(70,61,"CONTACT_PHONE"),": ",null==r.order?null:r.order.shipping.phone,""),a.Cb(2),a.mc("ngIf",null==r.order?null:r.order.tracking),a.Cb(1),a.mc("ngIf",null==r.order?null:r.order.tracking),a.Cb(3),a.Gc(a.ic(76,63,"PAYMENT")),a.Cb(3),a.mc("ngIf","Cash"===(null==r.order?null:r.order.paymentMethod)),a.Cb(1),a.mc("ngIf",null==r.order?null:r.order.card),a.Cb(3),a.Gc(a.ic(83,65,"MORE_INFO")),a.Cb(6),a.Gc(a.ic(89,67,"STATUS")),a.Cb(3),a.mc("ngIf","Unpaid"===(null==r.order?null:r.order.status)),a.Cb(1),a.mc("ngIf","Paid"===(null==r.order?null:r.order.status)),a.Cb(1),a.mc("ngIf","Pending"===(null==r.order?null:r.order.status)),a.Cb(1),a.mc("ngIf","In Process"===(null==r.order?null:r.order.status)),a.Cb(1),a.mc("ngIf","Packed"===(null==r.order?null:r.order.status)),a.Cb(1),a.mc("ngIf","Shipped Out"===(null==r.order?null:r.order.status)),a.Cb(1),a.mc("ngIf","Delivered"===(null==r.order?null:r.order.status)),a.Cb(1),a.mc("ngIf","Cancelled"===(null==r.order?null:r.order.status)),a.Cb(1),a.mc("ngIf","Cancelled"===(null==r.order?null:r.order.status)&&(null==r.order?null:r.order.cancellationReason)),a.Cb(4),a.Gc(a.ic(104,69,"ORDER_DATE")),a.Cb(4),a.Gc(a.jc(108,71,null==r.order?null:r.order.createdAt,"mediumDate"))}}var W=function(){return{"border-radius":"0",height:"50px","margin-bottom":"0"}};function $(n,e){1&n&&(a.Vb(0,"div"),a.Vb(1,"ion-row",39),a.Vb(2,"ion-col",40),a.Vb(3,"div",41),a.Qb(4,"ngx-skeleton-loader",42),a.Ub(),a.Ub(),a.Ub(),a.Vb(5,"ion-row",39),a.Vb(6,"ion-col",40),a.Vb(7,"div",41),a.Qb(8,"ngx-skeleton-loader",43),a.Ub(),a.Ub(),a.Ub(),a.Vb(9,"ion-row",39),a.Vb(10,"ion-col",40),a.Vb(11,"div",41),a.Qb(12,"ngx-skeleton-loader",43),a.Ub(),a.Ub(),a.Ub(),a.Ub()),2&n&&(a.Cb(4),a.mc("theme",a.pc(3,W)),a.Cb(4),a.mc("theme",a.pc(4,W)),a.Cb(4),a.mc("theme",a.pc(5,W)))}var J,B,Y,X=((J=function(n){_inherits(t,n);var e=_createSuper(t);function t(n,r){var i;return _classCallCheck(this,t),(i=e.call(this,n)).orderService=r,i}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"ionViewDidEnter",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var e;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.showLoadingView({showOverlay:!1});case 3:return n.next=5,this.getParams().id;case 5:return e=n.sent,n.next=8,this.orderService.loadOne(e);case 8:this.order=n.sent,this.showContentView(),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),this.showErrorView();case 15:case"end":return n.stop()}}),n,this,[[0,12]])})))}},{key:"enableMenuSwipe",value:function(){return!1}},{key:"onPresentReviewAddModal",value:function(n){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.showLoadingView({showOverlay:!0});case 2:return t=this.order,e.next=5,this.modalCtrl.create({component:m,componentProps:{item:n,order:t}});case 5:return r=e.sent,e.next=8,r.present();case 8:this.showContentView();case 9:case"end":return e.stop()}}),e,this)})))}},{key:"formatBrand",value:function(){return this.order&&this.order.card?this.order.card.brand.toLowerCase().replace(" ","_"):""}},{key:"onMarkAsReceived",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var e;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.getTrans("CONFIRM_MARK_AS_RECEIVED");case 3:return e=n.sent,n.next=6,this.showConfirm(e);case 6:if(n.sent){n.next=8;break}return n.abrupt("return");case 8:return n.next=10,this.showLoadingView({showOverlay:!0});case 10:return n.next=12,this.order.markAsDelivered();case 12:this.showContentView(),n.next=18;break;case 15:n.prev=15,n.t0=n.catch(0),this.showContentView();case 18:case"end":return n.stop()}}),n,this,[[0,15]])})))}}]),t}(o.a)).\u0275fac=function(n){return new(n||J)(a.Pb(a.r),a.Pb(c.a))},J.\u0275cmp=a.Jb({type:J,selectors:[["page-order-detail-page"]],features:[a.zb],decls:13,vars:7,consts:[[1,"ion-no-border"],["fixed",""],["slot","start"],["icon","alert-circle-outline",3,"text",4,"ngIf"],["class","ion-justify-content-center",4,"ngIf"],[4,"ngIf"],["icon","alert-circle-outline",3,"text"],[1,"ion-justify-content-center"],["size-xs","12","size-lg","8"],["lines","none"],[1,"flex","align-items-center"],[1,"ion-no-margin"],["strong","","size","small","fill","solid","color","success",1,"ion-text-capitalize","ion-no-margin",3,"disabled","click"],[1,"ion-margin-top","ion-no-padding"],["class","radius",4,"ngFor","ngForOf"],[1,"divider"],["color","dark"],["slot","end"],[1,"text-medium"],[1,"ion-margin-vertical"],[1,"radius"],[1,"ion-no-padding"],[1,"bold"],["class","ion-margin-vertical",4,"ngIf"],["class","ion-no-padding",4,"ngIf"],["class","radius",4,"ngIf"],["slot","end",1,"text-medium"],[1,"cart-item"],["slot","start",4,"ngIf"],[1,"ion-text-wrap"],[1,"text-normal","mb-8"],["class","text-medium",4,"ngIf","ngIfElse"],["showOnlyAmount",""],["color","dark","size","small","strong","",1,"ion-margin","ion-text-capitalize",3,"disabled","click"],[3,"src"],["color","medium"],[1,"text-small"],["src","./assets/imgs/cash.png","width","40","slot","start"],["width","40","slot","start",3,"src"],[1,"ion-margin-vertical","ion-justify-content-center"],["size-xs","12","size-lg","10"],[1,"bg-light","ion-padding"],["count","5",3,"theme"],["count","1",3,"theme"]],template:function(n,e){1&n&&(a.Vb(0,"ion-header",0),a.Vb(1,"ion-toolbar",1),a.Vb(2,"ion-buttons",2),a.Qb(3,"ion-back-button"),a.Ub(),a.Vb(4,"ion-title"),a.Fc(5),a.hc(6,"translate"),a.Ub(),a.Ub(),a.Ub(),a.Vb(7,"ion-content"),a.Vb(8,"ion-grid",1),a.Dc(9,v,2,3,"empty-view",3),a.Dc(10,w,2,3,"empty-view",3),a.Dc(11,K,109,74,"ion-row",4),a.Dc(12,$,13,6,"div",5),a.Ub(),a.Ub()),2&n&&(a.Cb(5),a.Gc(a.ic(6,5,"ORDER_TITLE")),a.Cb(4),a.mc("ngIf",e.isEmptyViewVisible),a.Cb(1),a.mc("ngIf",e.isErrorViewVisible),a.Cb(1),a.mc("ngIf",e.isContentViewVisible),a.Cb(1),a.mc("ngIf",e.isLoadingViewVisible))},directives:[b.s,b.Y,b.k,b.g,b.h,b.W,b.p,b.r,u.l,g.a,b.J,b.o,b.A,b.B,b.j,u.k,b.x,b.z,b.T,b.V,V.a],pipes:[d.c,C.a,U.a],styles:["ion-content[_ngcontent-%COMP%]{--background:var(--ion-color-light)}ion-grid[_ngcontent-%COMP%]{background:#fff}.cart-item[_ngcontent-%COMP%]{--min-height:120px}.cart-item[_ngcontent-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]{width:100px;height:100px}"]}),J),q=t("d2mR"),Z=((Y=function n(){_classCallCheck(this,n)}).\u0275mod=a.Nb({type:Y}),Y.\u0275inj=a.Mb({factory:function(n){return new(n||Y)},imports:[[q.a,s.e]]}),Y),nn=((B=function n(){_classCallCheck(this,n)}).\u0275mod=a.Nb({type:B}),B.\u0275inj=a.Mb({factory:function(n){return new(n||B)},imports:[[r.i.forChild([{path:"",component:X}]),q.a,Z]]}),B)}}]);