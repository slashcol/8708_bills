(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{bVhl:function(t,e,i){"use strict";i.r(e),i.d(e,"ItemPageModule",(function(){return Us}));var s=i("tyNb"),n=i("mrSG"),o=i("TEn/"),r=i("NV1z"),a=i("62S+"),c=i("Xjug"),l=i("jgsO"),h=i("GvuD"),d=i("/XPu"),u=i("fXoL"),g=i("ofXK");let p;try{p="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(Hs){p=!1}let b=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?Object(g.x)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!p)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(u.Zb(u.B,8))},t.\u0275prov=Object(u.Lb)({factory:function(){return new t(Object(u.Zb)(u.B,8))},token:t,providedIn:"root"}),t})(),m=(()=>{class t{}return t.\u0275mod=u.Nb({type:t}),t.\u0275inj=u.Mb({factory:function(e){return new(e||t)}}),t})();var f=i("2Vo4"),_=i("quSY"),y=i("lJxs"),v=i("jhN1"),w=i("tk/3");const x=new u.q("shareButtonsConfig");class C{constructor(t,e,i,s,n,o,r,a){this._props=t,this._url=e,this._http=i,this._platform=s,this._document=n,this._windowSize=o,this._disableButtonClick=r,this._logger=a,this._self=this,this.supportShareCount=!1}get text(){return this._props.text}get ariaLabel(){return this._props.ariaLabel}get color(){return this._props.color}get icon(){return this._props.icon}get desktop(){}get android(){return this.desktop}get ios(){return this.desktop}get sharerUrl(){return this._platform.IOS?this.ios:this._platform.ANDROID?this.android:this.desktop}click(t){return this._open(this._serializeMetaTags(t))}shareCount(t){}_serializeMetaTags(t){return Object.entries(this._supportedMetaTags).map(([e,i])=>t[e]?`${i}=${encodeURIComponent(t[e])}`:"").join("&")}_open(t){return new Promise(e=>{if(this.sharerUrl&&this._platform.isBrowser){const i=this.sharerUrl+t;this._logger(i);const s=this._document.defaultView.open(i,"newwindow",this._windowSize);if(s){const t=this._document.defaultView.setInterval(()=>{s.closed&&(this._document.defaultView.clearInterval(t),e())},200)}}else console.warn(this.text+" button is not compatible on this Platform")})}}class k extends C{constructor(t,e,i,s,n,o,r,a){super(t,e,i,s,n,o,r,a),this._props=t,this._url=e,this._http=i,this._platform=s,this._document=n,this._windowSize=o,this._disableButtonClick=r,this._logger=a,this.supportShareCount=!0,this._supportedMetaTags={url:"u"}}get desktop(){return"https://www.facebook.com/sharer/sharer.php?"}shareCount(t){return this._http.get("https://graph.facebook.com?id="+t).pipe(Object(y.a)(t=>+t.share.share_count))}}class S extends C{constructor(t,e,i,s,n,o,r,a){super(t,e,i,s,n,o,r,a),this._props=t,this._url=e,this._http=i,this._platform=s,this._document=n,this._windowSize=o,this._disableButtonClick=r,this._logger=a,this._supportedMetaTags={url:"url",description:"text",tags:"hashtags",via:"via"}}get desktop(){return"https://twitter.com/intent/tweet?"}}class O extends C{constructor(t,e,i,s,n,o,r,a){super(t,e,i,s,n,o,r,a),this._props=t,this._url=e,this._http=i,this._platform=s,this._document=n,this._windowSize=o,this._disableButtonClick=r,this._logger=a,this._supportedMetaTags={url:"url",title:"title",description:"summary"}}get desktop(){return"http://www.linkedin.com/shareArticle?"}}class I extends C{constructor(t,e,i,s,n,o,r,a){super(t,e,i,s,n,o,r,a),this._props=t,this._url=e,this._http=i,this._platform=s,this._document=n,this._windowSize=o,this._disableButtonClick=r,this._logger=a,this._supportedMetaTags={url:"url"}}get desktop(){return"https://plus.google.com/share?"}}class P extends C{constructor(t,e,i,s,n,o,r,a){super(t,e,i,s,n,o,r,a),this._props=t,this._url=e,this._http=i,this._platform=s,this._document=n,this._windowSize=o,this._disableButtonClick=r,this._logger=a,this.supportShareCount=!0,this._supportedMetaTags={url:"canonicalUrl",description:"caption",tags:"tags"}}get desktop(){return"http://tumblr.com/widgets/share/tool?"}shareCount(t){return this._http.jsonp("https://api.tumblr.com/v2/share/stats?url="+t,"callback").pipe(Object(y.a)(t=>+t.response.note_count))}}class E extends C{constructor(t,e,i,s,n,o,r,a){super(t,e,i,s,n,o,r,a),this._props=t,this._url=e,this._http=i,this._platform=s,this._document=n,this._windowSize=o,this._disableButtonClick=r,this._logger=a,this.supportShareCount=!0,this._supportedMetaTags={url:"url",description:"description",image:"media"}}get desktop(){return"https://pinterest.com/pin/create/button/?"}click(t){if(t.image)return this._open(this._serializeMetaTags(t));console.warn("Pinterest button: image parameter is required!")}shareCount(t){return this._http.get("https://api.pinterest.com/v1/urls/count.json?url="+t,{responseType:"text"}).pipe(Object(y.a)(t=>JSON.parse(t.replace(/^receiveCount\((.*)\)/,"$1"))),Object(y.a)(t=>+t.count))}}class R extends C{constructor(t,e,i,s,n,o,r,a){super(t,e,i,s,n,o,r,a),this._props=t,this._url=e,this._http=i,this._platform=s,this._document=n,this._windowSize=o,this._disableButtonClick=r,this._logger=a,this._supportedMetaTags={url:"url",title:"title"}}get desktop(){return"http://www.reddit.com/submit?"}}class T extends C{constructor(t,e,i,s,n,o,r,a){super(t,e,i,s,n,o,r,a),this._props=t,this._url=e,this._http=i,this._platform=s,this._document=n,this._windowSize=o,this._disableButtonClick=r,this._logger=a,this._supportedMetaTags={url:"url"}}get desktop(){return"http://vk.com/share.php?"}}class V extends C{constructor(t,e,i,s,n,o,r,a){super(t,e,i,s,n,o,r,a),this._props=t,this._url=e,this._http=i,this._platform=s,this._document=n,this._windowSize=o,this._disableButtonClick=r,this._logger=a,this._supportedMetaTags={url:"url",description:"text"}}get desktop(){return"https://t.me/share/url?"}}class D extends C{constructor(t,e,i,s,n,o,r,a){super(t,e,i,s,n,o,r,a),this._props=t,this._url=e,this._http=i,this._platform=s,this._document=n,this._windowSize=o,this._disableButtonClick=r,this._logger=a,this._supportedMetaTags={url:"link"}}get android(){return"fb-messenger://share/?"}get ios(){return"fb-messenger://share/?"}}class L extends C{constructor(t,e,i,s,n,o,r,a){super(t,e,i,s,n,o,r,a),this._props=t,this._url=e,this._http=i,this._platform=s,this._document=n,this._windowSize=o,this._disableButtonClick=r,this._logger=a,this._supportedMetaTags={description:"text"}}get desktop(){return"https://wa.me/?"}get android(){return"whatsapp://send?"}get ios(){return"https://api.whatsapp.com/send?"}click(t){t.description=t.description?`${t.description}\r\n${this._url()}`:this._url();const e=this._serializeMetaTags(t);return this._open(e)}}class A extends C{constructor(t,e,i,s,n,o,r,a){super(t,e,i,s,n,o,r,a),this._props=t,this._url=e,this._http=i,this._platform=s,this._document=n,this._windowSize=o,this._disableButtonClick=r,this._logger=a,this._supportedMetaTags={url:"url"}}get desktop(){return"https://www.xing.com/app/user?op=share&"}}class j extends C{constructor(t,e,i,s,n,o,r,a){super(t,e,i,s,n,o,r,a),this._props=t,this._url=e,this._http=i,this._platform=s,this._document=n,this._windowSize=o,this._disableButtonClick=r,this._logger=a,this._supportedMetaTags={description:"body"}}get desktop(){return"sms:?"}get android(){return"sms:?"}get ios(){return"sms:&"}click(t){t.description=t.description?`${t.description}\r\n${this._url()}`:this._url();const e=this._serializeMetaTags(t);return this._open(e)}}class M extends C{constructor(t,e,i,s,n,o,r,a){super(t,e,i,s,n,o,r,a),this._props=t,this._url=e,this._http=i,this._platform=s,this._document=n,this._windowSize=o,this._disableButtonClick=r,this._logger=a,this._supportedMetaTags={title:"subject",description:"body"}}get desktop(){return"mailto:?"}click(t){t.description=t.description?`${t.description}\r\n${this._url()}`:this._url();const e=this._serializeMetaTags(t);return this._open(e)}}class z extends C{constructor(t,e,i,s,n,o,r,a){super(t,e,i,s,n,o,r,a),this._props=t,this._url=e,this._http=i,this._platform=s,this._document=n,this._windowSize=o,this._disableButtonClick=r,this._logger=a}click(){return new Promise(t=>{this._document.defaultView.print(),t()})}}class B extends C{constructor(t,e,i,s,n,o,r,a){super(t,e,i,s,n,o,r,a),this._props=t,this._url=e,this._http=i,this._platform=s,this._document=n,this._windowSize=o,this._disableButtonClick=r,this._logger=a}get text(){return this._disable?this._props.extra.successLabel:this._props.text}get icon(){return this._disable?this._props.extra.successIcon:this._props.icon}_disableButton(){this._disable=!0,this._disableButtonClick(!0)}_resetButton(){this._disable=!1,this._disableButtonClick(!1)}click(){return new Promise(t=>{try{const e=this._document.createElement("textarea");if(e.value=decodeURIComponent(this._url()),this._document.body.appendChild(e),this._platform.IOS){const t=this._document.createRange();t.selectNodeContents(e);const i=this._document.defaultView.getSelection();i.removeAllRanges(),i.addRange(t),e.readOnly=!0,e.setSelectionRange(0,999999)}else e.select();this._document.execCommand("copy"),this._document.body.removeChild(e),this._disableButton()}catch(e){console.warn("Copy link failed!",e.message)}finally{setTimeout(()=>this._resetButton(),2e3),t()}})}}class F extends C{constructor(t,e,i,s,n,o,r,a){super(t,e,i,s,n,o,r,a),this._props=t,this._url=e,this._http=i,this._platform=s,this._document=n,this._windowSize=o,this._disableButtonClick=r,this._logger=a,this._supportedMetaTags={url:"url"}}get desktop(){return"https://mix.com/add?"}}class U extends C{constructor(t,e,i,s,n,o,r,a){super(t,e,i,s,n,o,r,a),this._props=t,this._url=e,this._http=i,this._platform=s,this._document=n,this._windowSize=o,this._disableButtonClick=r,this._logger=a,this._supportedMetaTags={url:"url"}}get desktop(){return"https://social-plugins.line.me/lineit/share?"}}const H={facebook:{create:(t,e,i,s,n,o,r,a)=>new k(t,e,i,s,n,o,r,a),text:"Facebook",icon:["fab","facebook-f"],color:"#4267B2",ariaLabel:"Share on Facebook"},twitter:{create:(t,e,i,s,n,o,r,a)=>new S(t,e,i,s,n,o,r,a),text:"Twitter",icon:["fab","twitter"],color:"#00acee",ariaLabel:"Share on Twitter"},linkedin:{create:(t,e,i,s,n,o,r,a)=>new O(t,e,i,s,n,o,r,a),text:"LinkedIn",icon:["fab","linkedin-in"],color:"#006fa6",ariaLabel:"Share on LinkedIn"},google:{create:(t,e,i,s,n,o,r,a)=>new I(t,e,i,s,n,o,r,a),text:"Google+",icon:["fab","google-plus-g"],color:"#DB4437",ariaLabel:"Share on Google plus"},pinterest:{create:(t,e,i,s,n,o,r,a)=>new E(t,e,i,s,n,o,r,a),text:"Pinterest",icon:["fab","pinterest-p"],color:"#BD091D",ariaLabel:"Share on Pinterest"},reddit:{create:(t,e,i,s,n,o,r,a)=>new R(t,e,i,s,n,o,r,a),text:"Reddit",icon:["fab","reddit-alien"],color:"#FF4006",ariaLabel:"Share on Reddit"},tumblr:{create:(t,e,i,s,n,o,r,a)=>new P(t,e,i,s,n,o,r,a),text:"Tumblr",icon:["fab","tumblr"],color:"#36465D",ariaLabel:"Share on Tumblr"},mix:{create:(t,e,i,s,n,o,r,a)=>new F(t,e,i,s,n,o,r,a),text:"Mix",icon:["fab","mix"],color:"#ff8226",ariaLabel:"Share on Mix"},vk:{create:(t,e,i,s,n,o,r,a)=>new T(t,e,i,s,n,o,r,a),text:"VKontakte",icon:["fab","vk"],color:"#4C75A3",ariaLabel:"Share on VKontakte"},telegram:{create:(t,e,i,s,n,o,r,a)=>new V(t,e,i,s,n,o,r,a),text:"Telegram",icon:["fab","telegram-plane"],color:"#0088cc",ariaLabel:"Share on Telegram"},messenger:{create:(t,e,i,s,n,o,r,a)=>new D(t,e,i,s,n,o,r,a),text:"Messenger",icon:["fab","facebook-messenger"],color:"#0080FF",ariaLabel:"Share on Messenger"},whatsapp:{create:(t,e,i,s,n,o,r,a)=>new L(t,e,i,s,n,o,r,a),text:"WhatsApp",icon:["fab","whatsapp"],color:"#25D366",ariaLabel:"Share on WhatsApp"},xing:{create:(t,e,i,s,n,o,r,a)=>new A(t,e,i,s,n,o,r,a),text:"Xing",icon:["fab","xing"],color:"#006567",ariaLabel:"Share on Xing"},line:{create:(t,e,i,s,n,o,r,a)=>new U(t,e,i,s,n,o,r,a),text:"Line",icon:["fab","line"],color:"#00b900",ariaLabel:"Share on Line"},sms:{create:(t,e,i,s,n,o,r,a)=>new j(t,e,i,s,n,o,r,a),text:"SMS",icon:"comment-alt",color:"#20c16c",ariaLabel:"Share link via SMS"},email:{create:(t,e,i,s,n,o,r,a)=>new M(t,e,i,s,n,o,r,a),text:"Email",icon:"envelope",color:"#FF961C",ariaLabel:"Share link via email"},print:{create:(t,e,i,s,n,o,r,a)=>new z(t,e,i,s,n,o,r,a),text:"Print",icon:"print",color:"#765AA2",ariaLabel:"Print page"},copy:{create:(t,e,i,s,n,o,r,a)=>new B(t,e,i,s,n,o,r,a),text:"Copy link",icon:"link",color:"#607D8B",ariaLabel:"Copy link",extra:{successLabel:"Copied",successIcon:"check"}}};function N(t){return t&&"object"==typeof t&&!Array.isArray(t)}let W=(()=>{class t{constructor(t){this.config={prop:H,theme:"default",include:[],exclude:[],size:0,autoSetMeta:!0,windowWidth:800,windowHeight:500,moreButtonIcon:"ellipsis-h",lessButtonIcon:"minus"},this.config$=new f.a(this.config),t&&this.setConfig(t)}get prop(){return this.config.prop}get windowSize(){return`width=${this.config.windowWidth}, height=${this.config.windowHeight}`}setConfig(t){this.config=function t(e,...i){if(!i.length)return e;const s=i.shift();if(N(e)&&N(s))for(const n in s)N(s[n])?(e[n]||Object.assign(e,{[n]:{}}),t(e[n],s[n])):Object.assign(e,{[n]:s[n]});return t(e,...i)}(this.config,t),this.config$.next(this.config)}}return t.\u0275fac=function(e){return new(e||t)(u.Zb(x,8))},t.\u0275prov=u.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t.ngInjectableDef=Object(u.S)({factory:function(){return new t(Object(u.V)(x,8))},token:t,providedIn:"root"}),t})(),$=(()=>{class t{constructor(t,e,i,s,n,o,r,a){this._meta=t,this._el=e,this._http=i,this._platform=s,this._renderer=n,this._cd=o,this._share=r,this._document=a,this._shareWindowClosed=_.a.EMPTY,this.getCount=!1,this.autoSetMeta=this._share.config.autoSetMeta,this.url=this._share.config.url,this.title=this._share.config.title,this.description=this._share.config.description,this.image=this._share.config.image,this.tags=this._share.config.tags,this.count=new u.n,this.opened=new u.n,this.closed=new u.n}share(){const t=this.autoSetMeta?{url:this.url,title:this.title||this._getMetaTagContent("og:title"),description:this.description||this._getMetaTagContent("og:description"),image:this.image||this._getMetaTagContent("og:image"),via:this._share.config.twitterAccount,tags:this.tags}:{url:this.url,title:this.title,description:this.description,image:this.image,tags:this.tags,via:this._share.config.twitterAccount};this.opened.emit(this.shareButtonName),this.shareButton.click(t).then(()=>this.closed.emit(this.shareButtonName))}ngOnChanges(t){this._platform.isBrowser&&(this._shareButtonChanged(t.shareButtonName)&&this._createShareButton(),this._urlChanged(t.url)&&(this.url=function(t,e){if(t){if(/(http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(t))return t;console.warn(`[ShareButtons]: Sharing link '${t}' is invalid!`)}return e}(this.autoSetMeta?this.url||this._getMetaTagContent("og:url"):this.url,this._document.defaultView.location.href),this.getCount&&this.shareButton.supportShareCount&&this.shareButton.shareCount(this.url).subscribe(t=>this.count.emit(t))))}ngOnDestroy(){this._shareWindowClosed.unsubscribe()}_createShareButton(){const t=this._share.config.prop[this.shareButtonName],e=t.create(t,()=>this.url,this._http,this._platform,this._document,this._share.windowSize,t=>{this.pointerEvents=t?"none":"auto",this._cd.markForCheck()},t=>this._share.config.debug?console.log(t):null);e?(this.shareButton=e,this._renderer.removeClass(this._el.nativeElement,"sb-"+this._buttonClass),this._renderer.addClass(this._el.nativeElement,"sb-"+this.shareButtonName),this._el.nativeElement.style.setProperty("--button-color",this.shareButton.color),this._buttonClass=this.shareButtonName,this._renderer.setAttribute(this._el.nativeElement,"aria-label",e.ariaLabel)):console.error(`[ShareButtons]: The share button '${this.shareButtonName}' does not exist!`)}_getMetaTagContent(t){const e=this._meta.getTag(`property="${t}"`);if(e)return e.getAttribute("content");const i=this._meta.getTag(`name="${t}"`);return i?i.getAttribute("content"):void 0}_shareButtonChanged(t){return t&&(t.firstChange||t.previousValue!==t.currentValue)}_urlChanged(t){return!this.url||t&&t.previousValue!==t.currentValue}}return t.\u0275fac=function(e){return new(e||t)(u.Pb(v.c),u.Pb(u.l),u.Pb(w.b),u.Pb(b),u.Pb(u.E),u.Pb(u.h),u.Pb(W),u.Pb(g.e))},t.\u0275dir=u.Kb({type:t,selectors:[["","shareButton",""],["","share-button",""]],hostVars:2,hostBindings:function(t,e){1&t&&u.dc("click",(function(){return e.share()})),2&t&&u.Cc("pointer-events",e.pointerEvents)},inputs:{getCount:"getCount",autoSetMeta:"autoSetMeta",url:"url",title:"title",description:"description",image:"image",tags:"tags",shareButtonName:["shareButton","shareButtonName"]},outputs:{count:"count",opened:"opened",closed:"closed"},features:[u.Ab]}),t})(),Z=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:x,useValue:e}]}}}return t.\u0275mod=u.Nb({type:t}),t.\u0275inj=u.Mb({factory:function(e){return new(e||t)},imports:[[m]]}),t})();var Y=i("sYmb");let X=(()=>{class t{constructor(t){this.modalCtrl=t}ngOnInit(){}onDismiss(){this.modalCtrl.dismiss()}}return t.\u0275fac=function(e){return new(e||t)(u.Pb(o.cb))},t.\u0275cmp=u.Jb({type:t,selectors:[["app-share"]],inputs:{url:"url"},decls:32,vars:15,consts:[[1,"ion-no-border"],["slot","end"],[3,"click"],["slot","icon-only","name","close"],[1,"ion-padding"],[1,"flex-center"],[1,"ion-margin-bottom"],[1,"ion-text-center"],[1,"text-xlarge","no-margin-top"],["width","300","src","./assets/imgs/social-share.svg",1,"ion-margin-top"],["size","4"],["shareButton","facebook","description"," ","color","fb",3,"url"],["slot","start","name","logo-facebook"],[1,"ion-text-capitalize","bold"],["shareButton","twitter","description"," ","color","twitter",3,"url"],["slot","start","name","logo-twitter"],["shareButton","whatsapp","description"," ","color","whatsapp",3,"url"],["slot","start","name","logo-whatsapp"]],template:function(t,e){1&t&&(u.Vb(0,"ion-header",0),u.Vb(1,"ion-toolbar"),u.Vb(2,"ion-buttons",1),u.Vb(3,"ion-button",2),u.dc("click",(function(){return e.onDismiss()})),u.Qb(4,"ion-icon",3),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(5,"ion-content",4),u.Vb(6,"div",5),u.Vb(7,"ion-row",6),u.Vb(8,"ion-col",7),u.Vb(9,"h3",8),u.Fc(10),u.hc(11,"translate"),u.Ub(),u.Qb(12,"img",9),u.Ub(),u.Ub(),u.Vb(13,"ion-row"),u.Vb(14,"ion-col",10),u.Vb(15,"ion-button",11),u.Qb(16,"ion-icon",12),u.Vb(17,"span",13),u.Fc(18),u.hc(19,"translate"),u.Ub(),u.Ub(),u.Ub(),u.Vb(20,"ion-col",10),u.Vb(21,"ion-button",14),u.Qb(22,"ion-icon",15),u.Vb(23,"span",13),u.Fc(24),u.hc(25,"translate"),u.Ub(),u.Ub(),u.Ub(),u.Vb(26,"ion-col",10),u.Vb(27,"ion-button",16),u.Qb(28,"ion-icon",17),u.Vb(29,"span",13),u.Fc(30),u.hc(31,"translate"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub()),2&t&&(u.Cb(10),u.Gc(u.ic(11,7,"SHARE_THIS")),u.Cb(5),u.mc("url",e.url),u.Cb(3),u.Hc(" ",u.ic(19,9,"SHARE")," "),u.Cb(3),u.mc("url",e.url),u.Cb(3),u.Hc(" ",u.ic(25,11,"SHARE")," "),u.Cb(3),u.mc("url",e.url),u.Cb(3),u.Hc(" ",u.ic(31,13,"SHARE")," "))},directives:[o.s,o.Y,o.k,o.j,o.t,o.p,o.J,o.o,$],pipes:[Y.c],styles:[""]}),t})();var Q=i("XNiG"),G=i("VRyK"),q=i("oV1I"),J=i("R0Ic"),K=i("LRne"),tt=i("EY2u"),et=i("xgIS"),it=i("yCtX"),st=i("DH7j"),nt=i("7o/Q"),ot=i("l7GE"),rt=i("ZUHj"),at=i("Lhse");class ct{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new lt(t,this.resultSelector))}}class lt extends nt.a{constructor(t,e,i=Object.create(null)){super(t),this.iterators=[],this.active=0,this.resultSelector="function"==typeof e?e:null,this.values=i}_next(t){const e=this.iterators;Object(st.a)(t)?e.push(new dt(t)):e.push("function"==typeof t[at.a]?new ht(t[at.a]()):new ut(this.destination,this,t))}_complete(){const t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(let i=0;i<e;i++){let e=t[i];e.stillUnsubscribed?this.destination.add(e.subscribe(e,i)):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const t=this.iterators,e=t.length,i=this.destination;for(let o=0;o<e;o++){let e=t[o];if("function"==typeof e.hasValue&&!e.hasValue())return}let s=!1;const n=[];for(let o=0;o<e;o++){let e=t[o],r=e.next();if(e.hasCompleted()&&(s=!0),r.done)return void i.complete();n.push(r.value)}this.resultSelector?this._tryresultSelector(n):i.next(n),s&&i.complete()}_tryresultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}class ht{constructor(t){this.iterator=t,this.nextResult=t.next()}hasValue(){return!0}next(){const t=this.nextResult;return this.nextResult=this.iterator.next(),t}hasCompleted(){const t=this.nextResult;return t&&t.done}}class dt{constructor(t){this.array=t,this.index=0,this.length=0,this.length=t.length}[at.a](){return this}next(t){const e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class ut extends ot.a{constructor(t,e,i){super(t),this.parent=e,this.observable=i,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[at.a](){return this}next(){const t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(t,e,i,s,n){this.buffer.push(e),this.parent.checkIterators()}subscribe(t,e){return Object(rt.a)(this,this.observable,this,e)}}var gt=i("pLZG"),pt=i("eIep"),bt=i("3E0/"),mt=i("vkgz"),ft=i("D0XW");function _t(t,e=ft.a){return i=>i.lift(new yt(t,e))}class yt{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new vt(t,this.dueTime,this.scheduler))}}class vt extends nt.a{constructor(t,e,i){super(t),this.dueTime=e,this.scheduler=i,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(wt,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function wt(t){t.debouncedNext()}var xt=i("JIr8"),Ct=i("JX91");const kt=["*"],St=["iframe"];function Ot(t,e){if(1&t&&u.Qb(0,"div",4),2&t){const t=u.gc();u.Cc("background-image",t.imageUrl,u.Ib),u.mc("@fadeIn",void 0)}}function It(t,e){if(1&t&&u.Qb(0,"div",8),2&t){const t=u.gc(2);u.mc("innerHTML",t.errorTemplate,u.xc)}}function Pt(t,e){1&t&&(u.Tb(0),u.Vb(1,"h4"),u.Fc(2,"\u26a0"),u.Ub(),u.Sb())}function Et(t,e){1&t&&(u.Vb(0,"h2"),u.Fc(1,"\u26a0"),u.Ub(),u.Vb(2,"p"),u.Fc(3,"Unable to load the image!"),u.Ub())}function Rt(t,e){if(1&t&&(u.Dc(0,Pt,3,0,"ng-container",9),u.Dc(1,Et,4,0,"ng-template",null,10,u.Ec)),2&t){const t=u.uc(2),e=u.gc(2);u.mc("ngIf",e.isThumbnail)("ngIfElse",t)}}function Tt(t,e){if(1&t&&(u.Vb(0,"div",5),u.Dc(1,It,1,1,"div",6),u.Dc(2,Rt,3,2,"ng-template",null,7,u.Ec),u.Ub()),2&t){const t=u.uc(3),e=u.gc();u.Cb(1),u.mc("ngIf",e.errorTemplate)("ngIfElse",t)}}function Vt(t,e){if(1&t&&u.Qb(0,"div",13),2&t){const t=u.gc(2);u.mc("innerHTML",t.loaderTemplate,u.xc)}}function Dt(t,e){1&t&&u.Qb(0,"div",16)}function Lt(t,e){if(1&t&&u.Qb(0,"radial-progress",17),2&t){const t=u.gc(3);u.mc("value",t.progress)("mode",t.mode)}}function At(t,e){if(1&t&&(u.Dc(0,Dt,1,0,"div",14),u.Dc(1,Lt,1,2,"ng-template",null,15,u.Ec)),2&t){const t=u.uc(2),e=u.gc(2);u.mc("ngIf",e.isThumbnail)("ngIfElse",t)}}function jt(t,e){if(1&t&&(u.Tb(0),u.Dc(1,Vt,1,1,"div",11),u.Dc(2,At,3,2,"ng-template",null,12,u.Ec),u.Sb()),2&t){const t=u.uc(3),e=u.gc();u.Cb(1),u.mc("ngIf",e.loaderTemplate)("ngIfElse",t)}}const Mt=["video"];function zt(t,e){if(1&t&&u.Qb(0,"source",3),2&t){const t=e.$implicit;u.nc("src",null==t?null:t.url,u.zc),u.nc("type",null==t?null:t.type)}}function Bt(t,e){if(1&t){const t=u.Wb();u.Vb(0,"i",2),u.dc("tapClick",(function(){return u.wc(t),u.gc().action.emit("prev")})),u.Ub()}if(2&t){const t=u.gc();u.mc("innerHtml",t.navIcon,u.xc)}}function Ft(t,e){if(1&t){const t=u.Wb();u.Vb(0,"i",3),u.dc("tapClick",(function(){return u.wc(t),u.gc().action.emit("next")})),u.Ub()}if(2&t){const t=u.gc();u.mc("innerHtml",t.navIcon,u.xc)}}function Ut(t,e){if(1&t){const t=u.Wb();u.Vb(0,"gallery-thumbs",5),u.dc("action",(function(e){return u.wc(t),u.gc().action.emit(e)}))("thumbClick",(function(e){return u.wc(t),u.gc().thumbClick.emit(e)})),u.Ub()}if(2&t){const t=u.gc();u.mc("state",t.state)("config",t.config)}}function Ht(t,e){if(1&t){const t=u.Wb();u.Vb(0,"gallery-nav",6),u.dc("action",(function(e){return u.wc(t),u.gc().action.emit(e)})),u.Ub()}if(2&t){const t=u.gc();u.mc("state",t.state)("config",t.config)}}function Nt(t,e){if(1&t){const t=u.Wb();u.Vb(0,"gallery-dots",6),u.dc("action",(function(e){return u.wc(t),u.gc().action.emit(e)})),u.Ub()}if(2&t){const t=u.gc();u.mc("state",t.state)("config",t.config)}}function Wt(t,e){if(1&t&&u.Qb(0,"gallery-counter",7),2&t){const t=u.gc();u.mc("state",t.state)}}function $t(t,e){if(1&t){const t=u.Wb();u.Vb(0,"div",1),u.dc("tapClick",(function(){u.wc(t);const i=e.index;return u.gc().action.emit(i)})),u.Qb(1,"div",2),u.Ub()}if(2&t){const t=e.index,i=u.gc();u.Cc("width",null==i.config?null:i.config.dotsSize,"px")("height",null==i.config?null:i.config.dotsSize,"px"),u.Fb("g-dot-active",t===i.state.currIndex)}}function Zt(t,e){if(1&t){const t=u.Wb();u.Vb(0,"gallery-thumb",4),u.dc("tapClick",(function(){u.wc(t);const i=e.index;return u.gc(2).thumbClick.emit(i)}))("error",(function(i){u.wc(t);const s=e.index;return u.gc(2).error.emit({itemIndex:s,error:i})})),u.Ub()}if(2&t){const t=e.$implicit,i=e.index,s=u.gc(2);u.mc("type",t.type)("config",s.config)("data",t.data)("currIndex",s.state.currIndex)("index",i)("tapClickDisabled",s.config.disableThumb)}}function Yt(t,e){if(1&t&&(u.Vb(0,"div",1),u.Vb(1,"div",2),u.Dc(2,Zt,1,6,"gallery-thumb",3),u.Ub(),u.Ub()),2&t){const t=e.$implicit,i=u.gc();u.Cb(1),u.Fb("g-no-transition",t.active),u.mc("ngStyle",t.style),u.Cb(1),u.mc("ngForOf",i.state.items)}}function Xt(t,e){if(1&t){const t=u.Wb();u.Vb(0,"gallery-item",4),u.dc("tapClick",(function(){u.wc(t);const i=e.index;return u.gc(2).itemClick.emit(i)}))("error",(function(i){u.wc(t);const s=e.index;return u.gc(2).error.emit({itemIndex:s,error:i})})),u.Ub()}if(2&t){const t=e.$implicit,i=e.index,s=u.gc(2);u.mc("type",t.type)("config",s.config)("data",t.data)("currIndex",s.state.currIndex)("index",i)}}function Qt(t,e){if(1&t&&(u.Vb(0,"div",1),u.Vb(1,"div",2),u.Dc(2,Xt,1,5,"gallery-item",3),u.Ub(),u.Ub()),2&t){const t=e.$implicit,i=u.gc();u.mc("ngStyle",i.zoom),u.Cb(1),u.Fb("g-no-transition",t.active),u.mc("ngStyle",t.style),u.Cb(1),u.mc("ngForOf",i.state.items)}}function Gt(t,e){1&t&&u.Rb(0)}const qt=function(t,e,i,s){return{index:t,currIndex:e,type:i,data:s}};function Jt(t,e){if(1&t){const t=u.Wb();u.Tb(0),u.Vb(1,"gallery-image",7),u.dc("error",(function(e){return u.wc(t),u.gc(2).error.emit(e)})),u.Ub(),u.Vb(2,"div",8),u.Dc(3,Gt,1,0,"ng-container",9),u.Ub(),u.Sb()}if(2&t){const t=u.gc(2);u.Cb(1),u.mc("src",t.data.src)("mode",t.config.loadingMode)("loadingIcon",t.config.loadingIcon)("loadingError",t.config.loadingError),u.Cb(2),u.mc("ngTemplateOutlet",t.config.itemTemplate)("ngTemplateOutletContext",u.sc(6,qt,t.index,t.currIndex,t.type,t.data))}}function Kt(t,e){if(1&t){const t=u.Wb();u.Vb(0,"gallery-video",10),u.dc("error",(function(e){return u.wc(t),u.gc(2).error.emit(e)})),u.Ub()}if(2&t){const t=u.gc(2);u.mc("src",t.data.src)("poster",t.data.poster)("pause",t.currIndex!==t.index)}}function te(t,e){if(1&t&&u.Qb(0,"gallery-iframe",11),2&t){const t=u.gc(2);u.mc("src",t.data.src)("pause",t.currIndex!==t.index)}}function ee(t,e){if(1&t&&u.Qb(0,"gallery-iframe",12),2&t){const t=u.gc(2);u.mc("src",t.data.src)}}function ie(t,e){1&t&&u.Rb(0)}function se(t,e){if(1&t&&(u.Tb(0),u.Vb(1,"div",8),u.Dc(2,ie,1,0,"ng-container",9),u.Ub(),u.Sb()),2&t){const t=u.gc(2);u.Cb(2),u.mc("ngTemplateOutlet",t.config.itemTemplate)("ngTemplateOutletContext",u.sc(2,qt,t.index,t.currIndex,t.type,t.data))}}function ne(t,e){if(1&t&&(u.Tb(0,1),u.Dc(1,Jt,4,11,"ng-container",2),u.Dc(2,Kt,1,3,"gallery-video",3),u.Dc(3,te,1,2,"gallery-iframe",4),u.Dc(4,ee,1,1,"gallery-iframe",5),u.Dc(5,se,3,7,"ng-container",6),u.Sb()),2&t){const t=u.gc();u.mc("ngSwitch",t.type),u.Cb(1),u.mc("ngSwitchCase",t.Types.Image),u.Cb(1),u.mc("ngSwitchCase",t.Types.Video),u.Cb(1),u.mc("ngSwitchCase",t.Types.Youtube),u.Cb(1),u.mc("ngSwitchCase",t.Types.Iframe)}}function oe(t,e){1&t&&u.Rb(0)}const re=function(t,e,i){return{index:t,type:e,data:i}};function ae(t,e){if(1&t&&(u.Vb(0,"div",2),u.Dc(1,oe,1,0,"ng-container",3),u.Ub()),2&t){const t=u.gc();u.Cb(1),u.mc("ngTemplateOutlet",t.config.thumbTemplate)("ngTemplateOutletContext",u.rc(2,re,t.index,t.type,t.data))}}const ce={Image:"image",Video:"video",Youtube:"youtube",Iframe:"iframe"},le={action:"initialized",isPlaying:!1,hasNext:!1,hasPrev:!1,currIndex:0,items:[]},he={nav:!0,loop:!0,zoomOut:0,dots:!1,thumb:!0,dotsSize:30,counter:!0,gestures:!0,autoPlay:!1,thumbWidth:120,thumbHeight:90,panSensitivity:25,disableThumb:!1,playerInterval:3e3,imageSize:"contain",thumbMode:"strict",dotsPosition:"bottom",counterPosition:"top",thumbPosition:"bottom",loadingMode:"determinate",loadingStrategy:"default",slidingDirection:"horizontal",navIcon:'<?xml version="1.0" encoding="UTF-8"?><svg width="512px" height="512px" enable-background="new 0 0 240.823 240.823" version="1.1" viewBox="0 0 240.823 240.823" xml:space="preserve" xmlns="http://www.w3.org/2000/svg"><path d="m183.19 111.82l-108.3-108.26c-4.752-4.74-12.451-4.74-17.215 0-4.752 4.74-4.752 12.439 0 17.179l99.707 99.671-99.695 99.671c-4.752 4.74-4.752 12.439 0 17.191 4.752 4.74 12.463 4.74 17.215 0l108.3-108.26c4.68-4.691 4.68-12.511-0.012-17.19z" fill="#fff"/></svg>'};class de{constructor(t){this.data=t,this.type=ce.Image}}class ue{constructor(t){this.data=t,this.type=ce.Video}}class ge{constructor(t){this.data=t,this.type=ce.Iframe}}class pe{constructor(t){this.data={src:`//youtube.com/embed/${t.src}?wmode=transparent`,thumb:t.thumb?t.thumb:`//img.youtube.com/vi/${t.src}/default.jpg`},this.type=ce.Youtube}}const be=t=>Object(gt.a)(e=>t.indexOf(e.action)>-1);class me{constructor(t,e){this.deleteInstance=e,this.itemClick=new Q.a,this.thumbClick=new Q.a,this.error=new Q.a,this._state=new f.a(le),this._config=new f.a(t),this.state=this._state.asObservable(),this.config=this._config.asObservable()}get initialized(){return this.state.pipe(be(["initialized"]))}get itemsChanged(){return this.state.pipe(be(["itemsChanged"]))}get indexChanged(){return this.state.pipe(be(["indexChanged"]))}get playingChanged(){return this.state.pipe(be(["play","stop"]))}get playerActions(){return this.state.pipe(be(["play","stop","indexChanged"]))}activatePlayer(){return this.playerActions.pipe(Object(pt.a)(t=>t.isPlaying?Object(K.a)({}).pipe(Object(bt.a)(this._config.value.playerInterval),Object(mt.a)(()=>this.next())):tt.a))}setState(t){this._state.next(Object.assign({},this._state.value,t))}setConfig(t){this._config.next(Object.assign({},this._config.value,t))}add(t,e){const i=[...this._state.value.items,t];this.setState({action:"itemsChanged",items:i,hasNext:i.length>1,currIndex:e?i.length-1:this._state.value.currIndex})}addImage(t,e){this.add(new de(t),e)}addVideo(t,e){this.add(new ue(t),e)}addIframe(t,e){this.add(new ge(t),e)}addYoutube(t,e){this.add(new pe(t),e)}remove(t){const e=[...this._state.value.items.slice(0,t),...this._state.value.items.slice(t+1,this._state.value.items.length)];this.setState({action:"itemsChanged",items:e,hasNext:e.length>1,hasPrev:t>0})}load(t){t&&this.setState({action:"itemsChanged",items:t,hasNext:t.length>1,hasPrev:!1})}set(t){t!==this._state.value.currIndex&&this.setState({action:"indexChanged",currIndex:t,hasNext:t<this._state.value.items.length-1,hasPrev:t>0})}next(){this._state.value.hasNext?this.set(this._state.value.currIndex+1):this._config.value.loop&&this.set(0)}prev(){this._state.value.hasPrev?this.set(this._state.value.currIndex-1):this._config.value.loop&&this.set(this._state.value.items.length-1)}play(t){t&&this.setConfig({playerInterval:t}),this.setState({action:"play",isPlaying:!0})}stop(){this.setState({action:"stop",isPlaying:!1})}reset(){this.setState(le)}destroy(){this._state.complete(),this._config.complete(),this.itemClick.complete(),this.thumbClick.complete(),this.deleteInstance()}}const fe=new u.q("galleryConfig");let _e=(()=>{class t{constructor(t){this._instances=new Map,this.config=t?Object.assign({},he,t):he}ref(t="root",e){if(this._instances.has(t)){const i=this._instances.get(t);return e&&i.setConfig(Object.assign({},this.config,e)),i}return this._instances.set(t,new me(Object.assign({},this.config,e),this.deleteInstance(t))).get(t)}destroyAll(){this._instances.forEach(t=>t.destroy())}resetAll(){this._instances.forEach(t=>t.reset())}deleteInstance(t){return()=>{this._instances.has(t)&&this._instances.delete(t)}}}return t.\u0275fac=function(e){return new(e||t)(u.Zb(fe,8))},t.\u0275prov=u.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t.ngInjectableDef=Object(u.S)({factory:function(){return new t(Object(u.V)(fe,8))},token:t,providedIn:"root"}),t})(),ye=(()=>{class t{constructor(t){this._gallery=t,this.nav=this._gallery.config.nav,this.dots=this._gallery.config.dots,this.loop=this._gallery.config.loop,this.thumb=this._gallery.config.thumb,this.zoomOut=this._gallery.config.zoomOut,this.counter=this._gallery.config.counter,this.dotsSize=this._gallery.config.dotsSize,this.autoPlay=this._gallery.config.autoPlay,this.gestures=this._gallery.config.gestures,this.thumbWidth=this._gallery.config.thumbWidth,this.thumbHeight=this._gallery.config.thumbHeight,this.disableThumb=this._gallery.config.disableThumb,this.panSensitivity=this._gallery.config.panSensitivity,this.playerInterval=this._gallery.config.playerInterval,this.itemTemplate=this._gallery.config.itemTemplate,this.thumbTemplate=this._gallery.config.thumbTemplate,this.thumbMode=this._gallery.config.thumbMode,this.imageSize=this._gallery.config.imageSize,this.dotsPosition=this._gallery.config.dotsPosition,this.counterPosition=this._gallery.config.counterPosition,this.slidingDirection=this._gallery.config.slidingDirection,this.loadingMode=this._gallery.config.loadingMode,this.loadingStrategy=this._gallery.config.loadingStrategy,this.thumbPosition=this._gallery.config.thumbPosition,this.destroyRef=!0,this.skipInitConfig=!1,this.itemClick=new u.n,this.thumbClick=new u.n,this.playingChange=new u.n,this.indexChange=new u.n,this.itemsChange=new u.n,this.error=new u.n,this._itemClick$=_.a.EMPTY,this._thumbClick$=_.a.EMPTY,this._itemChange$=_.a.EMPTY,this._indexChange$=_.a.EMPTY,this._playingChange$=_.a.EMPTY,this._playerListener$=_.a.EMPTY}getConfig(){return{nav:this.nav,dots:this.dots,loop:this.loop,thumb:this.thumb,zoomOut:this.zoomOut,counter:this.counter,autoPlay:this.autoPlay,gestures:this.gestures,dotsSize:this.dotsSize,imageSize:this.imageSize,thumbMode:this.thumbMode,thumbWidth:this.thumbWidth,thumbHeight:this.thumbHeight,loadingMode:this.loadingMode,disableThumb:this.disableThumb,dotsPosition:this.dotsPosition,itemTemplate:this.itemTemplate,thumbTemplate:this.thumbTemplate,thumbPosition:this.thumbPosition,panSensitivity:this.panSensitivity,playerInterval:this.playerInterval,counterPosition:this.counterPosition,loadingStrategy:this.loadingStrategy,slidingDirection:this.slidingDirection}}onAction(t){switch(t){case"next":this.galleryRef.next();break;case"prev":this.galleryRef.prev();break;default:this.galleryRef.set(t)}}ngOnChanges(t){this.galleryRef&&(this.galleryRef.setConfig(this.getConfig()),t.items&&t.items.currentValue!==t.items.previousValue&&this.load(this.items))}ngOnInit(){this.galleryRef=this.skipInitConfig?this._gallery.ref(this.id):this._gallery.ref(this.id,this.getConfig()),this.load(this.items),this._playerListener$=this.galleryRef.activatePlayer().subscribe(),this.indexChange.observers.length&&(this._indexChange$=this.galleryRef.indexChanged.subscribe(t=>this.indexChange.emit(t))),this.itemsChange.observers.length&&(this._itemChange$=this.galleryRef.itemsChanged.subscribe(t=>this.itemsChange.emit(t))),this.playingChange.observers.length&&(this._playingChange$=this.galleryRef.playingChanged.subscribe(t=>this.playingChange.emit(t))),this.autoPlay&&this.play()}ngOnDestroy(){this._itemClick$.unsubscribe(),this._thumbClick$.unsubscribe(),this._itemChange$.unsubscribe(),this._indexChange$.unsubscribe(),this._playingChange$.unsubscribe(),this._playerListener$.unsubscribe(),this.destroyRef&&this.galleryRef.destroy()}onItemClick(t){this.itemClick.emit(t),this.galleryRef.itemClick.next(t)}onThumbClick(t){this.galleryRef.set(t),this.thumbClick.emit(t),this.galleryRef.thumbClick.next(t)}onError(t){this.error.emit(t),this.galleryRef.error.next(t)}load(t){this.galleryRef.load(t)}add(t,e){this.galleryRef.add(t,e)}addImage(t,e){this.add(new de(t),e)}addVideo(t,e){this.add(new ue(t),e)}addIframe(t,e){this.add(new ge(t),e)}addYoutube(t,e){this.add(new pe(t),e)}remove(t){this.galleryRef.remove(t)}next(){this.galleryRef.next()}prev(){this.galleryRef.prev()}set(t){this.galleryRef.set(t)}reset(){this.galleryRef.reset()}play(t){this.galleryRef.play(t)}stop(){this.galleryRef.stop()}}return t.\u0275fac=function(e){return new(e||t)(u.Pb(_e))},t.\u0275cmp=u.Jb({type:t,selectors:[["gallery"]],inputs:{nav:"nav",dots:"dots",loop:"loop",thumb:"thumb",zoomOut:"zoomOut",counter:"counter",dotsSize:"dotsSize",autoPlay:"autoPlay",gestures:"gestures",thumbWidth:"thumbWidth",thumbHeight:"thumbHeight",disableThumb:"disableThumb",panSensitivity:"panSensitivity",playerInterval:"playerInterval",itemTemplate:"itemTemplate",thumbTemplate:"thumbTemplate",thumbMode:"thumbMode",imageSize:"imageSize",dotsPosition:"dotsPosition",counterPosition:"counterPosition",slidingDirection:"slidingDirection",loadingMode:"loadingMode",loadingStrategy:"loadingStrategy",thumbPosition:"thumbPosition",destroyRef:"destroyRef",skipInitConfig:"skipInitConfig",id:"id",items:"items"},outputs:{itemClick:"itemClick",thumbClick:"thumbClick",playingChange:"playingChange",indexChange:"indexChange",itemsChange:"itemsChange",error:"error"},features:[u.Ab],ngContentSelectors:kt,decls:4,vars:6,consts:[[3,"state","config","action","itemClick","thumbClick","error"]],template:function(t,e){1&t&&(u.lc(),u.Vb(0,"gallery-core",0),u.dc("action",(function(t){return e.onAction(t)}))("itemClick",(function(t){return e.onItemClick(t)}))("thumbClick",(function(t){return e.onThumbClick(t)}))("error",(function(t){return e.onError(t)})),u.hc(1,"async"),u.hc(2,"async"),u.Ub(),u.kc(3)),2&t&&u.mc("state",u.ic(1,2,e.galleryRef.state))("config",u.ic(2,4,e.galleryRef.config))},directives:function(){return[ke]},pipes:function(){return[g.b]},styles:['gallery-core[dotsPosition=top] gallery-dots{top:0}  gallery-core[dotsPosition=bottom] gallery-dots{bottom:0}  gallery-dots{margin:7px;position:absolute;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}  .g-dot{cursor:pointer;z-index:20}  .g-dot:hover .g-dot-inner{opacity:1}  .g-dot-active .g-dot-inner{opacity:1;-webkit-transform:scale(1.5)!important;transform:scale(1.5)!important}  .g-dot-inner{background-color:#fff;opacity:.6;width:30%;height:30%;border-radius:50%;box-shadow:0 0 1px #000;transition:.2s}  .g-dot,   .g-dot-inner,   gallery-dots{display:flex;justify-content:center;align-items:center}  .g-nav-next,   .g-nav-prev{position:absolute;top:50%;width:30px;height:40px;cursor:pointer;z-index:999}  .g-nav-next{right:.5em;-webkit-transform:translateY(-50%) perspective(1px);transform:translateY(-50%) perspective(1px)}  .g-nav-prev{left:.5em;-webkit-transform:translateY(-50%) perspective(1px) scale(-1,-1);transform:translateY(-50%) perspective(1px) scale(-1,-1)}@media only screen and (max-width:480px){  .g-nav-next{right:.2em}  .g-nav-prev{left:.2em}}  .g-items-container{height:100%}  .g-slider{position:absolute;transition:transform .4s cubic-bezier(.5,0,.5,1);transition:transform .4s cubic-bezier(.5,0,.5,1),-webkit-transform .4s cubic-bezier(.5,0,.5,1)}  gallery-core[slidingDirection=horizontal] .g-slider{flex-direction:row}  gallery-core[slidingDirection=vertical] .g-slider{flex-direction:column}  gallery-thumbs{display:block;z-index:1;overflow:unset}  .g-thumbs-container{position:relative;z-index:206;width:100%;height:100%;left:0;top:0;display:flex;overflow:unset}  gallery-core[disableThumb=true] gallery-thumb{cursor:default}  gallery-core[thumbPosition=bottom] gallery-thumbs .g-slider,   gallery-core[thumbPosition=top] gallery-thumbs .g-slider{flex-direction:row;top:0;left:50%}  gallery-core[thumbPosition=bottom] gallery-thumb,   gallery-core[thumbPosition=top] gallery-thumb{padding:1px 0 1px 1px}  gallery-core[thumbPosition=left] gallery-thumbs .g-slider,   gallery-core[thumbPosition=right] gallery-thumbs .g-slider{flex-direction:column;top:50%;left:0}  gallery-core[thumbPosition=left] gallery-thumb,   gallery-core[thumbPosition=right] gallery-thumb{padding:0 1px 1px}  gallery-core[thumbPosition=top]{flex-direction:column}  gallery-core[thumbPosition=left]{flex-direction:row}  gallery-core[thumbPosition=right]{flex-direction:row-reverse}  gallery-core[thumbPosition=bottom]{flex-direction:column-reverse}  gallery-thumb.g-active-thumb .g-thumb-loading{background-color:#464646}  .g-thumb-loading{position:relative;overflow:hidden;height:100%;background-color:#262626}  .g-thumb-loading::before{content:"";position:absolute;top:0;right:0;bottom:0;left:50%;z-index:1;width:500%;margin-left:-250%;-webkit-animation:.8s linear infinite phAnimation;animation:.8s linear infinite phAnimation;background:linear-gradient(to right,rgba(255,255,255,0) 46%,rgba(255,255,255,.35) 50%,rgba(255,255,255,0) 54%) 50% 50%}@-webkit-keyframes phAnimation{0%{-webkit-transform:translate3d(-30%,0,0);transform:translate3d(-30%,0,0)}100%{-webkit-transform:translate3d(30%,0,0);transform:translate3d(30%,0,0)}}@keyframes phAnimation{0%{-webkit-transform:translate3d(-30%,0,0);transform:translate3d(-30%,0,0)}100%{-webkit-transform:translate3d(30%,0,0);transform:translate3d(30%,0,0)}}  gallery-core[counterPosition=top] .g-counter{top:0;border-bottom-left-radius:4px;border-bottom-right-radius:4px}  gallery-core[counterPosition=bottom] .g-counter{bottom:0;border-top-left-radius:4px;border-top-right-radius:4px}  .g-counter{z-index:50;position:absolute;left:50%;-webkit-transform:translateX(-50%) perspective(1px);transform:translateX(-50%) perspective(1px);font-size:12px;padding:4px 10px;color:#fff;background-color:rgba(0,0,0,.5)}  gallery[gallerize] gallery-item{cursor:pointer}  gallery-item,   gallery-thumb{position:relative;height:100%;width:100%;display:block;overflow:hidden}  gallery-item h2,   gallery-item h4,   gallery-thumb h2,   gallery-thumb h4{color:coral;margin:0}  gallery-item h2,   gallery-thumb h2{font-size:3.5em;margin-bottom:.3em}  gallery-item h4,   gallery-thumb h4{font-size:1.6em}  gallery-item{z-index:10}  gallery-item iframe,   gallery-item video{position:absolute;width:100%;height:100%}  gallery-thumb{opacity:.5;cursor:pointer;transition:opacity .3s cubic-bezier(.5,0,.5,1)}  gallery-thumb.g-active-thumb{opacity:1}  .g-image-item{background-position:center center;background-repeat:no-repeat;background-size:cover;width:100%;height:100%}  .g-image-error-message,   .g-loading,   .g-template{position:absolute;z-index:10;left:0;top:0;right:0;bottom:0;color:#fff;display:flex;align-items:center;justify-content:center;flex-direction:column}  gallery-core[imageSize=contain] gallery-slider .g-image-item{background-size:contain}  gallery-image{display:flex;justify-content:center;align-items:center;height:100%}  gallery{position:relative;z-index:1;overflow:hidden;display:block;height:500px;background-color:#000}  gallery *{box-sizing:border-box}  gallery,   gallery-core{position:relative;overflow:hidden}  .g-box,   .g-slider,   gallery-core{display:flex;height:100%;width:100%}  gallery[fluid]{-webkit-transform:translateX(-50vw);transform:translateX(-50vw);width:100vw;left:50%}  gallery[fluid][fluid=false]{-webkit-transform:none;transform:none;width:initial;left:initial}  .g-no-transition{transition:unset!important}  .g-box,   gallery-slider{overflow:hidden;position:relative;display:flex;flex-direction:column;flex:1;order:1;height:100%}  .g-btn-close svg,   gallery-nav svg{width:100%;height:100%;-webkit-filter:drop-shadow(0 0 1px #000);filter:drop-shadow(0 0 1px #000);transition:opacity .2s linear;opacity:.6}  .g-btn-close svg:hover,   gallery-nav svg:hover{opacity:1}@-webkit-keyframes stroke-rotate{0%{-webkit-transform:rotate(0);transform:rotate(0)}25%{-webkit-transform:rotate(1170deg);transform:rotate(1170deg)}50%{-webkit-transform:rotate(2340deg);transform:rotate(2340deg)}75%{-webkit-transform:rotate(3510deg);transform:rotate(3510deg)}100%{-webkit-transform:rotate(4680deg);transform:rotate(4680deg)}}@keyframes stroke-rotate{0%{-webkit-transform:rotate(0);transform:rotate(0)}25%{-webkit-transform:rotate(1170deg);transform:rotate(1170deg)}50%{-webkit-transform:rotate(2340deg);transform:rotate(2340deg)}75%{-webkit-transform:rotate(3510deg);transform:rotate(3510deg)}100%{-webkit-transform:rotate(4680deg);transform:rotate(4680deg)}}  radial-progress{display:block;position:relative}  radial-progress svg{position:absolute;-webkit-transform:rotate(-90deg);transform:rotate(-90deg);top:0;left:0;-webkit-transform-origin:center;transform-origin:center;overflow:visible}  radial-progress circle{-webkit-transform-origin:center;transform-origin:center;stroke:#fff}  radial-progress .radial-progress-meter,   radial-progress .radial-progress-value{fill:none}  radial-progress .radial-progress-meter{opacity:.3}  radial-progress .radial-progress-value{transition:.2s linear;stroke-linecap:round}  radial-progress[mode=indeterminate] svg{-webkit-animation:7s cubic-bezier(.87,.03,.33,1) infinite stroke-rotate;animation:7s cubic-bezier(.87,.03,.33,1) infinite stroke-rotate}'],changeDetection:0}),t})(),ve=(()=>{class t{constructor(t){this._sanitizer=t}set pauseVideo(t){const e=this.iframe.nativeElement;t&&(e.src=e.src)}ngOnInit(){this.iframeSrc=this._sanitizer.bypassSecurityTrustResourceUrl(this.src)}}return t.\u0275fac=function(e){return new(e||t)(u.Pb(v.b))},t.\u0275cmp=u.Jb({type:t,selectors:[["gallery-iframe"]],viewQuery:function(t,e){var i;1&t&&u.Lc(St,!0),2&t&&u.tc(i=u.ec())&&(e.iframe=i.first)},inputs:{pauseVideo:["pause","pauseVideo"],src:"src"},decls:2,vars:1,consts:[["frameborder","0","allowfullscreen","",3,"src"],["iframe",""]],template:function(t,e){1&t&&u.Qb(0,"iframe",0,1),2&t&&u.mc("src",e.iframeSrc,u.yc)},encapsulation:2,changeDetection:0}),t})(),we=(()=>{class t{constructor(t){this._sanitizer=t,this._state=new f.a("loading"),this.state=this._state.asObservable(),this.progress=0,this.mode="determinate",this.error=new u.n}get imageLoadSuccess(){return!!this.imageUrl}get imageLoadFailed(){return!!this.loadError}ngOnInit(){this.loadingIcon&&(this.loaderTemplate=this._sanitizer.bypassSecurityTrustHtml(this.loadingIcon)),this.loadingError&&(this.errorTemplate=this._sanitizer.bypassSecurityTrustHtml(this.loadingError))}ngOnDestroy(){this._state.complete()}onProgress({loaded:t,total:e}){this.progress=100*t/e}onLoaded(t){this.imageUrl=this._sanitizer.bypassSecurityTrustStyle(`url(${t})`),this._state.next("success")}onError(t){this.loadError=t,this._state.next("failed"),this.error.emit(t)}}return t.\u0275fac=function(e){return new(e||t)(u.Pb(v.b))},t.\u0275cmp=u.Jb({type:t,selectors:[["gallery-image"]],hostVars:4,hostBindings:function(t,e){2&t&&u.Fb("g-image-loaded",e.imageLoadSuccess)("g-image-error",e.imageLoadFailed)},inputs:{mode:"mode",isThumbnail:"isThumbnail",src:"src",loadingIcon:"loadingIcon",loadingError:"loadingError"},outputs:{error:"error"},decls:5,vars:8,consts:[[3,"lazyImage","mode","ngSwitch","progress","loaded","error"],["class","g-image-item",3,"backgroundImage",4,"ngSwitchCase"],["class","g-image-error-message",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"g-image-item"],[1,"g-image-error-message"],[3,"innerHTML",4,"ngIf","ngIfElse"],["defaultError",""],[3,"innerHTML"],[4,"ngIf","ngIfElse"],["isLarge",""],["class","g-loading",3,"innerHTML",4,"ngIf","ngIfElse"],["defaultLoader",""],[1,"g-loading",3,"innerHTML"],["class","g-thumb-loading",4,"ngIf","ngIfElse"],["progressLoader",""],[1,"g-thumb-loading"],[3,"value","mode"]],template:function(t,e){1&t&&(u.Tb(0,0),u.dc("progress",(function(t){return e.onProgress(t)}))("loaded",(function(t){return e.onLoaded(t)}))("error",(function(t){return e.onError(t)})),u.hc(1,"async"),u.Dc(2,Ot,1,3,"div",1),u.Dc(3,Tt,4,2,"div",2),u.Dc(4,jt,4,2,"ng-container",3),u.Sb()),2&t&&(u.mc("lazyImage",e.src)("mode",e.mode)("ngSwitch",u.ic(1,6,e.state)),u.Cb(2),u.mc("ngSwitchCase","success"),u.Cb(1),u.mc("ngSwitchCase","failed"),u.Cb(1),u.mc("ngSwitchCase","loading"))},directives:function(){return[Ve,g.n,g.o,g.l,Te]},pipes:function(){return[g.b]},encapsulation:2,data:{animation:[Object(J.l)("fadeIn",[Object(J.k)(":enter",[Object(J.j)({opacity:0}),Object(J.e)("300ms ease-in",Object(J.j)({opacity:1}))])])]},changeDetection:0}),t})(),xe=(()=>{class t{constructor(){this.error=new u.n}set pauseVideo(t){const e=this.video.nativeElement;t&&!e.paused&&e.pause()}ngOnInit(){this.videoSources=this.src instanceof Array?[...this.src]:[{url:this.src}]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=u.Jb({type:t,selectors:[["gallery-video"]],viewQuery:function(t,e){var i;1&t&&u.Lc(Mt,!0),2&t&&u.tc(i=u.ec())&&(e.video=i.first)},inputs:{pauseVideo:["pause","pauseVideo"],src:"src",poster:"poster"},outputs:{error:"error"},decls:3,vars:2,consts:[["controls","",3,"poster","error"],["video",""],[3,"src","type",4,"ngFor","ngForOf"],[3,"src","type"]],template:function(t,e){1&t&&(u.Vb(0,"video",0,1),u.dc("error",(function(t){return e.error.emit(t)})),u.Dc(2,zt,1,2,"source",2),u.Ub()),2&t&&(u.nc("poster",e.poster,u.zc),u.Cb(2),u.mc("ngForOf",e.videoSources))},directives:[g.k],encapsulation:2,changeDetection:0}),t})(),Ce=(()=>{class t{constructor(t){this._sanitizer=t,this.action=new u.n}ngOnInit(){this.navIcon=this._sanitizer.bypassSecurityTrustHtml(this.config.navIcon)}}return t.\u0275fac=function(e){return new(e||t)(u.Pb(v.b))},t.\u0275cmp=u.Jb({type:t,selectors:[["gallery-nav"]],inputs:{state:"state",config:"config"},outputs:{action:"action"},decls:2,vars:2,consts:[["class","g-nav-prev","aria-label","Previous",3,"innerHtml","tapClick",4,"ngIf"],["class","g-nav-next","aria-label","Next",3,"innerHtml","tapClick",4,"ngIf"],["aria-label","Previous",1,"g-nav-prev",3,"innerHtml","tapClick"],["aria-label","Next",1,"g-nav-next",3,"innerHtml","tapClick"]],template:function(t,e){1&t&&(u.Dc(0,Bt,1,1,"i",0),u.Dc(1,Ft,1,1,"i",1)),2&t&&(u.mc("ngIf",e.config.loop||e.state.hasPrev),u.Cb(1),u.mc("ngIf",e.config.loop||e.state.hasNext))},directives:function(){return[g.l,De]},encapsulation:2,changeDetection:0}),t})(),ke=(()=>{class t{constructor(){this.action=new u.n,this.itemClick=new u.n,this.thumbClick=new u.n,this.error=new u.n}get thumbPosition(){return this.config.thumbPosition}get slidingDirection(){return this.config.slidingDirection}get disableThumb(){return this.config.disableThumb}get imageSize(){return this.config.imageSize}get dotsPosition(){return this.config.dotsPosition}get counterPosition(){return this.config.counterPosition}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=u.Jb({type:t,selectors:[["gallery-core"]],hostVars:6,hostBindings:function(t,e){2&t&&u.Db("thumbPosition",e.thumbPosition)("slidingDirection",e.slidingDirection)("disableThumb",e.disableThumb)("imageSize",e.imageSize)("dotsPosition",e.dotsPosition)("counterPosition",e.counterPosition)},inputs:{state:"state",config:"config"},outputs:{action:"action",itemClick:"itemClick",thumbClick:"thumbClick",error:"error"},decls:6,vars:6,consts:[[3,"state","config","action","thumbClick",4,"ngIf"],[1,"g-box"],[3,"state","config","action","itemClick","error"],[3,"state","config","action",4,"ngIf"],[3,"state",4,"ngIf"],[3,"state","config","action","thumbClick"],[3,"state","config","action"],[3,"state"]],template:function(t,e){1&t&&(u.Dc(0,Ut,1,2,"gallery-thumbs",0),u.Vb(1,"div",1),u.Vb(2,"gallery-slider",2),u.dc("action",(function(t){return e.action.emit(t)}))("itemClick",(function(t){return e.itemClick.emit(t)}))("error",(function(t){return e.error.emit(t)})),u.Dc(3,Ht,1,2,"gallery-nav",3),u.Ub(),u.Dc(4,Nt,1,2,"gallery-dots",3),u.Dc(5,Wt,1,1,"gallery-counter",4),u.Ub()),2&t&&(u.mc("ngIf",e.config.thumb),u.Cb(2),u.mc("state",e.state)("config",e.config),u.Cb(1),u.mc("ngIf",e.config.nav&&e.state.items.length>1),u.Cb(1),u.mc("ngIf",e.config.dots),u.Cb(1),u.mc("ngIf",e.config.counter))},directives:function(){return[g.l,Ie,Oe,Ce,Se,Pe]},encapsulation:2,changeDetection:0}),t})(),Se=(()=>{class t{constructor(){this.action=new u.n}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=u.Jb({type:t,selectors:[["gallery-dots"]],inputs:{state:"state",config:"config"},outputs:{action:"action"},decls:1,vars:1,consts:[["class","g-dot",3,"g-dot-active","width","height","tapClick",4,"ngFor","ngForOf"],[1,"g-dot",3,"tapClick"],[1,"g-dot-inner"]],template:function(t,e){1&t&&u.Dc(0,$t,2,6,"div",0),2&t&&u.mc("ngForOf",e.state.items)},directives:function(){return[g.k,De]},encapsulation:2,changeDetection:0}),t})(),Oe=(()=>{class t{constructor(t,e){this._el=t,this._zone=e,this._slidingWorker$=new f.a({value:0,active:!1}),this._freeModeCurrentOffset=0,this.action=new u.n,this.thumbClick=new u.n,this.error=new u.n,this.sliderState$=this._slidingWorker$.pipe(Object(y.a)(t=>({style:this.getSliderStyles(t),active:t.active})))}ngOnChanges(){this.updateSlider({value:0,active:!1}),this._freeModeCurrentOffset=0}ngOnInit(){if(this.config.gestures&&!this.config.disableThumb&&"undefined"!=typeof Hammer){let t;switch(this.config.thumbPosition){case"right":case"left":t=Hammer.DIRECTION_VERTICAL;break;case"top":case"bottom":t=Hammer.DIRECTION_HORIZONTAL}this._hammer=new Hammer(this._el.nativeElement),this._hammer.get("pan").set({direction:t}),this._zone.runOutsideAngular(()=>{switch(this.config.thumbMode){case"strict":this._hammer.on("pan",t=>this.strictMode(t));break;case"free":this._hammer.on("pan",t=>this.freeMode(t))}})}}ngOnDestroy(){this._hammer&&this._hammer.destroy()}strictMode(t){switch(this.config.thumbPosition){case"right":case"left":this.updateSlider({value:t.deltaY,active:!0}),t.isFinal&&(this.updateSlider({value:0,active:!1}),this.verticalPan(t));break;case"top":case"bottom":this.updateSlider({value:t.deltaX,active:!0}),t.isFinal&&(this.updateSlider({value:0,active:!1}),this.horizontalPan(t))}}freeMode(t){switch(this.config.thumbPosition){case"right":case"left":this.updateSlider({value:this._freeModeCurrentOffset+t.deltaY,active:!0}),t.isFinal&&(this.minFreeScrollExceeded(t.deltaY,this.config.thumbWidth,this.config.thumbHeight)?this._freeModeCurrentOffset=-(this.state.items.length-1-this.state.currIndex)*this.config.thumbHeight:this.maxFreeScrollExceeded(t.deltaY,this.config.thumbHeight,this.config.thumbWidth)?this._freeModeCurrentOffset=this.state.currIndex*this.config.thumbHeight:this._freeModeCurrentOffset+=t.deltaY,this.updateSlider({value:this._freeModeCurrentOffset,active:!1}));break;case"top":case"bottom":this.updateSlider({value:this._freeModeCurrentOffset+t.deltaX,active:!0}),t.isFinal&&(this.minFreeScrollExceeded(t.deltaX,this.config.thumbHeight,this.config.thumbWidth)?this._freeModeCurrentOffset=-(this.state.items.length-1-this.state.currIndex)*this.config.thumbWidth:this.maxFreeScrollExceeded(t.deltaX,this.config.thumbWidth,this.config.thumbHeight)?this._freeModeCurrentOffset=this.state.currIndex*this.config.thumbWidth:this._freeModeCurrentOffset+=t.deltaX,this.updateSlider({value:this._freeModeCurrentOffset,active:!1}))}}minFreeScrollExceeded(t,e,i){return-(this._freeModeCurrentOffset+t-e/2)>(this.state.items.length-this.state.currIndex)*i}maxFreeScrollExceeded(t,e,i){return this._freeModeCurrentOffset+t>this.state.currIndex*e+i/2}getSliderStyles(t){let e;switch(this.config.thumbPosition){case"top":case"bottom":return this.width="100%",this.height=this.config.thumbHeight+"px",e=-this.state.currIndex*this.config.thumbWidth-(this.config.thumbWidth/2-t.value),{transform:`translate3d(${e}px, 0, 0)`,width:this.state.items.length*this.config.thumbWidth+"px",height:"100%"};case"left":case"right":return this.width=this.config.thumbWidth+"px",this.height="100%",e=-this.state.currIndex*this.config.thumbHeight-(this.config.thumbHeight/2-t.value),{transform:`translate3d(0, ${e}px, 0)`,width:"100%",height:this.state.items.length*this.config.thumbHeight+"px"}}}verticalPan(t){t.direction&Hammer.DIRECTION_UP&&t.offsetDirection&Hammer.DIRECTION_VERTICAL&&(t.velocityY>.3?this.prev():t.velocityY<-.3||t.deltaY/2<=-this.config.thumbHeight*this.state.items.length/this.config.panSensitivity?this.next():t.deltaY/2>=this.config.thumbHeight*this.state.items.length/this.config.panSensitivity?this.prev():this.action.emit(this.state.currIndex))}horizontalPan(t){t.direction&Hammer.DIRECTION_HORIZONTAL&&t.offsetDirection&Hammer.DIRECTION_HORIZONTAL&&(t.velocityX>.3?this.prev():t.velocityX<-.3||t.deltaX/2<=-this.config.thumbWidth*this.state.items.length/this.config.panSensitivity?this.next():t.deltaX/2>=this.config.thumbWidth*this.state.items.length/this.config.panSensitivity?this.prev():this.action.emit(this.state.currIndex))}next(){this.action.emit("next")}prev(){this.action.emit("prev")}updateSlider(t){const e=Object.assign({},this._slidingWorker$.value,t);this._slidingWorker$.next(e)}}return t.\u0275fac=function(e){return new(e||t)(u.Pb(u.l),u.Pb(u.z))},t.\u0275cmp=u.Jb({type:t,selectors:[["gallery-thumbs"]],hostVars:4,hostBindings:function(t,e){2&t&&u.Cc("width",e.width)("height",e.height)},inputs:{state:"state",config:"config"},outputs:{action:"action",thumbClick:"thumbClick",error:"error"},features:[u.Ab],decls:2,vars:3,consts:[["class","g-thumbs-container",4,"ngIf"],[1,"g-thumbs-container"],[1,"g-slider",3,"ngStyle"],[3,"type","config","data","currIndex","index","tapClickDisabled","tapClick","error",4,"ngFor","ngForOf"],[3,"type","config","data","currIndex","index","tapClickDisabled","tapClick","error"]],template:function(t,e){1&t&&(u.Dc(0,Yt,3,4,"div",0),u.hc(1,"async")),2&t&&u.mc("ngIf",u.ic(1,1,e.sliderState$))},directives:function(){return[g.l,g.m,g.k,Re,De]},pipes:function(){return[g.b]},encapsulation:2,changeDetection:0}),t})(),Ie=(()=>{class t{constructor(t,e,i){this._el=t,this._zone=e,this.platform=i,this._slidingWorker$=new f.a({value:0,active:!1}),this.action=new u.n,this.itemClick=new u.n,this.error=new u.n,this.sliderState$=this._slidingWorker$.pipe(Object(y.a)(t=>({style:this.getSliderStyles(t),active:t.active})))}get zoom(){return{transform:`perspective(50px) translate3d(0, 0, ${-this.config.zoomOut}px)`}}ngOnChanges(){this.updateSlider({value:0,active:!1})}ngOnInit(){if(this.config.gestures&&"undefined"!=typeof Hammer){const t="horizontal"===this.config.slidingDirection?Hammer.DIRECTION_HORIZONTAL:Hammer.DIRECTION_VERTICAL;this._hammer=new Hammer(this._el.nativeElement),this._hammer.get("pan").set({direction:t}),this._zone.runOutsideAngular(()=>{this._hammer.on("pan",t=>{switch(this.config.slidingDirection){case"horizontal":this.updateSlider({value:t.deltaX,active:!0}),t.isFinal&&(this.updateSlider({value:0,active:!1}),this.horizontalPan(t));break;case"vertical":this.updateSlider({value:t.deltaY,active:!0}),t.isFinal&&(this.updateSlider({value:0,active:!1}),this.verticalPan(t))}})})}Object(g.x)(this.platform)&&(this._resizeSub$=Object(et.a)(window,"resize").pipe(_t(200),Object(mt.a)(()=>this.updateSlider(this._slidingWorker$.value))).subscribe()),setTimeout(()=>this.updateSlider({value:0,active:!1}))}ngOnDestroy(){this._hammer&&this._hammer.destroy(),this._resizeSub$&&this._resizeSub$.unsubscribe(),this._slidingWorker$.complete()}getSliderStyles(t){switch(this.config.slidingDirection){case"horizontal":return{transform:`translate3d(${-this.state.currIndex*this._el.nativeElement.offsetWidth+t.value}px, 0, 0)`,width:`calc(100% * ${this.state.items.length})`,height:"100%"};case"vertical":return{transform:`translate3d(0, ${-this.state.currIndex*this._el.nativeElement.offsetHeight+t.value}px, 0)`,width:"100%",height:`calc(100% * ${this.state.items.length})`}}}verticalPan(t){t.direction&Hammer.DIRECTION_UP&&t.offsetDirection&Hammer.DIRECTION_VERTICAL&&(t.velocityY>.3?this.prev():t.velocityY<-.3||t.deltaY/2<=-this._el.nativeElement.offsetHeight*this.state.items.length/this.config.panSensitivity?this.next():t.deltaY/2>=this._el.nativeElement.offsetHeight*this.state.items.length/this.config.panSensitivity?this.prev():this.action.emit(this.state.currIndex))}horizontalPan(t){t.direction&Hammer.DIRECTION_HORIZONTAL&&t.offsetDirection&Hammer.DIRECTION_HORIZONTAL&&(t.velocityX>.3?this.prev():t.velocityX<-.3||t.deltaX/2<=-this._el.nativeElement.offsetWidth*this.state.items.length/this.config.panSensitivity?this.next():t.deltaX/2>=this._el.nativeElement.offsetWidth*this.state.items.length/this.config.panSensitivity?this.prev():this.action.emit(this.state.currIndex))}next(){this.action.emit("next")}prev(){this.action.emit("prev")}updateSlider(t){const e=Object.assign({},this._slidingWorker$.value,t);this._slidingWorker$.next(e)}}return t.\u0275fac=function(e){return new(e||t)(u.Pb(u.l),u.Pb(u.z),u.Pb(u.B))},t.\u0275cmp=u.Jb({type:t,selectors:[["gallery-slider"]],inputs:{state:"state",config:"config"},outputs:{action:"action",itemClick:"itemClick",error:"error"},features:[u.Ab],ngContentSelectors:kt,decls:3,vars:3,consts:[["class","g-items-container",3,"ngStyle",4,"ngIf"],[1,"g-items-container",3,"ngStyle"],[1,"g-slider",3,"ngStyle"],[3,"type","config","data","currIndex","index","tapClick","error",4,"ngFor","ngForOf"],[3,"type","config","data","currIndex","index","tapClick","error"]],template:function(t,e){1&t&&(u.lc(),u.Dc(0,Qt,3,5,"div",0),u.hc(1,"async"),u.kc(2)),2&t&&u.mc("ngIf",u.ic(1,1,e.sliderState$))},directives:function(){return[g.l,g.m,g.k,Ee,De]},pipes:function(){return[g.b]},encapsulation:2,changeDetection:0}),t})(),Pe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=u.Jb({type:t,selectors:[["gallery-counter"]],inputs:{state:"state"},decls:2,vars:1,consts:[[1,"g-counter"]],template:function(t,e){1&t&&(u.Vb(0,"div",0),u.Fc(1),u.Ub()),2&t&&(u.Cb(1),u.Gc(e.state.currIndex+1+"/"+e.state.items.length))},encapsulation:2,changeDetection:0}),t})(),Ee=(()=>{class t{constructor(){this.Types=ce,this.error=new u.n}get isActive(){return this.index===this.currIndex}get load(){switch(this.config.loadingStrategy){case"preload":return!0;case"lazy":return this.currIndex===this.index;default:return this.currIndex===this.index||this.currIndex===this.index-1||this.currIndex===this.index+1}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=u.Jb({type:t,selectors:[["gallery-item"]],hostVars:2,hostBindings:function(t,e){2&t&&u.Fb("g-active-item",e.isActive)},inputs:{config:"config",index:"index",currIndex:"currIndex",type:"type",data:"data"},outputs:{error:"error"},decls:1,vars:1,consts:[[3,"ngSwitch",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"src","poster","pause","error",4,"ngSwitchCase"],[3,"src","pause",4,"ngSwitchCase"],[3,"src",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"src","mode","loadingIcon","loadingError","error"],[1,"g-template","g-item-template"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"src","poster","pause","error"],[3,"src","pause"],[3,"src"]],template:function(t,e){1&t&&u.Dc(0,ne,6,5,"ng-container",0),2&t&&u.mc("ngIf",e.load)},directives:[g.l,g.n,g.o,g.p,we,g.q,xe,ve],encapsulation:2,changeDetection:0}),t})(),Re=(()=>{class t{constructor(){this.error=new u.n}get isActive(){return this.index===this.currIndex}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=u.Jb({type:t,selectors:[["gallery-thumb"]],hostVars:2,hostBindings:function(t,e){2&t&&u.Fb("g-active-thumb",e.isActive)},inputs:{config:"config",index:"index",currIndex:"currIndex",type:"type",data:"data"},outputs:{error:"error"},decls:2,vars:5,consts:[["mode","indeterminate",3,"src","isThumbnail","loadingIcon","loadingError","error"],["class","g-template g-thumb-template",4,"ngIf"],[1,"g-template","g-thumb-template"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,e){1&t&&(u.Vb(0,"gallery-image",0),u.dc("error",(function(t){return e.error.emit(t)})),u.Ub(),u.Dc(1,ae,2,6,"div",1)),2&t&&(u.mc("src",e.data.thumb)("isThumbnail",!0)("loadingIcon",e.config.thumbLoadingIcon)("loadingError",e.config.thumbLoadingError),u.Cb(1),u.mc("ngIf",e.config.thumbTemplate))},directives:[we,g.l,g.q],encapsulation:2,changeDetection:0}),t})(),Te=(()=>{class t{constructor(){this.mode="determinate",this.value=0,this.diameter=60,this.strokeWidth=3}get circleRadius(){return(this.diameter-this.strokeWidth)/2}get viewBox(){const t=2*this.circleRadius+this.strokeWidth;return`0 0 ${t} ${t}`}get strokeCircumference(){return 2*Math.PI*this.circleRadius}get strokeDashOffset(){return"determinate"===this.mode?this.strokeCircumference*(100-this.value)/100:"indeterminate"===this.mode?.4*this.strokeCircumference:null}get circleStrokeWidth(){return this.strokeWidth/this.diameter*100}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=u.Jb({type:t,selectors:[["radial-progress"]],hostVars:5,hostBindings:function(t,e){2&t&&(u.Db("mode",e.mode),u.Cc("width",e.diameter,"px")("height",e.diameter,"px"))},inputs:{mode:"mode",value:"value",diameter:"diameter",strokeWidth:"strokeWidth"},decls:3,vars:15,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false",1,"radial-progress"],["cx","50%","cy","50%",1,"radial-progress-meter"],["cx","50%","cy","50%",1,"radial-progress-value"]],template:function(t,e){1&t&&(u.fc(),u.Vb(0,"svg",0),u.Qb(1,"circle",1),u.Qb(2,"circle",2),u.Ub()),2&t&&(u.Cc("width",e.diameter,"px")("height",e.diameter,"px"),u.Db("viewBox",e.viewBox),u.Cb(1),u.Cc("stroke-width",e.circleStrokeWidth,"%"),u.Db("r",e.circleRadius),u.Cb(1),u.Cc("stroke-dashoffset",e.strokeDashOffset,"px")("stroke-dasharray",e.strokeCircumference,"px")("stroke-width",e.circleStrokeWidth,"%"),u.Db("r",e.circleRadius))},encapsulation:2,changeDetection:0}),t})(),Ve=(()=>{class t{constructor(t,e){this.http=t,this.document=e,this._imageLoader$=new Q.a,this._loaderSub$=_.a.EMPTY,this.progress=new u.n,this.loaded=new u.n,this.error=new u.n,this._loaderSub$=this._imageLoader$.pipe(Object(pt.a)(t=>"determinate"===this.mode?this.progressiveLoader(t):this.nativeLoader(t))).subscribe()}ngOnChanges(t){t.src&&t.src.previousValue!==t.src.currentValue&&this.loadImage(this.src)}ngOnDestroy(){this._loaderSub$.unsubscribe(),this._imageLoader$.complete()}loadImage(t){this._imageLoader$.next(t)}progressiveLoader(t){const e=new w.f("GET",t,{reportProgress:!0,responseType:"blob",headers:new w.e({CACHE_GALLERY_IMAGE:"true"})});return this.http.request(e).pipe(Object(mt.a)(t=>{t.type===w.d.DownloadProgress&&this.progress.emit({loaded:t.loaded,total:t.total}),t.type===w.d.Response&&this.loaded.emit(URL.createObjectURL(t.body))}),Object(xt.a)(t=>(this.error.emit(t),tt.a)))}nativeLoader(t){const e=this.document.createElement("img");return e.src=t,function(...t){const e=t[t.length-1];return"function"==typeof e&&t.pop(),Object(it.a)(t,void 0).lift(new ct(e))}(Object(et.a)(e,"load").pipe(Object(mt.a)(()=>this.loaded.emit(t))),Object(et.a)(e,"error").pipe(Object(mt.a)(()=>this.error.emit(new Error(`[lazyImage]: The image ${t} did not load`)))))}}return t.\u0275fac=function(e){return new(e||t)(u.Pb(w.b),u.Pb(g.e))},t.\u0275dir=u.Kb({type:t,selectors:[["","lazyImage",""]],inputs:{src:["lazyImage","src"],mode:"mode"},outputs:{progress:"progress",loaded:"loaded",error:"error"},features:[u.Ab]}),t})(),De=(()=>{class t{constructor(t){this._el=t,this.clickListener=_.a.EMPTY,this.tapClick=new u.n}ngOnInit(){this.activateClickEvent()}activateClickEvent(){"undefined"!=typeof Hammer?(this._hammer=new Hammer(this._el.nativeElement),this._hammer.on("tap",()=>{this.tapClickDisabled||this.tapClick.emit(null)})):this.clickListener=Object(et.a)(this._el.nativeElement,"click").pipe(Object(gt.a)(()=>!this.tapClickDisabled),Object(mt.a)(()=>this.tapClick.emit(null))).subscribe()}ngOnDestroy(){this._hammer&&this._hammer.destroy(),this.clickListener.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(u.Pb(u.l))},t.\u0275dir=u.Kb({type:t,selectors:[["","tapClick",""]],inputs:{tapClickDisabled:"tapClickDisabled"},outputs:{tapClick:"tapClick"}}),t})();class Le{}let Ae=(()=>{class t{constructor(){this.cache=new Map}get(t){const e=this.cache.get(t.urlWithParams);if(e)return e.response}put(t,e){const i=t.urlWithParams,s={url:i,response:e,lastRead:Date.now()};this.cache.set(i,s);const n=Date.now()-3e4;this.cache.forEach(t=>{t.lastRead<n&&this.cache.delete(t.url)})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=u.Lb({token:t,factory:t.\u0275fac}),t})(),je=(()=>{class t{constructor(t){this.cache=t}intercept(t,e){if(t.headers.has("CACHE_GALLERY_IMAGE")&&function(t){return"GET"===t.method}(t)){const i=this.cache.get(t);if(t.headers.get("x-refresh")){const s=Me(t,e,this.cache);return i?s.pipe(Object(Ct.a)(i)):s}return i?Object(K.a)(i):Me(t,e,this.cache)}return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(u.Zb(Le))},t.\u0275prov=u.Lb({token:t,factory:t.\u0275fac}),t})();function Me(t,e,i){const s=t.clone({headers:t.headers.delete("CACHE_GALLERY_IMAGE")});return e.handle(s).pipe(Object(mt.a)(e=>{e instanceof w.g&&i.put(t,e)}))}let ze=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:fe,useValue:e}]}}}return t.\u0275mod=u.Nb({type:t}),t.\u0275inj=u.Mb({factory:function(e){return new(e||t)},providers:[{provide:Le,useClass:Ae},{provide:w.a,useClass:je,multi:!0}],imports:[[g.c,w.c]]}),t})();function Be(){throw Error("Host already has a portal attached")}class Fe{attach(t){return null==t&&function(){throw Error("Attempting to attach a portal to a null PortalOutlet")}(),t.hasAttached()&&Be(),this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null==t?function(){throw Error("Attempting to detach a portal that is not attached to a host")}():(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Ue extends Fe{constructor(t,e,i,s){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=s}}class He extends Fe{constructor(t,e,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class Ne extends Fe{constructor(t){super(),this.element=t instanceof u.l?t.nativeElement:t}}class We extends class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t||function(){throw Error("Must provide a portal to attach")}(),this.hasAttached()&&Be(),this._isDisposed&&function(){throw Error("This PortalOutlet has already been disposed")}(),t instanceof Ue?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof He?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof Ne?(this._attachedPortal=t,this.attachDomPortal(t)):void function(){throw Error("Attempting to attach an unknown Portal type. BasePortalOutlet accepts either a ComponentPortal or a TemplatePortal.")}()}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(t,e,i,s,n){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=s,this.attachDomPortal=t=>{if(!this._document)throw Error("Cannot attach DOM portal without _document constructor parameter");const e=t.element;if(!e.parentNode)throw Error("DOM portal content must be attached to a parent node.");const i=this._document.createComment("dom-portal");e.parentNode.insertBefore(i,e),this.outletElement.appendChild(e),super.setDisposeFn(()=>{i.parentNode&&i.parentNode.replaceChild(e,i)})},this._document=n}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let i;return t.viewContainerRef?(i=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>i.destroy())):(i=e.create(t.injector||this._defaultInjector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),i}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context);return i.detectChanges(),i.rootNodes.forEach(t=>this.outletElement.appendChild(t)),this.setDisposeFn(()=>{let t=e.indexOf(i);-1!==t&&e.remove(t)}),i}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let $e=(()=>{class t{}return t.\u0275mod=u.Nb({type:t}),t.\u0275inj=u.Mb({factory:function(e){return new(e||t)}}),t})();function Ze(t){return Array.isArray(t)?t:[t]}function Ye(t){return null==t?"":"string"==typeof t?t:t+"px"}var Xe=i("HDdC");i("3N8a"),i("IjjT"),i("7+OI"),i("/uUt");class Qe{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new Ge(t,this.durationSelector))}}class Ge extends ot.a{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let i;try{const{durationSelector:e}=this;i=e(t)}catch(e){return this.destination.error(e)}const s=Object(rt.a)(this,i);!s||s.closed?this.clearThrottle():this.add(this.throttled=s)}}clearThrottle(){const{value:t,hasValue:e,throttled:i}=this;i&&(this.remove(i),this.throttled=null,i.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))}notifyNext(t,e,i,s){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function qe(t){return!Object(st.a)(t)&&t-parseFloat(t)+1>=0}var Je=i("z+Ro");function Ke(t){const{index:e,period:i,subscriber:s}=t;if(s.next(e),!s.closed){if(-1===i)return s.complete();t.index=e+1,this.schedule(t,i)}}function ti(t,e=ft.a){return i=()=>function(t=0,e,i){let s=-1;return qe(e)?s=Number(e)<1?1:Number(e):Object(Je.a)(e)&&(i=e),Object(Je.a)(i)||(i=ft.a),new Xe.a(e=>{const n=qe(t)?t:+t-i.now();return i.schedule(Ke,n,{index:0,period:s,subscriber:e})})}(t,e),function(t){return t.lift(new Qe(i))};var i}class ei{constructor(t){this.notifier=t}call(t,e){const i=new ii(t),s=Object(rt.a)(i,this.notifier);return s&&!i.seenValue?(i.add(s),e.subscribe(i)):i}}class ii extends ot.a{constructor(t){super(t),this.seenValue=!1}notifyNext(t,e,i,s,n){this.seenValue=!0,this.complete()}notifyComplete(){}}i("UXun");const si=new u.q("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(u.V)(g.e)}});let ni=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new u.n,t){const e=t.documentElement?t.documentElement.dir:null,i=(t.body?t.body.dir:null)||e;this.value="ltr"===i||"rtl"===i?i:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(u.Zb(si,8))},t.\u0275prov=Object(u.Lb)({factory:function(){return new t(Object(u.Zb)(si,8))},token:t,providedIn:"root"}),t})(),oi=(()=>{class t{}return t.\u0275mod=u.Nb({type:t}),t.\u0275inj=u.Mb({factory:function(e){return new(e||t)}}),t})(),ri=(()=>{class t{constructor(t,e,i){this._ngZone=t,this._platform=e,this._scrolled=new Q.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Xe.a(e=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(ti(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Object(K.a)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const i=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(Object(gt.a)(t=>!t||i.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((i,s)=>{this._scrollableContainsElement(s,t)&&e.push(s)}),e}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollableContainsElement(t,e){let i=e.nativeElement,s=t.getElementRef().nativeElement;do{if(i==s)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const t=this._getWindow();return Object(et.a)(t.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(u.Zb(u.z),u.Zb(b),u.Zb(g.e,8))},t.\u0275prov=Object(u.Lb)({factory:function(){return new t(Object(u.Zb)(u.z),Object(u.Zb)(b),Object(u.Zb)(g.e,8))},token:t,providedIn:"root"}),t})(),ai=(()=>{class t{constructor(t,e,i){this._platform=t,this._document=i,e.runOutsideAngular(()=>{const e=this._getWindow();this._change=t.isBrowser?Object(G.a)(Object(et.a)(e,"resize"),Object(et.a)(e,"orientationchange")):Object(K.a)(),this._invalidateCache=this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){this._invalidateCache.unsubscribe()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+e,height:i,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._getDocument(),e=this._getWindow(),i=t.documentElement,s=i.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||e.scrollY||i.scrollTop||0,left:-s.left||t.body.scrollLeft||e.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(ti(t)):this._change}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(u.Zb(b),u.Zb(u.z),u.Zb(g.e,8))},t.\u0275prov=Object(u.Lb)({factory:function(){return new t(Object(u.Zb)(b),Object(u.Zb)(u.z),Object(u.Zb)(g.e,8))},token:t,providedIn:"root"}),t})(),ci=(()=>{class t{}return t.\u0275mod=u.Nb({type:t}),t.\u0275inj=u.Mb({factory:function(e){return new(e||t)},imports:[[oi,m],oi]}),t})();var li=i("IzEk");class hi{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Ye(-this._previousScrollPosition.left),t.style.top=Ye(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,i=this._document.body.style,s=e.scrollBehavior||"",n=i.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),e.scrollBehavior=i.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),e.scrollBehavior=s,i.scrollBehavior=n}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}function di(){return Error("Scroll strategy has already been attached.")}class ui{constructor(t,e,i,s){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=s,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){if(this._overlayRef)throw di();this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class gi{enable(){}disable(){}attach(){}}function pi(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function bi(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class mi{constructor(t,e,i,s){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=s,this._scrollSubscription=null}attach(t){if(this._overlayRef)throw di();this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:i}=this._viewportRuler.getViewportSize();pi(t,[{width:e,height:i,bottom:i,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let fi=(()=>{class t{constructor(t,e,i,s){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this.noop=()=>new gi,this.close=t=>new ui(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new hi(this._viewportRuler,this._document),this.reposition=t=>new mi(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=s}}return t.\u0275fac=function(e){return new(e||t)(u.Zb(ri),u.Zb(ai),u.Zb(u.z),u.Zb(g.e))},t.\u0275prov=Object(u.Lb)({factory:function(){return new t(Object(u.Zb)(ri),Object(u.Zb)(ai),Object(u.Zb)(u.z),Object(u.Zb)(g.e))},token:t,providedIn:"root"}),t})();class _i{constructor(t){if(this.scrollStrategy=new gi,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class yi{constructor(t,e,i,s,n){this.offsetX=i,this.offsetY=s,this.panelClass=n,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class vi{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}function wi(t,e){if("top"!==e&&"bottom"!==e&&"center"!==e)throw Error(`ConnectedPosition: Invalid ${t} "${e}". Expected "top", "bottom" or "center".`)}function xi(t,e){if("start"!==e&&"end"!==e&&"center"!==e)throw Error(`ConnectedPosition: Invalid ${t} "${e}". Expected "start", "end" or "center".`)}let Ci=(()=>{class t{constructor(t){this._attachedOverlays=[],this._keydownListener=t=>{const e=this._attachedOverlays;for(let i=e.length-1;i>-1;i--)if(e[i]._keydownEventSubscriptions>0){e[i]._keydownEvents.next(t);break}},this._document=t}ngOnDestroy(){this._detach()}add(t){this.remove(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this._detach()}_detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(u.Zb(g.e))},t.\u0275prov=Object(u.Lb)({factory:function(){return new t(Object(u.Zb)(g.e))},token:t,providedIn:"root"}),t})();const ki=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let Si=(()=>{class t{constructor(t,e){this._platform=e,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._platform?this._platform.isBrowser:"undefined"!=typeof window;if(t||ki){const t=this._document.querySelectorAll('.cdk-overlay-container[platform="server"], .cdk-overlay-container[platform="test"]');for(let e=0;e<t.length;e++)t[e].parentNode.removeChild(t[e])}const e=this._document.createElement("div");e.classList.add("cdk-overlay-container"),ki?e.setAttribute("platform","test"):t||e.setAttribute("platform","server"),this._document.body.appendChild(e),this._containerElement=e}}return t.\u0275fac=function(e){return new(e||t)(u.Zb(g.e),u.Zb(b))},t.\u0275prov=Object(u.Lb)({factory:function(){return new t(Object(u.Zb)(g.e),Object(u.Zb)(b))},token:t,providedIn:"root"}),t})();class Oi{constructor(t,e,i,s,n,o,r,a){this._portalOutlet=t,this._host=e,this._pane=i,this._config=s,this._ngZone=n,this._keyboardDispatcher=o,this._document=r,this._location=a,this._backdropElement=null,this._backdropClick=new Q.a,this._attachments=new Q.a,this._detachments=new Q.a,this._locationChanges=_.a.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEventsObservable=new Xe.a(t=>{const e=this._keydownEvents.subscribe(t);return this._keydownEventSubscriptions++,()=>{e.unsubscribe(),this._keydownEventSubscriptions--}}),this._keydownEvents=new Q.a,this._keydownEventSubscriptions=0,s.scrollStrategy&&(this._scrollStrategy=s.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=s.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.asObservable().pipe(Object(li.a)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick.asObservable()}attachments(){return this._attachments.asObservable()}detachments(){return this._detachments.asObservable()}keydownEvents(){return this._keydownEventsObservable}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Ye(this._config.width),t.height=Ye(this._config.height),t.minWidth=Ye(this._config.minWidth),t.minHeight=Ye(this._config.minHeight),t.maxWidth=Ye(this._config.maxWidth),t.maxHeight=Ye(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"auto":"none"}_attachBackdrop(){this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add("cdk-overlay-backdrop-showing")})}):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let i=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",i),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",i)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(i,500))}_toggleClasses(t,e,i){const s=t.classList;Ze(e).forEach(t=>{t&&(i?s.add(t):s.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.asObservable().pipe((e=Object(G.a)(this._attachments,this._detachments),t=>t.lift(new ei(e)))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())});var e})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const Ii=/([A-Za-z%]+)$/;class Pi{constructor(t,e,i,s,n){this._viewportRuler=e,this._document=i,this._platform=s,this._overlayContainer=n,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Q.a,this._resizeSubscription=_.a.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges.asObservable(),this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){if(this._overlayRef&&t!==this._overlayRef)throw Error("This position strategy is already attached to an overlay");this._validatePositions(),t.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,s=[];let n;for(let o of this._preferredPositions){let r=this._getOriginPoint(t,o),a=this._getOverlayPoint(r,e,o),c=this._getOverlayFit(a,e,i,o);if(c.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(o,r);this._canFitWithFlexibleDimensions(c,a,i)?s.push({position:o,origin:r,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(r,o)}):(!n||n.overlayFit.visibleArea<c.visibleArea)&&(n={overlayFit:c,overlayPoint:a,originPoint:r,position:o,overlayRect:e})}if(s.length){let t=null,e=-1;for(const i of s){const s=i.boundingBoxRect.width*i.boundingBoxRect.height*(i.position.weight||1);s>e&&(e=s,t=i)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(n.position,n.originPoint);this._applyPosition(n.position,n.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Ei(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove("cdk-overlay-connected-position-bounding-box"),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let i,s;if("center"==e.originX)i=t.left+t.width/2;else{const s=this._isRtl()?t.right:t.left,n=this._isRtl()?t.left:t.right;i="start"==e.originX?s:n}return s="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:i,y:s}}_getOverlayPoint(t,e,i){let s,n;return s="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,n="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+s,y:t.y+n}}_getOverlayFit(t,e,i,s){let{x:n,y:o}=t,r=this._getOffset(s,"x"),a=this._getOffset(s,"y");r&&(n+=r),a&&(o+=a);let c=0-o,l=o+e.height-i.height,h=this._subtractOverflows(e.width,0-n,n+e.width-i.width),d=this._subtractOverflows(e.height,c,l),u=h*d;return{visibleArea:u,isCompletelyWithinViewport:e.width*e.height===u,fitsInViewportVertically:d===e.height,fitsInViewportHorizontally:h==e.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const s=i.bottom-e.y,n=i.right-e.x,o=Ri(this._overlayRef.getConfig().minHeight),r=Ri(this._overlayRef.getConfig().minWidth),a=t.fitsInViewportHorizontally||null!=r&&r<=n;return(t.fitsInViewportVertically||null!=o&&o<=s)&&a}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const s=this._viewportRect,n=Math.max(t.x+e.width-s.right,0),o=Math.max(t.y+e.height-s.bottom,0),r=Math.max(s.top-i.top-t.y,0),a=Math.max(s.left-i.left-t.x,0);let c=0,l=0;return c=e.width<=s.width?a||-n:t.x<this._viewportMargin?s.left-i.left-t.x:0,l=e.height<=s.height?r||-o:t.y<this._viewportMargin?s.top-i.top-t.y:0,this._previousPushAmount={x:c,y:l},{x:t.x+c,y:t.y+l}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),i=new vi(t,e);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,s=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let n=0;n<e.length;n++)e[n].style.transformOrigin=`${i} ${s}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,s=this._isRtl();let n,o,r,a,c,l;if("top"===e.overlayY)o=t.y,n=i.height-o+this._viewportMargin;else if("bottom"===e.overlayY)r=i.height-t.y+2*this._viewportMargin,n=i.height-r+this._viewportMargin;else{const e=Math.min(i.bottom-t.y+i.top,t.y),s=this._lastBoundingBoxSize.height;n=2*e,o=t.y-e,n>s&&!this._isInitialRender&&!this._growAfterOpen&&(o=t.y-s/2)}if("end"===e.overlayX&&!s||"start"===e.overlayX&&s)l=i.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!s||"end"===e.overlayX&&s)c=t.x,a=i.right-t.x;else{const e=Math.min(i.right-t.x+i.left,t.x),s=this._lastBoundingBoxSize.width;a=2*e,c=t.x-e,a>s&&!this._isInitialRender&&!this._growAfterOpen&&(c=t.x-s/2)}return{top:o,left:c,bottom:r,right:l,width:a,height:n}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const s={};if(this._hasExactPosition())s.top=s.left="0",s.bottom=s.right=s.maxHeight=s.maxWidth="",s.width=s.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,n=this._overlayRef.getConfig().maxWidth;s.height=Ye(i.height),s.top=Ye(i.top),s.bottom=Ye(i.bottom),s.width=Ye(i.width),s.left=Ye(i.left),s.right=Ye(i.right),s.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",s.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(s.maxHeight=Ye(t)),n&&(s.maxWidth=Ye(n))}this._lastBoundingBoxSize=i,Ei(this._boundingBox.style,s)}_resetBoundingBoxStyles(){Ei(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Ei(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},s=this._hasExactPosition(),n=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(s){const s=this._viewportRuler.getViewportScrollPosition();Ei(i,this._getExactOverlayY(e,t,s)),Ei(i,this._getExactOverlayX(e,t,s))}else i.position="static";let r="",a=this._getOffset(e,"x"),c=this._getOffset(e,"y");a&&(r+=`translateX(${a}px) `),c&&(r+=`translateY(${c}px)`),i.transform=r.trim(),o.maxHeight&&(s?i.maxHeight=Ye(o.maxHeight):n&&(i.maxHeight="")),o.maxWidth&&(s?i.maxWidth=Ye(o.maxWidth):n&&(i.maxWidth="")),Ei(this._pane.style,i)}_getExactOverlayY(t,e,i){let s={top:"",bottom:""},n=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(n=this._pushOverlayOnScreen(n,this._overlayRect,i));let o=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return n.y-=o,"bottom"===t.overlayY?s.bottom=this._document.documentElement.clientHeight-(n.y+this._overlayRect.height)+"px":s.top=Ye(n.y),s}_getExactOverlayX(t,e,i){let s,n={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),s=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===s?n.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":n.left=Ye(o.x),n}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:bi(t,i),isOriginOutsideView:pi(t,i),isOverlayClipped:bi(e,i),isOverlayOutsideView:pi(e,i)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){if(!this._preferredPositions.length)throw Error("FlexibleConnectedPositionStrategy: At least one position is required.");this._preferredPositions.forEach(t=>{xi("originX",t.originX),wi("originY",t.originY),xi("overlayX",t.overlayX),wi("overlayY",t.overlayY)})}_addPanelClasses(t){this._pane&&Ze(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof u.l)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function Ei(t,e){for(let i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function Ri(t){if("number"!=typeof t&&null!=t){const[e,i]=t.split(Ii);return i&&"px"!==i?null:parseFloat(e)}return t||null}class Ti{constructor(t,e,i,s,n,o,r){this._preferredPositions=[],this._positionStrategy=new Pi(i,s,n,o,r).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e)}get _isRtl(){return"rtl"===this._overlayRef.getDirection()}get onPositionChange(){return this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,i,s){const n=new yi(t,e,i,s);return this._preferredPositions.push(n),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}class Vi{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add("cdk-global-overlay-wrapper"),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:s,height:n,maxWidth:o,maxHeight:r}=i,a=!("100%"!==s&&"100vw"!==s||o&&"100%"!==o&&"100vw"!==o),c=!("100%"!==n&&"100vh"!==n||r&&"100%"!==r&&"100vh"!==r);t.position=this._cssPosition,t.marginLeft=a?"0":this._leftOffset,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,a?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove("cdk-global-overlay-wrapper"),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let Di=(()=>{class t{constructor(t,e,i,s){this._viewportRuler=t,this._document=e,this._platform=i,this._overlayContainer=s}global(){return new Vi}connectedTo(t,e,i){return new Ti(e,i,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new Pi(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(u.Zb(ai),u.Zb(g.e),u.Zb(b),u.Zb(Si))},t.\u0275prov=Object(u.Lb)({factory:function(){return new t(Object(u.Zb)(ai),Object(u.Zb)(g.e),Object(u.Zb)(b),Object(u.Zb)(Si))},token:t,providedIn:"root"}),t})(),Li=0,Ai=(()=>{class t{constructor(t,e,i,s,n,o,r,a,c,l){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=i,this._positionBuilder=s,this._keyboardDispatcher=n,this._injector=o,this._ngZone=r,this._document=a,this._directionality=c,this._location=l}create(t){const e=this._createHostElement(),i=this._createPaneElement(e),s=this._createPortalOutlet(i),n=new _i(t);return n.direction=n.direction||this._directionality.value,new Oi(s,e,i,n,this._ngZone,this._keyboardDispatcher,this._document,this._location)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id="cdk-overlay-"+Li++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(u.g)),new We(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(u.Zb(fi),u.Zb(Si),u.Zb(u.j),u.Zb(Di),u.Zb(Ci),u.Zb(u.r),u.Zb(u.z),u.Zb(g.e),u.Zb(ni),u.Zb(g.h,8))},t.\u0275prov=u.Lb({token:t,factory:t.\u0275fac}),t})();const ji={provide:new u.q("cdk-connected-overlay-scroll-strategy"),deps:[Ai],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let Mi=(()=>{class t{}return t.\u0275mod=u.Nb({type:t}),t.\u0275inj=u.Mb({factory:function(e){return new(e||t)},providers:[Ai,ji],imports:[[oi,$e,ci],ci]}),t})(),zi=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(u.Lb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),Bi=(()=>{class t{}return t.\u0275mod=u.Nb({type:t}),t.\u0275inj=u.Mb({factory:function(e){return new(e||t)},providers:[zi]}),t})(),Fi=(()=>{class t{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const e=function(t){try{return t.frameElement}catch(Hs){return null}}((i=t).ownerDocument&&i.ownerDocument.defaultView||window);var i;if(e){const t=e&&e.nodeName.toLowerCase();if(-1===Hi(e))return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&"object"===t)return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&!this.isVisible(e))return!1}let s=t.nodeName.toLowerCase(),n=Hi(t);if(t.hasAttribute("contenteditable"))return-1!==n;if("iframe"===s)return!1;if("audio"===s){if(!t.hasAttribute("controls"))return!1;if(this._platform.BLINK)return!0}if("video"===s){if(!t.hasAttribute("controls")&&this._platform.TRIDENT)return!1;if(this._platform.BLINK||this._platform.FIREFOX)return!0}return("object"!==s||!this._platform.BLINK&&!this._platform.WEBKIT)&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){let e=t.nodeName.toLowerCase(),i="input"===e&&t.type;return"text"===i||"password"===i||"select"===e||"textarea"===e}(t))&&t.tabIndex>=0}isFocusable(t){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){let e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||Ui(t))}(t)&&!this.isDisabled(t)&&this.isVisible(t)}}return t.\u0275fac=function(e){return new(e||t)(u.Zb(b))},t.\u0275prov=Object(u.Lb)({factory:function(){return new t(Object(u.Zb)(b))},token:t,providedIn:"root"}),t})();function Ui(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function Hi(t){if(!Ui(t))return null;const e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class Ni{constructor(t,e,i,s,n=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=s,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,n||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement()))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let i=0;i<e.length;i++)e[i].hasAttribute("cdk-focus-"+t)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[i]):e[i].hasAttribute("cdk-focus-region-"+t)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[i]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");return t?(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),Object(u.W)()&&!this._checker.isFocusable(t)&&console.warn("Element matching '[cdkFocusInitial]' is not focusable.",t),t.focus(),!0):this.focusFirstTabbableElement()}focusFirstTabbableElement(){const t=this._getRegionBoundary("start");return t&&t.focus(),!!t}focusLastTabbableElement(){const t=this._getRegionBoundary("end");return t&&t.focus(),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let i=0;i<e.length;i++){let t=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(t)return t}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let i=e.length-1;i>=0;i--){let t=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(t)return t}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.asObservable().pipe(Object(li.a)(1)).subscribe(t)}}let Wi=(()=>{class t{constructor(t,e,i){this._checker=t,this._ngZone=e,this._document=i}create(t,e=!1){return new Ni(t,this._checker,this._ngZone,this._document,e)}}return t.\u0275fac=function(e){return new(e||t)(u.Zb(Fi),u.Zb(u.z),u.Zb(g.e))},t.\u0275prov=Object(u.Lb)({factory:function(){return new t(Object(u.Zb)(Fi),Object(u.Zb)(u.z),Object(u.Zb)(g.e))},token:t,providedIn:"root"}),t})();"undefined"!=typeof Element&&Element;let $i=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=(this._document.defaultView.getComputedStyle(t).backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),e){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove("cdk-high-contrast-active"),t.remove("cdk-high-contrast-black-on-white"),t.remove("cdk-high-contrast-white-on-black");const e=this.getHighContrastMode();1===e?(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-black-on-white")):2===e&&(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-white-on-black"))}}}return t.\u0275fac=function(e){return new(e||t)(u.Zb(b),u.Zb(g.e))},t.\u0275prov=Object(u.Lb)({factory:function(){return new t(Object(u.Zb)(b),Object(u.Zb)(g.e))},token:t,providedIn:"root"}),t})(),Zi=(()=>{class t{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return t.\u0275mod=u.Nb({type:t}),t.\u0275inj=u.Mb({factory:function(e){return new(e||t)(u.Zb($i))},imports:[[m,Bi]]}),t})();const Yi=new u.q("lightboxConfig"),Xi=Object(J.l)("lightbox",[Object(J.i)("void, exit",Object(J.j)({opacity:0,transform:"scale(0.7)"})),Object(J.i)("enter",Object(J.j)({transform:"none"})),Object(J.k)("* => enter",Object(J.e)("150ms cubic-bezier(0, 0, 0.2, 1)",Object(J.j)({transform:"none",opacity:1}))),Object(J.k)("* => void, * => exit",Object(J.e)("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Object(J.j)({opacity:0})))]);let Qi=(()=>{class t{constructor(t,e,i,s){this._document=t,this._focusTrapFactory=e,this._elementRef=i,this.sanitizer=s,this.state="enter",this._savePreviouslyFocusedElement()}onAnimationDone(t){"enter"===t.toState?this._trapFocus():(this.overlayRef.dispose(),this._restoreFocus())}_trapFocus(){this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)),this._focusTrap.focusInitialElementWhenReady()}_savePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=this._document.activeElement,this._elementRef.nativeElement.focus&&Promise.resolve().then(()=>this._elementRef.nativeElement.focus()))}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;t&&"function"==typeof t.focus&&t.focus(),this._focusTrap&&this._focusTrap.destroy()}}return t.\u0275fac=function(e){return new(e||t)(u.Pb(g.e,8),u.Pb(Wi),u.Pb(u.l),u.Pb(v.b))},t.\u0275cmp=u.Jb({type:t,selectors:[["lightbox"]],hostAttrs:["tabindex","-1","aria-modal","true"],hostVars:6,hostBindings:function(t,e){1&t&&u.Gb("@lightbox.done",(function(t){return e.onAnimationDone(t)})),2&t&&(u.Db("id","lightbox-"+e.id)("role",e.role)("aria-labelledby",e.ariaLabel?null:e.ariaLabelledBy)("aria-label",e.ariaLabel)("aria-describedby",e.ariaDescribedBy||null),u.Kc("@lightbox",e.state))},decls:2,vars:4,consts:[[3,"id","destroyRef","skipInitConfig"],["aria-label","Close",1,"g-btn-close",3,"innerHTML","click"]],template:function(t,e){1&t&&(u.Vb(0,"gallery",0),u.Vb(1,"i",1),u.dc("click",(function(){return e.overlayRef.detach()})),u.Ub(),u.Ub()),2&t&&(u.mc("id",e.id)("destroyRef",!1)("skipInitConfig",!0),u.Cb(1),u.mc("innerHTML",e.sanitizer.bypassSecurityTrustHtml(e.closeIcon),u.xc))},directives:[ye],styles:[".cdk-global-overlay-wrapper[_ngcontent-%COMP%], .cdk-overlay-container[_ngcontent-%COMP%]{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container[_ngcontent-%COMP%]{position:fixed;z-index:1000}.cdk-overlay-container[_ngcontent-%COMP%]:empty{display:none}.cdk-global-overlay-wrapper[_ngcontent-%COMP%]{display:flex;position:absolute;z-index:1000}.cdk-overlay-pane[_ngcontent-%COMP%]{position:absolute;pointer-events:auto;box-sizing:border-box;z-index:1000;display:flex;max-width:100%;max-height:100%}.cdk-overlay-backdrop[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0;z-index:1000;pointer-events:auto;-webkit-tap-highlight-color:transparent;transition:opacity .4s cubic-bezier(.25,.8,.25,1);opacity:0}.cdk-overlay-backdrop.cdk-overlay-backdrop-showing[_ngcontent-%COMP%]{opacity:1}@media screen and (-ms-high-contrast:active){.cdk-overlay-backdrop.cdk-overlay-backdrop-showing[_ngcontent-%COMP%]{opacity:.6}}.cdk-overlay-dark-backdrop[_ngcontent-%COMP%]{background:rgba(0,0,0,.32)}.cdk-overlay-transparent-backdrop[_ngcontent-%COMP%], .cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing[_ngcontent-%COMP%]{opacity:0}.cdk-overlay-connected-position-bounding-box[_ngcontent-%COMP%]{position:absolute;z-index:1000;display:flex;flex-direction:column;min-width:1px;min-height:1px}.cdk-global-scrollblock[_ngcontent-%COMP%]{position:fixed;width:100%;overflow-y:scroll}  lightbox{position:relative;display:block;width:1100px;height:800px;max-width:94vw;max-height:90vh;border-radius:4px;overflow:hidden;box-shadow:0 11px 15px -7px rgba(0,0,0,.2),0 24px 38px 3px rgba(0,0,0,.14),0 9px 46px 8px rgba(0,0,0,.12)}  lightbox:focus{outline:0}  lightbox gallery{overflow:hidden;margin:0;display:block;width:100%;height:100%}  .g-backdrop{background-color:rgba(0,0,0,.32)}  .fullscreen{width:100%}  .fullscreen   lightbox{max-width:unset;max-height:unset;position:fixed;top:0;left:0;bottom:0;right:0;height:100%;width:100%;border-radius:0}  .g-overlay{margin:auto}@media only screen and (max-width:480px){  .g-overlay{width:100%}  .g-overlay   lightbox{max-width:unset;max-height:unset;position:fixed;top:0;left:0;bottom:0;right:0;height:100%;width:100%;border-radius:0}}  .g-btn-close{position:absolute;right:.9em;top:.9em;z-index:60;cursor:pointer;width:20px;height:20px}@media only screen and (max-width:480px){  .g-btn-close{right:.7em;top:.7em}}"],data:{animation:[Xi]},changeDetection:0}),t})();const Gi={backdropClass:"g-backdrop",panelClass:"g-overlay",hasBackdrop:!0,keyboardShortcuts:!0,role:"lightbox",closeIcon:'<?xml version="1.0" encoding="UTF-8"?>\n<svg width="512px" height="512px" enable-background="new 0 0 47.971 47.971" version="1.1" viewBox="0 0 47.971 47.971" xml:space="preserve" xmlns="http://www.w3.org/2000/svg">\n\t<path d="M28.228,23.986L47.092,5.122c1.172-1.171,1.172-3.071,0-4.242c-1.172-1.172-3.07-1.172-4.242,0L23.986,19.744L5.121,0.88   c-1.172-1.172-3.07-1.172-4.242,0c-1.172,1.171-1.172,3.071,0,4.242l18.865,18.864L0.879,42.85c-1.172,1.171-1.172,3.071,0,4.242   C1.465,47.677,2.233,47.97,3,47.97s1.535-0.293,2.121-0.879l18.865-18.864L42.85,47.091c0.586,0.586,1.354,0.879,2.121,0.879   s1.535-0.293,2.121-0.879c1.172-1.171,1.172-3.071,0-4.242L28.228,23.986z" fill="#fff"/>\n</svg>\n'};let qi=(()=>{class t{constructor(t,e,i){this._gallery=e,this._overlay=i,this.opened=new Q.a,this.closed=new Q.a,this._config=t?Object.assign({},Gi,t):Gi}setConfig(t){this._config=Object.assign({},this._config,t)}open(t=0,e="lightbox",i){const s=i?Object.assign({},this._config,i):this._config,n={backdropClass:s.backdropClass,panelClass:s.panelClass,hasBackdrop:s.hasBackdrop,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:this._overlay.scrollStrategies.block(),disposeOnNavigation:!0},o=this._gallery.ref(e);o.set(t),this._overlayRef=this._overlay.create(n),this._overlayRef.attachments().subscribe(()=>this.opened.next(e)),this._overlayRef.detachments().subscribe(()=>this.closed.next(e));const r=new Ue(Qi),a=this._overlayRef.attach(r);a.instance.id=e,a.instance.overlayRef=this._overlayRef,a.instance.closeIcon=this._config.closeIcon,a.instance.role=this._config.role,a.instance.ariaLabel=this._config.ariaLabel,a.instance.ariaLabelledBy=this._config.ariaLabelledBy,a.instance.ariaDescribedBy=this._config.ariaDescribedBy,s.hasBackdrop&&this._overlayRef.backdropClick().subscribe(()=>this.close()),s.keyboardShortcuts&&this._overlayRef.keydownEvents().subscribe(t=>{switch(t.keyCode){case 37:o.prev();break;case 39:o.next();break;case 27:this.close()}})}close(){this._overlayRef.hasAttached()&&this._overlayRef.detach()}}return t.\u0275fac=function(e){return new(e||t)(u.Zb(Yi,8),u.Zb(_e),u.Zb(Ai))},t.\u0275prov=u.Lb({token:t,factory:t.\u0275fac}),t})(),Ji=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Yi,useValue:e}]}}}return t.\u0275mod=u.Nb({type:t}),t.\u0275inj=u.Mb({factory:function(e){return new(e||t)},providers:[qi],imports:[[Mi,ze,Zi]]}),t})();var Ki=i("4ro/"),ts=i("xJkR"),es=i("MKfq"),is=i("Cfvw"),ss=i("nYR2");let ns=(()=>{class t{constructor(t,e,i,s,n,o,r,a){this._zone=t,this._el=e,this._gallery=i,this._lightbox=s,this._renderer=n,this._document=r,this._galleryCmp=a,this._galleryId="lightbox",this.selector="img",Object(g.x)(o)&&(this._mode=a?"gallery":"detector")}ngOnInit(){this._zone.runOutsideAngular(()=>{this._galleryId=this.gallerize||this._galleryId;const t=this._gallery.ref(this._galleryId);switch(this._mode){case"detector":this.detectorMode(t);break;case"gallery":this.galleryMode(t)}})}ngOnDestroy(){switch(this._mode){case"detector":this._detector$.complete(),this._observer$.disconnect();break;case"gallery":this._itemClick$.unsubscribe(),this._itemChange$.unsubscribe()}}galleryMode(t){this._itemClick$=this._galleryCmp.galleryRef.itemClick.subscribe(t=>this._lightbox.open(t,this._galleryId)),this._itemChange$=this._galleryCmp.galleryRef.itemsChanged.subscribe(e=>t.load(e.items))}detectorMode(t){this._detector$=new Q.a,this._detector$.pipe(_t(300),Object(pt.a)(()=>{const e=this._el.nativeElement.querySelectorAll(this.selector);if(e&&e.length){const i=[];return Object(is.a)(e).pipe(Object(y.a)((t,e)=>{if(this._renderer.setStyle(t,"cursor","pointer"),this._renderer.setProperty(t,"onclick",()=>this._zone.run(()=>this._lightbox.open(e,this._galleryId))),t instanceof HTMLImageElement)return{src:t.getAttribute("imageSrc")||t.src,thumb:t.getAttribute("thumbSrc")||t.src};{const e=(t.currentStyle||this._document.defaultView.getComputedStyle(t,null)).backgroundImage.slice(4,-1).replace(/"/g,"");return{src:t.getAttribute("imageSrc")||e,thumb:t.getAttribute("thumbSrc")||e}}}),Object(mt.a)(t=>i.push(new de(t))),Object(ss.a)(()=>t.load(i)))}return tt.a})).subscribe(),this._observer$=new MutationObserver(()=>this._detector$.next()),this._observer$.observe(this._el.nativeElement,{childList:!0,subtree:!0})}}return t.\u0275fac=function(e){return new(e||t)(u.Pb(u.z),u.Pb(u.l),u.Pb(_e),u.Pb(qi),u.Pb(u.E),u.Pb(u.B),u.Pb(g.e),u.Pb(ye,11))},t.\u0275dir=u.Kb({type:t,selectors:[["","gallerize",""]],inputs:{selector:"selector",gallerize:"gallerize"}}),t})(),os=(()=>{class t{}return t.\u0275mod=u.Nb({type:t}),t.\u0275inj=u.Mb({factory:function(e){return new(e||t)},imports:[[ze,Ji]]}),t})();var rs=i("wf0l"),as=i("v5se"),cs=i("RKXm"),ls=i("eiOl");const hs=["slides"];function ds(t,e){if(1&t&&(u.Vb(0,"span"),u.Fc(1),u.Ub()),2&t){const t=u.gc();u.Cb(1),u.Hc(" ",t.preference.cartCount," ")}}function us(t,e){1&t&&(u.Qb(0,"empty-view",22),u.hc(1,"translate")),2&t&&u.mc("text",u.ic(1,1,"ERROR_DATA"))}function gs(t,e){1&t&&(u.Qb(0,"empty-view",22),u.hc(1,"translate")),2&t&&u.mc("text",u.ic(1,1,"EMPTY_DATA"))}const ps=function(){return{"border-radius":"0",margin:"0 0 16px",height:"250px",width:"100%"}},bs=function(){return{"border-radius":"0",height:"10px"}};function ms(t,e){1&t&&(u.Vb(0,"div"),u.Vb(1,"ion-row"),u.Vb(2,"ion-col",23),u.Qb(3,"ngx-skeleton-loader",24),u.Ub(),u.Vb(4,"ion-col",23),u.Qb(5,"ngx-skeleton-loader",25),u.Ub(),u.Ub(),u.Vb(6,"ion-row",26),u.Vb(7,"ion-col"),u.Vb(8,"div",27),u.Qb(9,"ngx-skeleton-loader",28),u.Ub(),u.Ub(),u.Ub(),u.Ub()),2&t&&(u.Cb(3),u.mc("theme",u.pc(3,ps)),u.Cb(2),u.mc("theme",u.pc(4,bs)),u.Cb(4),u.mc("theme",u.pc(5,bs)))}function fs(t,e){if(1&t&&(u.Vb(0,"ion-slide"),u.Qb(1,"div",49),u.Ub()),2&t){const t=e.$implicit,i=u.gc(3);u.Cb(1),u.mc("lazyLoad",t.url())("customObservable",i.slidesObservable),u.Db("imageSrc",t.url())("thumbSrc",t.url())}}function _s(t,e){if(1&t){const t=u.Wb();u.Vb(0,"div",46),u.Vb(1,"ion-slides",47,48),u.dc("ionSlidesDidLoad",(function(e){return u.wc(t),u.gc(2).onSlidesDidLoad(e)}))("ionSlideWillChange",(function(e){return u.wc(t),u.gc(2).onSlidesWillChange(e)})),u.Dc(3,fs,2,4,"ion-slide",45),u.Ub(),u.Ub()}if(2&t){const t=u.gc(2);u.Cb(3),u.mc("ngForOf",t.images)}}function ys(t,e){if(1&t&&(u.Vb(0,"p"),u.Vb(1,"span",50),u.Fc(2),u.hc(3,"currencyGlobal"),u.Ub(),u.Vb(4,"ion-text",51),u.Vb(5,"s",52),u.Fc(6),u.hc(7,"currencyGlobal"),u.Ub(),u.Ub(),u.Ub()),2&t){const t=u.gc(2);u.Cb(2),u.Hc("",u.ic(3,2,null==t.item?null:t.item.salePrice),"\xa0"),u.Cb(4),u.Gc(u.ic(7,4,null==t.item?null:t.item.price))}}function vs(t,e){if(1&t&&(u.Vb(0,"p",53),u.Fc(1),u.hc(2,"currencyGlobal"),u.Ub()),2&t){const t=u.gc(2);u.Cb(1),u.Hc(" ",u.ic(2,1,null==t.item?null:t.item.price)," ")}}function ws(t,e){if(1&t){const t=u.Wb();u.Vb(0,"ion-button",55),u.dc("click",(function(){u.wc(t);const i=e.$implicit;return u.gc(3).onVariationTouched(i)})),u.Fc(1),u.Ub()}if(2&t){const t=e.$implicit,i=u.gc(3);u.mc("color",(null==i.selectedVariation?null:i.selectedVariation.id)===t.id?"primary":"light"),u.Cb(1),u.Hc(" ",t.name," ")}}function xs(t,e){if(1&t&&(u.Vb(0,"div"),u.Vb(1,"h6"),u.Fc(2),u.hc(3,"translate"),u.Ub(),u.Dc(4,ws,2,2,"ion-button",54),u.Ub()),2&t){const t=u.gc(2);u.Cb(2),u.Gc(u.ic(3,2,"CHOOSE_VARIATION")),u.Cb(2),u.mc("ngForOf",t.variations)}}function Cs(t,e){1&t&&u.Qb(0,"ion-spinner",56)}function ks(t,e){1&t&&(u.Vb(0,"span"),u.Fc(1),u.hc(2,"translate"),u.Ub()),2&t&&(u.Cb(1),u.Hc(" ",u.ic(2,1,"ADD_TO_CART")," "))}function Ss(t,e){1&t&&(u.Vb(0,"span"),u.Fc(1),u.hc(2,"translate"),u.Ub()),2&t&&(u.Cb(1),u.Hc(" ",u.ic(2,1,"ITEM_NOT_AVAILABLE")," "))}function Os(t,e){if(1&t&&(u.Vb(0,"div",57),u.Vb(1,"h3",58),u.Vb(2,"ion-text",51),u.Fc(3),u.hc(4,"translate"),u.Ub(),u.Ub(),u.Qb(5,"div",59),u.Ub()),2&t){const t=u.gc(2);u.Cb(3),u.Hc(" ",u.ic(4,2,"DESCRIPTION")," "),u.Cb(2),u.mc("innerHTML",t.itemDescription,u.xc)}}function Is(t,e){1&t&&(u.Vb(0,"div",60),u.Vb(1,"div",61),u.Vb(2,"ion-text",51),u.Vb(3,"p"),u.Fc(4),u.hc(5,"translate"),u.Ub(),u.Ub(),u.Ub(),u.Ub()),2&t&&(u.Cb(4),u.Hc(" ",u.ic(5,1,"EMPTY_REVIEWS")," "))}function Ps(t,e){if(1&t&&(u.Vb(0,"div"),u.Vb(1,"ion-item",62),u.Vb(2,"ion-avatar",2),u.Qb(3,"img",63),u.Ub(),u.Vb(4,"ion-label"),u.Vb(5,"ion-text",64),u.Vb(6,"p",65),u.Fc(7),u.hc(8,"translate"),u.Ub(),u.Ub(),u.Qb(9,"bar-rating",31),u.Vb(10,"ion-text",51),u.Vb(11,"p",66),u.Fc(12),u.hc(13,"dateGlobal"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(14,"div",67),u.Vb(15,"ion-text",64),u.Vb(16,"p",65),u.Fc(17),u.Ub(),u.Ub(),u.Ub(),u.Ub()),2&t){const t=e.$implicit,i=u.gc(2);u.Cb(3),u.mc("lazyLoad",null==t.user||null==t.user.photo?null:t.user.photo.url())("customObservable",i.loadAndScroll),u.Cb(4),u.Hc(" ",(null==t.user?null:t.user.name)||u.ic(8,9,"GUEST")," "),u.Cb(2),u.mc("rate",t.rating)("readOnly",!0)("max",5)("theme","stars"),u.Cb(3),u.Hc(" ",u.jc(13,11,t.createdAt,"mediumDate")," "),u.Cb(5),u.Gc(t.comment)}}const Es=function(){return["./reviews"]};function Rs(t,e){1&t&&(u.Vb(0,"div",68),u.Vb(1,"ion-button",69),u.Fc(2),u.hc(3,"translate"),u.Ub(),u.Ub()),2&t&&(u.Cb(1),u.mc("routerLink",u.pc(4,Es)),u.Cb(1),u.Hc(" ",u.ic(3,2,"VIEW_ALL_REVIEWS")," "))}function Ts(t,e){1&t&&(u.Vb(0,"div"),u.Vb(1,"h5"),u.Fc(2),u.hc(3,"translate"),u.Ub(),u.Ub()),2&t&&(u.Cb(2),u.Gc(u.ic(3,1,"RELATED_ITEMS")))}const Vs=function(t){return[t]};function Ds(t,e){if(1&t&&(u.Vb(0,"ion-slide"),u.Qb(1,"app-shop-item",70),u.Ub()),2&t){const t=e.$implicit,i=u.gc(2);u.Cb(1),u.mc("item",t)("customObservable",i.slidesRelatedObservable)("routerLink",u.qc(3,Vs,"../../"+t.slug))}}function Ls(t,e){if(1&t){const t=u.Wb();u.Vb(0,"div"),u.Vb(1,"ion-row"),u.Vb(2,"ion-col",23),u.Dc(3,_s,4,1,"div",29),u.Ub(),u.Vb(4,"ion-col",23),u.Vb(5,"h4"),u.Fc(6),u.Ub(),u.Dc(7,ys,8,6,"p",7),u.Dc(8,vs,3,3,"p",30),u.Qb(9,"bar-rating",31),u.Dc(10,xs,5,4,"div",7),u.Vb(11,"div",32),u.Vb(12,"ion-button",33),u.dc("click",(function(){return u.wc(t),u.gc().dec()})),u.Qb(13,"ion-icon",34),u.Ub(),u.Vb(14,"span",35),u.Fc(15),u.Ub(),u.Vb(16,"ion-button",36),u.dc("click",(function(){return u.wc(t),u.gc().inc()})),u.Qb(17,"ion-icon",37),u.Ub(),u.Ub(),u.Vb(18,"div"),u.Vb(19,"ion-button",38),u.dc("click",(function(){return u.wc(t),u.gc().onAddToCart()})),u.Dc(20,Cs,1,0,"ion-spinner",39),u.Dc(21,ks,3,3,"span",7),u.Dc(22,Ss,3,3,"span",7),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(23,"ion-row"),u.Vb(24,"ion-col"),u.Dc(25,Os,6,4,"div",40),u.Vb(26,"div",27),u.Vb(27,"h3"),u.Fc(28),u.hc(29,"translate"),u.Ub(),u.Dc(30,Is,6,3,"div",41),u.Dc(31,Ps,18,14,"div",42),u.Dc(32,Rs,4,5,"div",43),u.Ub(),u.Ub(),u.Ub(),u.Dc(33,Ts,4,3,"div",7),u.Vb(34,"ion-slides",44),u.dc("ionSlideWillChange",(function(){return u.wc(t),u.gc().onSlidesRelatedDrag()})),u.Dc(35,Ds,2,5,"ion-slide",45),u.Ub(),u.Ub()}if(2&t){const t=u.gc();u.Cb(3),u.mc("ngIf",t.images.length),u.Cb(3),u.Gc(null==t.item?null:t.item.name),u.Cb(1),u.mc("ngIf",null==t.item?null:t.item.salePrice),u.Cb(1),u.mc("ngIf",!(null!=t.item&&t.item.salePrice)),u.Cb(1),u.mc("rate",t.item.ratingAvg)("readOnly",!0)("max",5)("theme","stars"),u.Cb(1),u.mc("ngIf",null==t.item?null:t.item.hasVariations()),u.Cb(2),u.mc("disabled",t.isQuantityInvalid()||t.item.isNotAvailable),u.Cb(3),u.Gc(t.qty),u.Cb(1),u.mc("disabled",t.item.isNotAvailable),u.Cb(3),u.mc("disabled",t.item.isNotAvailable||t.isAddingToCart),u.Cb(1),u.mc("ngIf",t.isAddingToCart),u.Cb(1),u.mc("ngIf",!t.isAddingToCart&&!t.item.isNotAvailable),u.Cb(1),u.mc("ngIf",t.item.isNotAvailable),u.Cb(3),u.mc("ngIf",t.itemDescription),u.Cb(3),u.Gc(u.ic(29,25,"REVIEWS")),u.Cb(2),u.mc("ngIf",!t.reviews.length),u.Cb(1),u.mc("ngForOf",t.reviews)("ngForTrackBy",t.trackByFn),u.Cb(1),u.mc("ngIf",t.reviews.length),u.Cb(1),u.mc("ngIf",null==t.item||null==t.item.relatedItems?null:t.item.relatedItems.length),u.Cb(1),u.mc("options",t.relatedSlidesConfig),u.Cb(1),u.mc("ngForOf",null==t.item?null:t.item.relatedItems)}}let As=(()=>{class t extends r.a{constructor(t,e,i,s,n,o,r,a,c){super(t),this.gallery=e,this.socialSharing=i,this.lightboxService=s,this.itemService=n,this.userService=o,this.reviewService=r,this.zone=a,this.cartService=c,this.isAddingToCart=!1,this.isLiked=!1,this.variations=[],this.reviews=[],this.images=[],this.relatedSlidesConfig={slidesPerView:2.8,spaceBetween:8,slidesOffsetBefore:8,slidesOffsetAfter:8,grabCursor:!0,breakpointsInverse:!0,breakpoints:{992:{slidesPerView:4.2,spaceBetween:16}}},this.webSocialShare={show:!1,share:{config:[{facebook:{socialShareUrl:""}},{twitter:{socialShareUrl:""}},{whatsapp:{socialShareText:"",socialShareUrl:""}},{copy:{socialShareUrl:""}}]},onClosed:()=>{this.webSocialShare.show=!1}},this.qty=1}onFocus(){this.onContentLoaded()}enableMenuSwipe(){return!1}ngOnInit(){this.setupObservables(),this.setupGallery()}ngOnDestroy(){this.lightboxSubscriptionOpen.unsubscribe(),this.lightboxSubscriptionClosed.unsubscribe(),document.removeEventListener("ionBackButton",this.backButtonListener)}setupGallery(){this.gallery.ref("itemGallery").setConfig({loadingMode:"indeterminate"}),this.backButtonListener=t=>{t.detail.register(10,()=>{this.zone.run(()=>{this.isLightboxOpen?this.lightboxService.close():this.goBack()})})},document.addEventListener("ionBackButton",this.backButtonListener),this.lightboxSubscriptionOpen=this.lightboxService.opened.subscribe(()=>{this.isLightboxOpen=!0}),this.lightboxSubscriptionClosed=this.lightboxService.closed.subscribe(()=>{this.isLightboxOpen=!1})}setupObservables(){this.slidesEvent=new Q.a,this.contentLoaded=new Q.a,this.slidesRelatedEvent=new Q.a,this.slidesObservable=Object(G.a)(this.content.ionScroll,this.slidesEvent,this.contentLoaded),this.slidesRelatedObservable=Object(G.a)(this.content.ionScroll,this.slidesRelatedEvent,this.contentLoaded),this.loadAndScroll=Object(G.a)(this.content.ionScroll,this.contentLoaded)}onContentLoaded(){setTimeout(()=>{this.contentLoaded.next()},400)}ionViewDidEnter(){return Object(n.a)(this,void 0,void 0,(function*(){try{if(this.item)return;yield this.showLoadingView({showOverlay:!1});const t=yield this.getParams().itemId;this.item=yield this.itemService.loadOne(t),this.item.hasVariations()&&(this.variations=this.item.variations.filter(t=>t.isActive)),this.loadReviews(),this.item.description&&(this.itemDescription=this.sanitizer.bypassSecurityTrustHtml(this.item.description)),Array.isArray(this.item.images)&&this.item.images.length&&this.images.push(...this.item.images),this.item.featuredImage&&(this.images=[this.item.featuredImage,...this.images]),this.setPageTitle(this.item.name),this.setMetaTags({title:this.item.name,description:this.item.description,image:this.item.featuredImage?this.item.featuredImage.url():"",slug:this.item.slug}),this.showContentView(),this.onContentLoaded(),this.checkIfItemIsLiked(),this.trackView()}catch(t){this.showErrorView()}}))}onSlidesDidLoad(){this.slidesEvent.next()}onSlidesWillChange(){this.slidesEvent.next()}onSlidesRelatedDrag(){this.slidesRelatedEvent.next()}loadReviews(){return Object(n.a)(this,void 0,void 0,(function*(){try{this.reviews=yield this.reviewService.load({item:this.item,limit:10}),this.onContentLoaded()}catch(t){console.warn(t.message)}}))}presentSignInModal(){return Object(n.a)(this,void 0,void 0,(function*(){yield this.showLoadingView({showOverlay:!0});const t=yield this.modalCtrl.create({component:h.a,componentProps:{showLoginForm:!0}});yield t.present(),this.showContentView()}))}checkIfItemIsLiked(){return Object(n.a)(this,void 0,void 0,(function*(){if(l.a.getCurrent())try{this.isLiked=yield this.itemService.isLiked(this.item.id)}catch(t){console.warn(t.message)}}))}trackView(){return Object(n.a)(this,void 0,void 0,(function*(){try{yield this.itemService.trackView(this.item.id)}catch(t){console.warn(t.message)}}))}onShare(){return Object(n.a)(this,void 0,void 0,(function*(){const t=this.getShareUrl(this.item.slug);if(this.isHybrid())try{yield this.socialSharing.share(this.item.name,null,null,t)}catch(e){console.warn(e)}else this.isPwa()||this.isMobile()?(this.webSocialShare.share.config.forEach(e=>{e.whatsapp?e.whatsapp.socialShareUrl=t:e.facebook?e.facebook.socialShareUrl=t:e.twitter?e.twitter.socialShareUrl=t:e.copy&&(e.copy.socialShareUrl=t)}),this.webSocialShare.show=!0):this.openShareModal(t)}))}openShareModal(t){return Object(n.a)(this,void 0,void 0,(function*(){yield this.showLoadingView({showOverlay:!0});const e=yield this.modalCtrl.create({component:X,componentProps:{url:t}});yield e.present(),this.showContentView()}))}onLike(){return Object(n.a)(this,void 0,void 0,(function*(){if(l.a.getCurrent())try{this.isLiked=!this.isLiked,yield this.itemService.like(this.item.id)}catch(t){console.log(t.message)}else this.presentSignInModal()}))}onVariationTouched(t){this.selectedVariation=t}isQuantityInvalid(){return this.qty<=1}inc(){this.qty++}dec(){this.qty--}onAddToCart(){return Object(n.a)(this,void 0,void 0,(function*(){try{if(this.item.hasVariations()&&!this.selectedVariation)return this.translate.get("CHOOSE_VARIATION").subscribe(t=>this.showToast(t));if(this.isAddingToCart=!0,!l.a.getCurrent()){const t=yield this.userService.loginAnonymously(),e=yield this.userService.becomeWithSessionToken(t.getSessionToken());window.dispatchEvent(new CustomEvent("user:login",{detail:e}))}const t=Object.assign({},this.item.toJSON()),e=["objectId"],i=Object.keys(t).filter(t=>e.includes(t)).reduce((e,i)=>(e[i]=t[i],e),{});i.qty=this.qty,this.selectedVariation&&(i.variation=this.selectedVariation.toJSON());let s=yield this.cartService.getOne();if(s=s||new c.a,s.items.find(t=>t.variation?t.objectId===i.objectId&&t.variation.objectId===i.variation.objectId:t.objectId===i.objectId))return this.isAddingToCart=!1,this.translate.get("ITEM_ALREADY_IN_CART").subscribe(t=>this.showToast(t));s.items.push(i),yield s.save(),window.dispatchEvent(new CustomEvent("cart:updated",{detail:s})),this.isAddingToCart=!1;const{value:n}=yield this.showSweetSuccessView();n&&this.setRoot("/1/cart/checkout")}catch(t){this.isAddingToCart=!1,3e3===t.code?this.translate.get("ITEM_NOT_AVAILABLE").subscribe(t=>this.showToast(t)):this.translate.get("ERROR_NETWORK").subscribe(t=>this.showToast(t))}}))}trackByFn(t,e){return e?e.id:null}}return t.\u0275fac=function(e){return new(e||t)(u.Pb(u.r),u.Pb(_e),u.Pb(d.a),u.Pb(qi),u.Pb(a.a),u.Pb(l.a),u.Pb(q.a),u.Pb(u.z),u.Pb(c.a))},t.\u0275cmp=u.Jb({type:t,selectors:[["page-item"]],viewQuery:function(t,e){var i;1&t&&(u.Lc(hs,!0),u.Bc(o.p,!0)),2&t&&(u.tc(i=u.ec())&&(e.slides=i.first),u.tc(i=u.ec())&&(e.content=i.first))},hostBindings:function(t,e){1&t&&u.dc("focus",(function(){return e.onFocus()}),!1,u.vc)},features:[u.zb],decls:27,vars:11,consts:[[1,"ion-no-border"],["fixed",""],["slot","start"],["defaultHref","/"],["slot","end"],[3,"disabled","click"],["slot","start","name","cart"],[4,"ngIf"],["color","dark",3,"disabled","click"],["slot","icon-only","color","primary",3,"name"],[1,"btn-share",3,"disabled","click"],["slot","icon-only","name","share"],["scrollEvents","true"],["container",""],[3,"show","share","closed"],["name","logo-facebook","slot","facebook",1,"block",2,"color","var(--ion-color-fb)","width","36px","height","36px"],["name","logo-twitter","slot","twitter",1,"block",2,"color","var(--ion-color-twitter)","width","36px","height","36px"],["name","logo-whatsapp","slot","whatsapp",1,"block",2,"color","var(--ion-color-whatsapp)","width","36px","height","36px"],["name","copy-outline","slot","copy",1,"block",2,"color","var(--ion-color-medium)","width","36px","height","36px"],["icon","alert-circle-outline",3,"text",4,"ngIf"],[1,"ion-justify-content-center"],["size-xs","12","size-lg","10"],["icon","alert-circle-outline",3,"text"],["size-xs","12","size-lg","6"],["count","1",3,"theme"],["count","4",3,"theme"],[1,"bg-light","ion-margin-vertical"],[1,"ion-padding"],["count","16",3,"theme"],["class","border-light ion-padding",4,"ngIf"],["class","text-large bold",4,"ngIf"],[3,"rate","readOnly","max","theme"],[1,"flex","align-items-center","justify-content-center","ion-margin-vertical"],["color","dark",1,"button-quantity",3,"disabled","click"],["slot","icon-only","name","remove"],[1,"label-quantity"],["color","primary",1,"button-quantity",3,"disabled","click"],["slot","icon-only","name","add"],["strong","","expand","block","shape","round","color","primary",1,"ion-text-uppercase","ion-margin-vertical",3,"disabled","click"],["color","light",4,"ngIf"],["class","ion-padding ion-text-center",4,"ngIf"],["style","height:170px;","class","ion-text-center",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","ion-margin-vertical ion-text-center",4,"ngIf"],[1,"related",3,"options","ionSlideWillChange"],[4,"ngFor","ngForOf"],[1,"border-light","ion-padding"],["pager","","gallerize","itemGallery","selector",".bg-img",1,"main",3,"ionSlidesDidLoad","ionSlideWillChange"],["slides",""],["defaultImage","./assets/imgs/placeholder-large.jpg",1,"slide","bg-img",3,"lazyLoad","customObservable"],[1,"bold"],["color","medium"],[1,"text-small","bold"],[1,"text-large","bold"],["class","btn-variation ion-text-capitalize ion-margin-end","size","small",3,"color","click",4,"ngFor","ngForOf"],["size","small",1,"btn-variation","ion-text-capitalize","ion-margin-end",3,"color","click"],["color","light"],[1,"ion-padding","ion-text-center"],[1,"ion-no-margin"],[1,"ion-text-justify",3,"innerHTML"],[1,"ion-text-center",2,"height","170px"],[1,"flex-center"],["lines","none"],["defaultImage","./assets/imgs/avatar.png",3,"lazyLoad","customObservable"],["color","dark"],[1,"no-margin"],[1,"text-medium"],[1,"ion-padding-horizontal"],[1,"ion-margin-vertical","ion-text-center"],["color","light",1,"",3,"routerLink"],[3,"item","customObservable","routerLink"]],template:function(t,e){1&t&&(u.Vb(0,"ion-header",0),u.Vb(1,"ion-toolbar",1),u.Vb(2,"ion-buttons",2),u.Qb(3,"ion-back-button",3),u.Ub(),u.Qb(4,"ion-title"),u.Vb(5,"ion-buttons",4),u.Vb(6,"ion-button",5),u.dc("click",(function(){return e.goToCartPage()})),u.Qb(7,"ion-icon",6),u.Dc(8,ds,2,1,"span",7),u.Ub(),u.Vb(9,"ion-button",8),u.dc("click",(function(){return e.onLike()})),u.Qb(10,"ion-icon",9),u.Ub(),u.Vb(11,"ion-button",10),u.dc("click",(function(){return e.onShare()})),u.Qb(12,"ion-icon",11),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(13,"ion-content",12,13),u.Vb(15,"web-social-share",14),u.dc("closed",(function(){return e.webSocialShare.onClosed()})),u.Qb(16,"ion-icon",15),u.Qb(17,"ion-icon",16),u.Qb(18,"ion-icon",17),u.Qb(19,"ion-icon",18),u.Ub(),u.Vb(20,"ion-grid",1),u.Dc(21,us,2,3,"empty-view",19),u.Dc(22,gs,2,3,"empty-view",19),u.Vb(23,"ion-row",20),u.Vb(24,"ion-col",21),u.Dc(25,ms,10,6,"div",7),u.Dc(26,Ls,36,27,"div",7),u.Ub(),u.Ub(),u.Ub(),u.Ub()),2&t&&(u.Cb(6),u.mc("disabled",!e.item),u.Cb(2),u.mc("ngIf",e.preference.cartCount),u.Cb(1),u.mc("disabled",!e.item),u.Cb(1),u.mc("name",e.isLiked?"heart":"heart-outline"),u.Cb(1),u.mc("disabled",!e.item),u.Cb(4),u.mc("show",e.webSocialShare.show)("share",e.webSocialShare.share),u.Cb(6),u.mc("ngIf",e.isErrorViewVisible),u.Cb(1),u.mc("ngIf",e.isEmptyViewVisible),u.Cb(3),u.mc("ngIf",e.isLoadingViewVisible),u.Cb(1),u.mc("ngIf",e.isContentViewVisible))},directives:[o.s,o.Y,o.k,o.g,o.h,o.W,o.j,o.t,g.l,o.p,o.r,o.J,o.o,Ki.a,ts.a,es.a,g.k,o.O,ns,o.N,rs.a,o.T,o.P,o.x,o.f,o.z,s.h,o.gb,as.a],pipes:[Y.c,cs.a,ls.a],styles:["ion-content[_ngcontent-%COMP%]{--background:var(--ion-color-light)}ion-grid[_ngcontent-%COMP%]{background:#fff}ion-slides.main[_ngcontent-%COMP%]{background:#fff;height:270px}ion-slides.main[_ngcontent-%COMP%]   .slide[_ngcontent-%COMP%], ion-slides.related[_ngcontent-%COMP%]   .slide[_ngcontent-%COMP%]{background-repeat:no-repeat;background-position:50%;background-size:contain;height:270px;width:100%}ion-card[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{position:relative;padding:0}ion-card[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#ccc;padding:3px;color:#333;font-size:12px;border-radius:2px;position:absolute;bottom:10px;left:16px}ion-card-content[_ngcontent-%COMP%]{padding:4px 6px!important}.btn-variation[_ngcontent-%COMP%]{--box-shadow:none;--border-width:1px;--border-style:solid;--border-color:var(--ion-color-light-shade)}.label-quantity[_ngcontent-%COMP%]{font-size:24px;font-weight:700;margin:0 16px}.button-quantity[_ngcontent-%COMP%]{height:auto;--padding-end:6px;--padding-start:6px;--padding-bottom:6px;--padding-top:6px}ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{padding-left:16px}ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:12px}"]}),t})();var js=i("d2mR"),Ms=i("b8Qw");i("7O5W");let zs=(()=>{let t=class{};return t.\u0275mod=u.Nb({type:t}),t.\u0275inj=u.Mb({factory:function(e){return new(e||t)}}),t})(),Bs=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:x,useValue:e}]}}}return t.\u0275mod=u.Nb({type:t}),t.\u0275inj=u.Mb({factory:function(e){return new(e||t)},imports:[[Z,zs,g.c],Z,zs]}),t})(),Fs=(()=>{class t{}return t.\u0275mod=u.Nb({type:t}),t.\u0275inj=u.Mb({factory:function(e){return new(e||t)},imports:[[g.c,o.Z,Y.b,Bs]]}),t})(),Us=(()=>{class t{}return t.\u0275mod=u.Nb({type:t}),t.\u0275inj=u.Mb({factory:function(e){return new(e||t)},imports:[[s.i.forChild([{path:"",component:As}]),js.a,Ms.a,Fs,ze,Ji,os]]}),t})()}}]);