(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"99Un":function(e,i,t){"use strict";t.r(i),t.d(i,"HomePageModule",(function(){return me}));var n=t("tyNb"),o=t("mrSG"),s=t("TEn/"),c=t("NV1z"),r=t("62S+"),a=t("v0iw"),l=t("eijT"),b=t("XNiG"),d=t("VRyK"),u=t("R0Ic"),g=t("gNTI"),m=t("fXoL"),h=t("ofXK"),f=t("4ro/"),p=t("wf0l"),v=t("v5se"),C=t("xJkR"),V=t("sYmb");const w=["mainSlider"],y=function(e){return[e]};function U(e,i){if(1&e&&(m.Vb(0,"ion-item",18),m.Vb(1,"ion-label"),m.Vb(2,"ion-text",19),m.Vb(3,"span",20),m.Fc(4),m.Ub(),m.Ub(),m.Ub(),m.Ub()),2&e){const e=i.$implicit;m.mc("routerLink",m.qc(2,y,"./items/"+e.slug)),m.Cb(4),m.Hc(" ",e.name," ")}}function O(e,i){if(1&e&&(m.Vb(0,"ion-grid",15),m.Vb(1,"ion-list",16),m.Dc(2,U,5,4,"ion-item",17),m.Ub(),m.Ub()),2&e){const e=m.gc();m.Cb(1),m.mc("@staggerIn",e.suggestions.length),m.Cb(1),m.mc("ngForOf",e.suggestions)("ngForTrackBy",e.trackByFn)}}function S(e,i){1&e&&(m.Qb(0,"empty-view",21),m.hc(1,"translate")),2&e&&m.mc("text",m.ic(1,1,"ERROR_DATA"))}function F(e,i){1&e&&(m.Qb(0,"empty-view",21),m.hc(1,"translate")),2&e&&m.mc("text",m.ic(1,1,"EMPTY_DATA"))}const k=function(e){return{"background-image":e}};function L(e,i){if(1&e){const e=m.Wb();m.Vb(0,"ion-slide"),m.Vb(1,"div",28),m.dc("click",(function(){m.wc(e);const t=i.$implicit;return m.gc(4).onSlideTouched(t)})),m.Vb(2,"div",29),m.Qb(3,"ion-ripple-effect",30),m.Ub(),m.Ub(),m.Ub()}if(2&e){const e=i.$implicit;m.Cb(2),m.mc("ngStyle",m.qc(1,k,"url("+(null==e.image?null:e.image.url())+")"))}}function I(e,i){if(1&e){const e=m.Wb();m.Vb(0,"div"),m.Vb(1,"div",24),m.Vb(2,"ion-slides",25,26),m.dc("ionSlidesDidLoad",(function(){return m.wc(e),m.gc(3).onSlidesDidLoad()}))("ionSlideWillChange",(function(){return m.wc(e),m.gc(3).onSlidesDidChange()})),m.Dc(4,L,4,3,"ion-slide",27),m.Ub(),m.Ub(),m.Ub()}if(2&e){const e=m.gc(3);m.Cb(2),m.mc("options",e.slidesConfig),m.Cb(2),m.mc("ngForOf",e.slides)("ngForTrackBy",e.trackByFn)}}function x(e,i){if(1&e){const e=m.Wb();m.Vb(0,"ion-col",37),m.dc("click",(function(){m.wc(e);const t=i.$implicit;return m.gc(4).onCategoryTouched(t)})),m.Qb(1,"div",38),m.Vb(2,"ion-text",19),m.Vb(3,"p",39),m.Fc(4),m.Ub(),m.Ub(),m.Ub()}if(2&e){const e=i.$implicit,t=m.gc(4);m.Cb(1),m.mc("offset",300)("lazyLoad",null==e.imageThumb?null:e.imageThumb.url())("customObservable",t.loadAndScroll),m.Cb(3),m.Hc(" ",e.name," ")}}const A=function(){return["./categories"]};function T(e,i){if(1&e&&(m.Vb(0,"div"),m.Vb(1,"ion-row",31),m.Vb(2,"ion-col"),m.Vb(3,"h3",32),m.Fc(4),m.hc(5,"translate"),m.Ub(),m.Ub(),m.Vb(6,"ion-col",33),m.Vb(7,"ion-button",34),m.Fc(8),m.hc(9,"translate"),m.Ub(),m.Ub(),m.Ub(),m.Vb(10,"ion-row",35),m.Dc(11,x,5,4,"ion-col",36),m.Ub(),m.Ub()),2&e){const e=m.gc(3);m.Cb(4),m.Hc(" ",m.ic(5,6,"CATEGORIES")," "),m.Cb(3),m.mc("routerLink",m.pc(10,A)),m.Cb(1),m.Hc(" ",m.ic(9,8,"VIEW_ALL")," "),m.Cb(2),m.mc("@staggerIn",e.categories.length),m.Cb(1),m.mc("ngForOf",e.categories)("ngForTrackBy",e.trackByFn)}}const B=function(){return["./items"]},D=function(e){return{brand:e}};function E(e,i){if(1&e&&(m.Vb(0,"ion-slide"),m.Vb(1,"div",43),m.Qb(2,"div",44),m.Vb(3,"ion-text",19),m.Vb(4,"p",45),m.Fc(5),m.Ub(),m.Ub(),m.Ub(),m.Ub()),2&e){const e=i.$implicit;m.Cb(1),m.mc("routerLink",m.pc(5,B))("queryParams",m.qc(6,D,e.id)),m.Cb(1),m.Cc("background-image","url("+(null==e.image?null:e.image.url())+")",m.Ib),m.Cb(3),m.Hc(" ",e.name," ")}}function R(e,i){if(1&e&&(m.Vb(0,"ion-col",46),m.Vb(1,"div",47),m.Qb(2,"div",48),m.Vb(3,"ion-text",19),m.Vb(4,"p",45),m.Fc(5),m.Ub(),m.Ub(),m.Ub(),m.Ub()),2&e){const e=i.$implicit,t=m.gc(4);m.Cb(1),m.mc("routerLink",m.pc(6,B))("queryParams",m.qc(7,D,e.id)),m.Cb(1),m.mc("offset",300)("lazyLoad",null==e.image?null:e.image.url())("customObservable",t.loadAndScroll),m.Cb(3),m.Hc(" ",e.name," ")}}const _=function(){return["./brands"]};function z(e,i){if(1&e){const e=m.Wb();m.Vb(0,"div"),m.Vb(1,"ion-row",31),m.Vb(2,"ion-col"),m.Vb(3,"h3",32),m.Fc(4),m.hc(5,"translate"),m.Ub(),m.Ub(),m.Vb(6,"ion-col",33),m.Vb(7,"ion-button",34),m.Fc(8),m.hc(9,"translate"),m.Ub(),m.Ub(),m.Ub(),m.Vb(10,"ion-slides",40),m.dc("ionSlidesDidLoad",(function(){return m.wc(e),m.gc(3).onSlidesBrandsLoaded()}))("ionSlideWillChange",(function(){return m.wc(e),m.gc(3).onSlidesBrandsChange()})),m.Dc(11,E,6,8,"ion-slide",27),m.Ub(),m.Vb(12,"div",41),m.Vb(13,"ion-row",35),m.Dc(14,R,6,9,"ion-col",42),m.Ub(),m.Ub(),m.Ub()}if(2&e){const e=m.gc(3);m.Cb(4),m.Hc(" ",m.ic(5,9,"BRANDS")," "),m.Cb(3),m.mc("routerLink",m.pc(13,_)),m.Cb(1),m.Hc(" ",m.ic(9,11,"VIEW_ALL")," "),m.Cb(2),m.mc("options",e.slidesBrandsConfig),m.Cb(1),m.mc("ngForOf",e.brands)("ngForTrackBy",e.trackByFn),m.Cb(2),m.mc("@staggerIn",e.brands.length),m.Cb(1),m.mc("ngForOf",e.brands)("ngForTrackBy",e.trackByFn)}}function P(e,i){if(1&e&&(m.Vb(0,"ion-slide"),m.Qb(1,"app-shop-item",57),m.Ub()),2&e){const e=i.$implicit,t=m.gc(4);m.Cb(1),m.mc("item",e)("customObservable",t.slidesItemsOnSaleObservable)("routerLink",m.qc(3,y,"./items/"+e.slug))}}function N(e,i){if(1&e&&(m.Vb(0,"ion-col",58),m.Qb(1,"app-shop-item",57),m.Ub()),2&e){const e=i.$implicit,t=m.gc(4);m.Cb(1),m.mc("item",e)("customObservable",t.loadAndScroll)("routerLink",m.qc(3,y,"./items/"+e.slug))}}const W=function(){return{sale:"1"}};function j(e,i){if(1&e){const e=m.Wb();m.Vb(0,"section",49),m.Vb(1,"ion-row",50),m.Vb(2,"ion-col",51),m.Vb(3,"h3",32),m.Fc(4),m.hc(5,"translate"),m.Ub(),m.Ub(),m.Vb(6,"ion-col",52),m.Vb(7,"ion-button",53),m.Fc(8),m.hc(9,"translate"),m.Ub(),m.Ub(),m.Ub(),m.Vb(10,"div",49),m.Vb(11,"ion-slides",54),m.dc("ionSlideWillChange",(function(){return m.wc(e),m.gc(3).onSlidesItemsOnSaleChange()}))("ionSlidesDidLoad",(function(){return m.wc(e),m.gc(3).onSlidesItemsOnSaleLoaded()})),m.Dc(12,P,2,5,"ion-slide",27),m.Ub(),m.Vb(13,"div",55),m.Vb(14,"ion-row"),m.Dc(15,N,2,5,"ion-col",56),m.Ub(),m.Ub(),m.Ub(),m.Ub()}if(2&e){const e=m.gc(3);m.Cb(4),m.Hc(" ",m.ic(5,9,"ON_SALE")," "),m.Cb(3),m.mc("routerLink",m.pc(13,B))("queryParams",m.pc(14,W)),m.Cb(1),m.Hc(" ",m.ic(9,11,"VIEW_ALL")," "),m.Cb(3),m.mc("options",e.slidesItemsConfig),m.Cb(1),m.mc("ngForOf",e.itemsOnSale)("ngForTrackBy",e.trackByFn),m.Cb(3),m.mc("ngForOf",e.itemsOnSale)("ngForTrackBy",e.trackByFn)}}function q(e,i){if(1&e&&(m.Vb(0,"ion-slide"),m.Qb(1,"app-shop-item",57),m.Ub()),2&e){const e=i.$implicit,t=m.gc(4);m.Cb(1),m.mc("item",e)("customObservable",t.slidesItemsNewArrivalObservable)("routerLink",m.qc(3,y,"./items/"+e.slug))}}function M(e,i){if(1&e&&(m.Vb(0,"ion-col",58),m.Qb(1,"app-shop-item",57),m.Ub()),2&e){const e=i.$implicit,t=m.gc(4);m.Cb(1),m.mc("item",e)("customObservable",t.loadAndScroll)("routerLink",m.qc(3,y,"./items/"+e.slug))}}const H=function(){return{new:"1"}};function Q(e,i){if(1&e){const e=m.Wb();m.Vb(0,"section",49),m.Vb(1,"ion-row",50),m.Vb(2,"ion-col",51),m.Vb(3,"h3",32),m.Fc(4),m.hc(5,"translate"),m.Ub(),m.Ub(),m.Vb(6,"ion-col",52),m.Vb(7,"ion-button",53),m.Fc(8),m.hc(9,"translate"),m.Ub(),m.Ub(),m.Ub(),m.Vb(10,"div",49),m.Vb(11,"ion-slides",54),m.dc("ionSlideWillChange",(function(){return m.wc(e),m.gc(3).onSlidesItemsNewArrivalChange()}))("ionSlidesDidLoad",(function(){return m.wc(e),m.gc(3).onSlidesItemsNewArrivalLoaded()})),m.Dc(12,q,2,5,"ion-slide",27),m.Ub(),m.Vb(13,"div",55),m.Vb(14,"ion-row"),m.Dc(15,M,2,5,"ion-col",56),m.Ub(),m.Ub(),m.Ub(),m.Ub()}if(2&e){const e=m.gc(3);m.Cb(4),m.Hc(" ",m.ic(5,9,"NEW_ARRIVAL")," "),m.Cb(3),m.mc("routerLink",m.pc(13,B))("queryParams",m.pc(14,H)),m.Cb(1),m.Hc(" ",m.ic(9,11,"VIEW_ALL")," "),m.Cb(3),m.mc("options",e.slidesItemsConfig),m.Cb(1),m.mc("ngForOf",e.itemsNewArrival)("ngForTrackBy",e.trackByFn),m.Cb(3),m.mc("ngForOf",e.itemsNewArrival)("ngForTrackBy",e.trackByFn)}}function $(e,i){if(1&e&&(m.Vb(0,"ion-slide"),m.Qb(1,"app-shop-item",57),m.Ub()),2&e){const e=i.$implicit,t=m.gc(4);m.Cb(1),m.mc("item",e)("customObservable",t.slidesItemsFeaturedObservable)("routerLink",m.qc(3,y,"./items/"+e.slug))}}function G(e,i){if(1&e&&(m.Vb(0,"ion-col",58),m.Qb(1,"app-shop-item",57),m.Ub()),2&e){const e=i.$implicit,t=m.gc(4);m.Cb(1),m.mc("item",e)("customObservable",t.loadAndScroll)("routerLink",m.qc(3,y,"./items/"+e.slug))}}const J=function(){return{featured:"1"}};function K(e,i){if(1&e){const e=m.Wb();m.Vb(0,"section",49),m.Vb(1,"ion-row",50),m.Vb(2,"ion-col",51),m.Vb(3,"h3",32),m.Fc(4),m.hc(5,"translate"),m.Ub(),m.Ub(),m.Vb(6,"ion-col",52),m.Vb(7,"ion-button",53),m.Fc(8),m.hc(9,"translate"),m.Ub(),m.Ub(),m.Ub(),m.Vb(10,"div",49),m.Vb(11,"ion-slides",54),m.dc("ionSlideWillChange",(function(){return m.wc(e),m.gc(3).onSlidesItemsFeaturedChange()}))("ionSlidesDidLoad",(function(){return m.wc(e),m.gc(3).onSlidesItemsFeaturedLoaded()})),m.Dc(12,$,2,5,"ion-slide",27),m.Ub(),m.Vb(13,"div",55),m.Vb(14,"ion-row"),m.Dc(15,G,2,5,"ion-col",56),m.Ub(),m.Ub(),m.Ub(),m.Ub()}if(2&e){const e=m.gc(3);m.Cb(4),m.Hc(" ",m.ic(5,9,"FEATURED")," "),m.Cb(3),m.mc("routerLink",m.pc(13,B))("queryParams",m.pc(14,J)),m.Cb(1),m.Hc(" ",m.ic(9,11,"VIEW_ALL")," "),m.Cb(3),m.mc("options",e.slidesItemsConfig),m.Cb(1),m.mc("ngForOf",e.itemsFeatured)("ngForTrackBy",e.trackByFn),m.Cb(3),m.mc("ngForOf",e.itemsFeatured)("ngForTrackBy",e.trackByFn)}}function X(e,i){if(1&e&&(m.Vb(0,"ion-col",62),m.Qb(1,"app-shop-item",57),m.Ub()),2&e){const e=i.$implicit,t=m.gc(4);m.Cb(1),m.mc("item",e)("customObservable",t.loadAndScroll)("routerLink",m.qc(3,y,"./items/"+e.slug))}}function Y(e,i){if(1&e){const e=m.Wb();m.Vb(0,"div"),m.Vb(1,"ion-row",50),m.Vb(2,"ion-col",51),m.Vb(3,"h3",32),m.Fc(4),m.hc(5,"translate"),m.Ub(),m.Ub(),m.Vb(6,"ion-col",52),m.Vb(7,"ion-button",34),m.Fc(8),m.hc(9,"translate"),m.Ub(),m.Ub(),m.Ub(),m.Vb(10,"div",59),m.Vb(11,"ion-row"),m.Dc(12,X,2,5,"ion-col",60),m.Ub(),m.Ub(),m.Vb(13,"ion-infinite-scroll",61),m.dc("ionInfinite",(function(i){return m.wc(e),m.gc(3).onLoadMore(i)})),m.Qb(14,"ion-infinite-scroll-content"),m.Ub(),m.Ub()}if(2&e){const e=m.gc(3);m.Cb(4),m.Hc(" ",m.ic(5,4,"ALL_ITEMS")," "),m.Cb(3),m.mc("routerLink",m.pc(8,B)),m.Cb(1),m.Hc(" ",m.ic(9,6,"VIEW_ALL")," "),m.Cb(4),m.mc("ngForOf",e.items)}}function Z(e,i){if(1&e&&(m.Vb(0,"ion-col",62),m.Qb(1,"app-shop-item",57),m.Ub()),2&e){const e=i.$implicit,t=m.gc(4);m.Cb(1),m.mc("item",e)("customObservable",t.loadAndScroll)("routerLink",m.qc(3,y,"./items/"+e.slug))}}function ee(e,i){if(1&e){const e=m.Wb();m.Vb(0,"div"),m.Vb(1,"ion-row",50),m.Vb(2,"ion-col",51),m.Vb(3,"h3",32),m.Fc(4),m.hc(5,"translate"),m.Ub(),m.Ub(),m.Vb(6,"ion-col",52),m.Vb(7,"ion-button",34),m.Fc(8),m.hc(9,"translate"),m.Ub(),m.Ub(),m.Ub(),m.Vb(10,"div",59),m.Vb(11,"ion-row"),m.Dc(12,Z,2,5,"ion-col",60),m.Ub(),m.Ub(),m.Vb(13,"ion-infinite-scroll",61),m.dc("ionInfinite",(function(i){return m.wc(e),m.gc(3).onLoadMoreRandom(i)})),m.Qb(14,"ion-infinite-scroll-content"),m.Ub(),m.Ub()}if(2&e){const e=m.gc(3);m.Cb(4),m.Hc(" ",m.ic(5,4,"MORE_ITEMS")," "),m.Cb(3),m.mc("routerLink",m.pc(8,B)),m.Cb(1),m.Hc(" ",m.ic(9,6,"VIEW_ALL")," "),m.Cb(4),m.mc("ngForOf",e.itemsRandom)}}function ie(e,i){if(1&e&&(m.Vb(0,"div"),m.Dc(1,I,5,3,"div",14),m.Dc(2,T,12,11,"div",14),m.Dc(3,z,15,14,"div",14),m.Dc(4,j,16,15,"section",23),m.Dc(5,Q,16,15,"section",23),m.Dc(6,K,16,15,"section",23),m.Dc(7,Y,15,9,"div",14),m.Dc(8,ee,15,9,"div",14),m.Ub()),2&e){const e=i.$implicit,t=m.gc(2);m.Cb(1),m.mc("ngIf","slider_images"===e.type),m.Cb(1),m.mc("ngIf",t.categories.length&&"categories"===e.type),m.Cb(1),m.mc("ngIf",t.brands.length&&"brands"===e.type),m.Cb(1),m.mc("ngIf",t.itemsOnSale.length&&"sale_items"===e.type),m.Cb(1),m.mc("ngIf",t.itemsNewArrival.length&&"new_arrival_items"===e.type),m.Cb(1),m.mc("ngIf",t.itemsFeatured.length&&"featured_items"===e.type),m.Cb(1),m.mc("ngIf","all_items"===e.type),m.Cb(1),m.mc("ngIf","random_items"===e.type)}}function te(e,i){if(1&e&&(m.Vb(0,"div"),m.Dc(1,ie,9,8,"div",22),m.Ub()),2&e){const e=m.gc();m.Cb(1),m.mc("ngForOf",e.layout.blocks)}}const ne=function(){return{width:"60px",height:"60px"}};function oe(e,i){1&e&&(m.Vb(0,"ion-col",69),m.Qb(1,"ngx-skeleton-loader",70),m.Ub()),2&e&&(m.Cb(1),m.mc("theme",m.pc(1,ne)))}function se(e,i){1&e&&(m.Vb(0,"ion-col",69),m.Qb(1,"ngx-skeleton-loader",70),m.Ub()),2&e&&(m.Cb(1),m.mc("theme",m.pc(1,ne)))}const ce=function(){return{width:"100%",height:"230px","border-radius":"4px",margin:"0"}};function re(e,i){1&e&&(m.Vb(0,"ion-col",71),m.Qb(1,"ngx-skeleton-loader",70),m.Ub()),2&e&&(m.Cb(1),m.mc("theme",m.pc(1,ce)))}function ae(e,i){1&e&&(m.Vb(0,"ion-col",71),m.Qb(1,"ngx-skeleton-loader",70),m.Ub()),2&e&&(m.Cb(1),m.mc("theme",m.pc(1,ce)))}function le(e,i){1&e&&(m.Vb(0,"ion-col",71),m.Qb(1,"ngx-skeleton-loader",70),m.Ub()),2&e&&(m.Cb(1),m.mc("theme",m.pc(1,ce)))}const be=function(){return{width:"100%",height:"250px","border-radius":"4px"}};function de(e,i){if(1&e&&(m.Vb(0,"section"),m.Vb(1,"div",35),m.Qb(2,"ngx-skeleton-loader",63),m.Ub(),m.Vb(3,"div",24),m.Vb(4,"ion-row",64),m.Dc(5,oe,2,2,"ion-col",65),m.Ub(),m.Vb(6,"ion-row",64),m.Dc(7,se,2,2,"ion-col",65),m.Ub(),m.Ub(),m.Vb(8,"ion-row",66),m.Dc(9,re,2,2,"ion-col",67),m.Ub(),m.Vb(10,"ion-row",68),m.Dc(11,ae,2,2,"ion-col",67),m.Ub(),m.Vb(12,"ion-row",68),m.Dc(13,le,2,2,"ion-col",67),m.Ub(),m.Ub()),2&e){const e=m.gc();m.Cb(2),m.mc("theme",m.pc(6,be)),m.Cb(3),m.mc("ngForOf",e.skeletonArray),m.Cb(2),m.mc("ngForOf",e.skeletonArray),m.Cb(2),m.mc("ngForOf",e.skeletonArray),m.Cb(2),m.mc("ngForOf",e.skeletonArray),m.Cb(2),m.mc("ngForOf",e.skeletonArray)}}let ue=(()=>{class e extends c.a{constructor(e,i,t,n){super(e),this.subCategoryService=i,this.appConfigService=t,this.itemService=n,this.slidesConfig={centeredSlides:!0,slidesPerView:1.2,spaceBetween:10,grabCursor:!0,initialSlide:1,breakpointsInverse:!0,loop:!0,breakpoints:{992:{slidesPerView:1.5,spaceBetween:30}}},this.slidesBrandsConfig={slidesOffsetBefore:16,slidesOffsetAfter:16,slidesPerView:3.4,spaceBetween:8,grabCursor:!0},this.slidesItemsConfig={slidesOffsetBefore:16,slidesOffsetAfter:16,slidesPerView:2.4,spaceBetween:16,grabCursor:!0},this.skeletonArray=Array(6),this.slides=[],this.categories=[],this.itemsOnSale=[],this.itemsNewArrival=[],this.itemsFeatured=[],this.items=[],this.itemsRandom=[],this.brands=[],this.suggestions=[],this.queryItems={page:0,limit:20,sortBy:"desc",sortByField:"createdAt"},this.defaultLayout={blocks:[{type:"slider_images"},{type:"categories"},{type:"brands"},{type:"featured_items"},{type:"sale_items"},{type:"new_arrival_items"},{type:"random_items"}]}}onFocus(){this.onContentLoaded()}enableMenuSwipe(){return!1}ngOnInit(){this.setupObservable(),this.showLoadingView({showOverlay:!1}),this.loadData()}ionViewWillEnter(){this.content&&this.content.scrollToTop(),this.ionSlides&&this.ionSlides.startAutoplay()}ionViewWillLeave(){this.ionSlides&&this.ionSlides.stopAutoplay()}ionViewDidEnter(){return Object(o.a)(this,void 0,void 0,(function*(){const e=yield this.getTrans("APP_NAME");this.setPageTitle(e),this.setMetaTags({title:e})}))}onSlidesDidLoad(){this.isSlidesLoaded=!0,this.ionSlides.startAutoplay()}onSlidesDidChange(){this.contentLoaded.next()}onSlidesBrandsChange(){this.slidesBrandsEvent.next()}onSlidesBrandsLoaded(){this.isSlidesBrandsLoaded=!0}onSlidesItemsOnSaleLoaded(){this.isSlidesItemsOnSaleLoaded=!0}onSlidesItemsNewArrivalLoaded(){this.isSlidesItemsNewArrivalLoaded=!0}onSlidesItemsFeaturedLoaded(){this.isSlidesItemsFeaturedLoaded=!0}onSlidesItemsOnSaleChange(){this.slidesItemsOnSaleEvent.next()}onSlidesItemsNewArrivalChange(){this.slidesItemsNewArrivalEvent.next()}onSlidesItemsFeaturedChange(){this.slidesItemsFeaturedEvent.next()}setupObservable(){this.contentLoaded=new b.a,this.loadAndScroll=Object(d.a)(this.content.ionScroll,this.contentLoaded),this.slidesBrandsEvent=new b.a,this.slidesBrandsObservable=Object(d.a)(this.content.ionScroll,this.slidesBrandsEvent),this.slidesItemsOnSaleEvent=new b.a,this.slidesItemsOnSaleObservable=Object(d.a)(this.content.ionScroll,this.slidesItemsOnSaleEvent),this.slidesItemsNewArrivalEvent=new b.a,this.slidesItemsNewArrivalObservable=Object(d.a)(this.content.ionScroll,this.slidesItemsNewArrivalEvent),this.slidesItemsFeaturedEvent=new b.a,this.slidesItemsFeaturedObservable=Object(d.a)(this.content.ionScroll,this.slidesItemsFeaturedEvent)}onContentLoaded(){setTimeout(()=>{this.contentLoaded.next()},400)}onSlideTouched(e){e.item?this.navigateToRelative("./items/"+e.item.slug):e.brand?this.navigateToRelative("./items",{brand:e.brand.id}):e.category?this.navigateToRelative("./items",{cat:e.category.id}):e.subcategory?this.navigateToRelative("./items",{subcat:e.subcategory.id}):e.url&&this.openUrl(e.url)}onCategoryTouched(e){return Object(o.a)(this,void 0,void 0,(function*(){try{e.subCategoryCount>0?this.navigateToRelative("./subcategories",{categoryId:e.id}):0===e.subCategoryCount?this.navigateToRelative("./items",{cat:e.id}):(yield this.showLoadingView({showOverlay:!1}),(yield this.subCategoryService.count({category:e}))?this.navigateToRelative("./subcategories",{categoryId:e.id}):this.navigateToRelative("./items",{cat:e.id}),this.showContentView())}catch(i){this.showContentView(),this.translate.get("ERROR_NETWORK").subscribe(e=>this.showToast(e))}}))}loadData(e={}){var i;return Object(o.a)(this,void 0,void 0,(function*(){try{this.refresher=e.target,this.queryItems.page=0;const t=yield this.appConfigService.load(),n=null===(i=null==t?void 0:t.layout)||void 0===i?void 0:i.home;this.layout=n&&n.enabled?n:this.defaultLayout;const o=yield a.Cloud.run("getHomePageData");this.slides=o.slides,this.categories=o.categories,this.itemsOnSale=o.itemsOnSale,this.itemsNewArrival=o.itemsNewArrival,this.itemsFeatured=o.itemsFeatured,this.brands=o.brands,this.items=o.items,this.content&&this.content.scrollToTop(),this.onRefreshComplete(),this.showContentView(),this.onContentLoaded()}catch(t){this.onRefreshComplete(),this.showErrorView()}}))}onLoadMoreRandom(e={}){this.infiniteScroll=e.target,this.loadRandomItems()}onLoadMore(e={}){this.infiniteScroll=e.target,this.loadItems()}loadItems(){return Object(o.a)(this,void 0,void 0,(function*(){try{const e=yield this.itemService.load(Object.assign({page:this.queryItems.page++},this.queryItems));for(const i of e)this.items.push(i);this.onRefreshComplete(this.items),this.onContentLoaded()}catch(e){this.translate.get("ERROR_NETWORK").subscribe(e=>this.showToast(e))}}))}loadRandomItems(){this.itemService.loadInCloud(this.queryItems).then(e=>{for(const i of e)this.itemsRandom.push(i);this.onRefreshComplete(this.itemsRandom)}).catch(e=>{console.warn(e)})}onClearSearch(){return Object(o.a)(this,void 0,void 0,(function*(){this.suggestions=[]}))}onBlurSearchInput(){setTimeout(()=>this.suggestions=[],100)}onSearch(e={}){return Object(o.a)(this,void 0,void 0,(function*(){const i=e.target.value;if(i)try{this.suggestions=yield this.itemService.load({tag:i.toLowerCase(),limit:10})}catch(t){console.log(t.message)}else this.suggestions=[]}))}onSuggestionTouched(){}onSubmitSearch(e={}){if("Enter"===e.key){const i=e.target.value;i&&(this.suggestions=[],this.navigateToRelative("./search",{q:i}))}}trackByFn(e,i){return i?i.id:null}}return e.\u0275fac=function(i){return new(i||e)(m.Pb(m.r),m.Pb(l.a),m.Pb(g.a),m.Pb(r.a))},e.\u0275cmp=m.Jb({type:e,selectors:[["page-home"]],viewQuery:function(e,i){var t;1&e&&(m.Bc(s.p,!0),m.Lc(w,!0)),2&e&&(m.tc(t=m.ec())&&(i.content=t.first),m.tc(t=m.ec())&&(i.ionSlides=t.first))},hostBindings:function(e,i){1&e&&m.dc("focus",(function(){return i.onFocus()}),!1,m.vc)},features:[m.zb],decls:23,vars:14,consts:[[1,"ion-no-border"],["fixed",""],["slot","start",1,"hide-xs-only","show-sm-up"],[1,"logo"],["src","./assets/imgs/icon.png"],["mode","ios","showCancelButton","never",3,"placeholder","ionBlur","ionClear","ionInput","keyup"],["scrollEvents","true"],["container",""],["slot","fixed",3,"ionRefresh"],[3,"pullingText","refreshingText"],["slot","fixed",2,"left","16px","right","16px"],["class","relative","fixed","",4,"ngIf"],["fixed","",1,"ion-no-padding"],["icon","alert-circle-outline",3,"text",4,"ngIf"],[4,"ngIf"],["fixed","",1,"relative"],["lines","none","no-margin","",1,"shadow","autocomplete"],["class","hover","button","","detail","false","style","--min-height: 70px;",3,"routerLink",4,"ngFor","ngForOf","ngForTrackBy"],["button","","detail","false",1,"hover",2,"--min-height","70px",3,"routerLink"],["color","dark"],[1,"link","bold","text-medium"],["icon","alert-circle-outline",3,"text"],[4,"ngFor","ngForOf"],["class","ion-margin-vertical",4,"ngIf"],[1,"ion-padding-vertical"],[3,"options","ionSlidesDidLoad","ionSlideWillChange"],["mainSlider",""],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"ion-activatable","full-width",3,"click"],[1,"slide-img",3,"ngStyle"],["type","bounded"],[1,"ion-padding","ion-align-items-center"],[1,"ion-no-margin"],[1,"ion-text-end"],["round","",1,"bold","no-shadow","ion-text-capitalize","colorp",3,"routerLink"],[1,"ion-padding"],["class","ion-text-center","size-xs","3",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],["size-xs","3",1,"ion-text-center",3,"click"],["defaultImage","./assets/imgs/placeholder.png",1,"circle","bg-img",3,"offset","lazyLoad","customObservable"],[1,"link"],[1,"show-xs-only","show-sm-only","hide-md-up","ion-margin-vertical",3,"options","ionSlidesDidLoad","ionSlideWillChange"],[1,"hide-xs-only","hide-sm-only","show-md-up"],["class","ion-text-center","size-xs","4","size-md","3",4,"ngFor","ngForOf","ngForTrackBy"],[1,"full-width",3,"routerLink","queryParams"],[1,"brand-img"],[1,"link","text-normal"],["size-xs","4","size-md","3",1,"ion-text-center"],[3,"routerLink","queryParams"],["defaultImage","./assets/imgs/placeholder.png",1,"brand-img",3,"offset","lazyLoad","customObservable"],[1,"ion-margin-vertical"],[1,"ion-align-items-center","ion-padding-horizontal"],["size","6",1,"ion-text-start"],["size","6",1,"ion-text-end"],["round","",1,"bold","no-shadow","ion-text-capitalize","colorp",3,"routerLink","queryParams"],[1,"show-xs-only","hide-sm-up","ion-margin-vertical",3,"options","ionSlideWillChange","ionSlidesDidLoad"],[1,"ion-padding","hide-xs-only","show-sm-up"],["size-sm","4","size-md","3",4,"ngFor","ngForOf","ngForTrackBy"],[3,"item","customObservable","routerLink"],["size-sm","4","size-md","3"],[1,"ion-padding-horizontal","ion-margin-vertical"],["size-xs","6","size-sm","4","size-md","3",4,"ngFor","ngForOf"],[3,"ionInfinite"],["size-xs","6","size-sm","4","size-md","3"],["count","1",3,"theme"],[1,"ion-nowrap","ion-text-center"],["size-xs","3",4,"ngFor","ngForOf"],[1,"ion-nowrap","ion-margin-top"],["class","ion-text-center","size-xs","6","size-sm","6","size-md","6","size-lg","3",4,"ngFor","ngForOf"],[1,"ion-nowrap"],["size-xs","3"],["count","1","appearance","circle",3,"theme"],["size-xs","6","size-sm","6","size-md","6","size-lg","3",1,"ion-text-center"]],template:function(e,i){1&e&&(m.Vb(0,"ion-header",0),m.Vb(1,"ion-toolbar",1),m.Vb(2,"div",2),m.Vb(3,"div",3),m.Qb(4,"img",4),m.Vb(5,"h2"),m.Fc(6,"BILLS.PET"),m.Ub(),m.Ub(),m.Ub(),m.Vb(7,"div"),m.Vb(8,"ion-searchbar",5),m.dc("ionBlur",(function(){return i.onBlurSearchInput()}))("ionClear",(function(){return i.onClearSearch()}))("ionInput",(function(e){return i.onSearch(e)}))("keyup",(function(e){return i.onSubmitSearch(e)})),m.hc(9,"translate"),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Vb(10,"ion-content",6,7),m.Vb(12,"ion-refresher",8),m.dc("ionRefresh",(function(e){return i.loadData(e)})),m.Qb(13,"ion-refresher-content",9),m.hc(14,"translate"),m.hc(15,"translate"),m.Ub(),m.Vb(16,"div",10),m.Dc(17,O,3,3,"ion-grid",11),m.Ub(),m.Vb(18,"ion-grid",12),m.Dc(19,S,2,3,"empty-view",13),m.Dc(20,F,2,3,"empty-view",13),m.Dc(21,te,2,1,"div",14),m.Dc(22,de,14,7,"section",14),m.Ub(),m.Ub()),2&e&&(m.Cb(8),m.mc("placeholder",m.ic(9,8,"SEARCH_PLACEHOLDER")),m.Cb(5),m.nc("pullingText",m.ic(14,10,"PULL_TO_REFRESH")),m.nc("refreshingText",m.ic(15,12,"REFRESHING")),m.Cb(4),m.mc("ngIf",i.suggestions.length),m.Cb(2),m.mc("ngIf",i.isErrorViewVisible),m.Cb(1),m.mc("ngIf",i.isEmptyViewVisible),m.Cb(1),m.mc("ngIf",i.isContentViewVisible),m.Cb(1),m.mc("ngIf",i.isLoadingViewVisible))},directives:[s.s,s.Y,s.K,s.ib,s.p,s.F,s.G,h.l,s.r,s.A,h.k,s.x,n.h,s.gb,s.z,s.T,f.a,s.O,s.N,h.m,s.H,s.J,s.o,s.j,p.a,v.a,s.u,s.v,C.a],pipes:[V.c],styles:["ion-content[_ngcontent-%COMP%]{--background:var(--ion-color-light)}ion-grid[_ngcontent-%COMP%]{background:#fff}ion-searchbar[_ngcontent-%COMP%]{padding:0 8px!important}ion-slides[_ngcontent-%COMP%]{--bullet-background:var(--ion-color-light);--bullet-background-active:var(--ion-color-primary)}ion-slides[_ngcontent-%COMP%]   .slide-img[_ngcontent-%COMP%]{background-color:var(--ion-color-white);background-size:cover;background-position:50%;border-radius:12px;width:100%;max-width:100%;height:200px}ion-row.ion-nowrap[_ngcontent-%COMP%]{overflow:hidden}.brand-img[_ngcontent-%COMP%]{background:#fff;background-size:cover;background-repeat:no-repeat;border:1px solid var(--ion-color-light-shade);border-radius:16px;background-position:50%;height:180px}@media (min-width:992px){.circle[_ngcontent-%COMP%]{width:100px;height:100px}ion-slides[_ngcontent-%COMP%]   .slide-img[_ngcontent-%COMP%]{height:270px}.brand-img[_ngcontent-%COMP%]{height:300px}}@media (min-width:768px){.brand-img[_ngcontent-%COMP%]{margin:8px;height:250px}}"],data:{animation:[Object(u.l)("staggerIn",[Object(u.k)("* => *",[Object(u.f)(":enter",Object(u.j)({opacity:0,transform:"translate3d(0,10px,0)"}),{optional:!0}),Object(u.f)(":enter",Object(u.h)("70ms",[Object(u.e)("100ms",Object(u.j)({opacity:1,transform:"translate3d(0,0,0)"}))]),{optional:!0})])])]}}),e})();var ge=t("d2mR");let me=(()=>{class e{}return e.\u0275mod=m.Nb({type:e}),e.\u0275inj=m.Mb({factory:function(i){return new(i||e)},imports:[[n.i.forChild([{path:"",component:ue}]),ge.a]]}),e})()},gNTI:function(e,i,t){"use strict";t.d(i,"a",(function(){return s}));var n=t("v0iw"),o=t("fXoL");let s=(()=>{class e extends n.Object{constructor(){super("AppConfig")}load(){return n.Cloud.run("getAppConfig")}get about(){return this.get("about")}get admin(){return this.get("admin")}get layout(){return this.get("layout")}get auth(){return this.get("auth")}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=o.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();n.Object.registerSubclass("AppConfig",s)}}]);