(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{gNTI:function(t,n,e){"use strict";e.d(n,"a",(function(){return r}));var o=e("v0iw"),i=e("fXoL");let r=(()=>{class t extends o.Object{constructor(){super("AppConfig")}load(){return o.Cloud.run("getAppConfig")}get about(){return this.get("about")}get admin(){return this.get("admin")}get layout(){return this.get("layout")}get auth(){return this.get("auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=i.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();o.Object.registerSubclass("AppConfig",r)},x2fo:function(t,n,e){"use strict";e.r(n),e.d(n,"SubCategoryListPageModule",(function(){return _}));var o=e("tyNb"),i=e("mrSG"),r=e("NV1z"),a=e("eijT"),c=e("4+uF"),l=e("XNiG"),s=e("VRyK"),u=e("R0Ic"),b=e("TEn/"),g=e("gNTI"),d=e("fXoL"),m=e("ofXK"),h=e("4ro/"),f=e("wf0l"),y=e("sYmb");const p=function(){return["../items"]},C=function(t){return{cat:t}};function v(t,n){if(1&t&&(d.Vb(0,"ion-button",13),d.Fc(1),d.hc(2,"translate"),d.Ub()),2&t){const t=d.gc();d.mc("routerLink",d.pc(5,p))("queryParams",d.qc(6,C,null==t.params||null==t.params.category?null:t.params.category.id)),d.Cb(1),d.Hc(" ",d.ic(2,3,"VIEW_ALL")," ")}}function w(t,n){1&t&&(d.Vb(0,"div",14),d.Qb(1,"ion-spinner"),d.Ub())}function O(t,n){1&t&&(d.Qb(0,"empty-view",15),d.hc(1,"translate")),2&t&&d.mc("text",d.ic(1,1,"ERROR_DATA"))}function V(t,n){1&t&&(d.Qb(0,"empty-view",15),d.hc(1,"translate")),2&t&&d.mc("text",d.ic(1,1,"EMPTY_DATA"))}const x=function(t){return{subcat:t}};function k(t,n){if(1&t&&(d.Vb(0,"ion-col",22),d.Qb(1,"div",23),d.Vb(2,"ion-text",24),d.Vb(3,"p",25),d.Fc(4),d.Ub(),d.Ub(),d.Ub()),2&t){const t=n.$implicit,e=d.gc(2);d.mc("routerLink",d.pc(5,p))("queryParams",d.qc(6,x,t.id)),d.Cb(1),d.mc("lazyLoad",null==t.imageThumb?null:t.imageThumb.url())("customObservable",e.loadAndScroll),d.Cb(3),d.Hc(" ",t.name," ")}}function L(t,n){if(1&t&&(d.Vb(0,"ion-row",16),d.Vb(1,"ion-col",17),d.Vb(2,"div",18),d.Vb(3,"div",19),d.Vb(4,"p",20),d.Fc(5),d.hc(6,"translate"),d.Ub(),d.Ub(),d.Ub(),d.Ub(),d.Dc(7,k,5,8,"ion-col",21),d.Ub()),2&t){const t=d.gc();d.mc("@staggerIn",t.subcategories.length),d.Cb(2),d.mc("routerLink",d.pc(8,p))("queryParams",d.qc(9,C,null==t.params||null==t.params.category?null:t.params.category.id)),d.Cb(3),d.Gc(d.ic(6,6,"VIEW_ALL")),d.Cb(2),d.mc("ngForOf",t.subcategories)("ngForTrackBy",t.trackByFn)}}function P(t,n){if(1&t&&(d.Vb(0,"ion-text",34),d.Vb(1,"h5",20),d.Fc(2),d.Ub(),d.Ub()),2&t){const t=d.gc().$implicit,n=d.gc(2);d.Cb(1),d.Cc("font-size",null==n.layout||null==n.layout.item?null:n.layout.item.fontSize),d.Cb(1),d.Hc(" ",t.name," ")}}function I(t,n){if(1&t&&(d.Vb(0,"ion-col"),d.Vb(1,"div",28),d.Vb(2,"div",29),d.Qb(3,"div",30),d.Vb(4,"div",31),d.Dc(5,P,3,3,"ion-text",32),d.Ub(),d.Ub(),d.Qb(6,"ion-ripple-effect",33),d.Ub(),d.Ub()),2&t){const t=n.$implicit,e=d.gc(2);d.Db("size-xs",12/(null==e.layout||null==e.layout.item?null:e.layout.item.columnsXs))("size-md",12/(null==e.layout||null==e.layout.item?null:e.layout.item.columnsMd))("size-lg",12/(null==e.layout||null==e.layout.item?null:e.layout.item.columnsLg)),d.Cb(1),d.mc("routerLink",d.pc(16,p))("queryParams",d.qc(17,x,t.id)),d.Cb(1),d.Cc("box-shadow",null==e.layout||null==e.layout.item?null:e.layout.item.boxShadow)("margin",null==e.layout||null==e.layout.item?null:e.layout.item.margin)("height",null==e.layout||null==e.layout.item?null:e.layout.item.height)("border-radius",null==e.layout||null==e.layout.item?null:e.layout.item.radius),d.Cb(1),d.mc("lazyLoad",null==t.image?null:t.image.url())("customObservable",e.loadAndScroll),d.Cb(2),d.mc("ngIf",!(null!=e.layout&&null!=e.layout.item&&e.layout.item.hideTitle))}}function T(t,n){if(1&t&&(d.Vb(0,"ion-row",26),d.Dc(1,I,7,19,"ion-col",27),d.Ub()),2&t){const t=d.gc();d.mc("@staggerIn",t.subcategories.length),d.Cb(1),d.mc("ngForOf",t.subcategories)("ngForTrackBy",t.trackByFn)}}let U=(()=>{class t extends r.a{constructor(t,n,e){super(t),this.appConfigService=n,this.subCategoryService=e,this.subcategories=[],this.params={},this.skeletonArray=Array(32)}onFocus(){this.onContentLoaded()}ngOnInit(){const t=new c.a;t.id=this.getQueryParams().categoryId,this.params.category=t,this.setupObservable()}enableMenuSwipe(){return!1}setupObservable(){this.contentLoaded=new l.a,this.loadAndScroll=Object(s.a)(this.container.ionScroll,this.contentLoaded)}onContentLoaded(){setTimeout(()=>{this.contentLoaded.next()},400)}ionViewDidEnter(){return Object(i.a)(this,void 0,void 0,(function*(){this.subcategories.length?this.onContentLoaded():(yield this.showLoadingView({showOverlay:!1}),this.loadData());const t=yield this.getTrans("CATEGORIES");this.setPageTitle(t),this.setMetaTags({title:t})}))}loadData(t={}){var n;return Object(i.a)(this,void 0,void 0,(function*(){this.refresher=t.target;try{const t=yield this.appConfigService.load();this.layout=null===(n=null==t?void 0:t.layout)||void 0===n?void 0:n.subcategoryList,this.subcategories=yield this.subCategoryService.load(this.params),this.subcategories.length?this.showContentView():this.showEmptyView(),this.onRefreshComplete(),this.onContentLoaded()}catch(e){this.translate.get("ERROR_NETWORK").subscribe(t=>this.showToast(t)),this.onRefreshComplete(),this.showErrorView()}}))}trackByFn(t,n){return n?n.id:null}}return t.\u0275fac=function(n){return new(n||t)(d.Pb(d.r),d.Pb(g.a),d.Pb(a.a))},t.\u0275cmp=d.Jb({type:t,selectors:[["page-sub-category-list"]],viewQuery:function(t,n){var e;1&t&&d.Bc(b.p,!0),2&t&&d.tc(e=d.ec())&&(n.container=e.first)},hostBindings:function(t,n){1&t&&d.dc("focus",(function(){return n.onFocus()}),!1,d.vc)},features:[d.zb],decls:18,vars:12,consts:[[1,"ion-no-border"],["fixed",""],["slot","start"],["slot","end"],["strong","","color","dark","size","small",3,"routerLink","queryParams",4,"ngIf"],["scrollEvents","true"],["container",""],["slot","fixed",3,"ionRefresh"],[3,"pullingText","refreshingText"],["class","ion-text-center",4,"ngIf"],["icon","alert-circle-outline",3,"text",4,"ngIf"],["class","ion-margin-vertical",4,"ngIf"],["class","ion-margin-vertical ion-padding",4,"ngIf"],["strong","","color","dark","size","small",3,"routerLink","queryParams"],[1,"ion-text-center"],["icon","alert-circle-outline",3,"text"],[1,"ion-margin-vertical"],["size-xs","3",1,"ion-text-center"],[1,"circle","dark-bg",3,"routerLink","queryParams"],[1,"circle-inner"],[1,"bold","link"],["size-xs","3","class","ion-text-center",3,"routerLink","queryParams",4,"ngFor","ngForOf","ngForTrackBy"],["size-xs","3",1,"ion-text-center",3,"routerLink","queryParams"],["defaultImage","./assets/imgs/placeholder.png",1,"circle","bg-img",3,"lazyLoad","customObservable"],["color","dark"],[1,"link","margin-6","text-medium"],[1,"ion-margin-vertical","ion-padding"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"ion-activatable","full-width",3,"routerLink","queryParams"],[1,"card"],["defaultImage","./assets/imgs/placeholder.png",1,"bg-img",3,"lazyLoad","customObservable"],[1,"content"],["color","light",4,"ngIf"],["type","bounded"],["color","light"]],template:function(t,n){1&t&&(d.Vb(0,"ion-header",0),d.Vb(1,"ion-toolbar",1),d.Vb(2,"ion-buttons",2),d.Qb(3,"ion-back-button"),d.Ub(),d.Vb(4,"ion-buttons",3),d.Dc(5,v,3,8,"ion-button",4),d.Ub(),d.Ub(),d.Ub(),d.Vb(6,"ion-content",5,6),d.Vb(8,"ion-refresher",7),d.dc("ionRefresh",(function(t){return n.loadData(t)})),d.Qb(9,"ion-refresher-content",8),d.hc(10,"translate"),d.hc(11,"translate"),d.Ub(),d.Vb(12,"ion-grid",1),d.Dc(13,w,2,0,"div",9),d.Dc(14,O,2,3,"empty-view",10),d.Dc(15,V,2,3,"empty-view",10),d.Dc(16,L,8,11,"ion-row",11),d.Dc(17,T,2,3,"ion-row",12),d.Ub(),d.Ub()),2&t&&(d.Cb(5),d.mc("ngIf",n.isContentViewVisible&&(null==n.layout?null:n.layout.enabled)),d.Cb(4),d.nc("pullingText",d.ic(10,8,"PULL_TO_REFRESH")),d.nc("refreshingText",d.ic(11,10,"REFRESHING")),d.Cb(4),d.mc("ngIf",n.isLoadingViewVisible),d.Cb(1),d.mc("ngIf",n.isErrorViewVisible),d.Cb(1),d.mc("ngIf",n.isEmptyViewVisible),d.Cb(1),d.mc("ngIf",n.isContentViewVisible&&!(null!=n.layout&&n.layout.enabled)),d.Cb(1),d.mc("ngIf",n.isContentViewVisible&&(null==n.layout?null:n.layout.enabled)))},directives:[b.s,b.Y,b.k,b.g,b.h,m.l,b.p,b.F,b.G,b.r,b.j,o.h,b.gb,b.P,h.a,b.J,b.o,m.k,f.a,b.T,b.H],pipes:[y.c],styles:['ion-content[_ngcontent-%COMP%]{--background:var(--ion-color-light)}ion-grid[_ngcontent-%COMP%]{background:#fff}.card[_ngcontent-%COMP%]{height:200px;position:relative;overflow:hidden}.card[_ngcontent-%COMP%]   .bg-img[_ngcontent-%COMP%]{background-size:cover;background-position:50%;position:absolute;top:0;bottom:0;left:0;right:0}.card[_ngcontent-%COMP%]   .bg-img[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:100%;top:0;left:0;background:rgba(0,0,0,.3)}.card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;align-self:center;justify-content:center;padding:10px;text-align:center;height:100%}.card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{z-index:1}.card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--ion-color-primary),var(--ion-color-primary-tint));border-radius:16px;padding:4px 16px}@media (min-width:992px){ion-col[_ngcontent-%COMP%]{margin:16px 0}}'],data:{animation:[Object(u.l)("staggerIn",[Object(u.k)("* => *",[Object(u.f)(":enter",Object(u.j)({opacity:0,transform:"translate3d(0,10px,0)"}),{optional:!0}),Object(u.f)(":enter",Object(u.h)("100ms",[Object(u.e)("300ms",Object(u.j)({opacity:1,transform:"translate3d(0,0,0)"}))]),{optional:!0})])])]}}),t})();var F=e("d2mR");let _=(()=>{class t{}return t.\u0275mod=d.Nb({type:t}),t.\u0275inj=d.Mb({factory:function(n){return new(n||t)},imports:[[o.i.forChild([{path:"",component:U}]),F.a]]}),t})()}}]);