(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{lg6W:function(t,n,e){"use strict";e.r(n),e.d(n,"ProfilePageModule",(function(){return H}));var i=e("tyNb"),o=e("mrSG"),s=e("NV1z"),r=e("jgsO"),c=e("3Pt+"),a=e("fXoL"),l=e("TEn/"),b=e("ofXK"),u=e("a/9d"),d=e("v0iw");let h=(()=>{class t{constructor(){}upload(t,n=!0){return new d.File("image.jpg",n?{base64:t}:t).save()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=a.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var p=e("sYmb");const m=["fileInput"];function g(t,n){1&t&&a.Qb(0,"ion-spinner")}function f(t,n){1&t&&a.Qb(0,"ion-icon",5)}function V(t,n){if(1&t&&(a.Vb(0,"div"),a.Fc(1),a.Ub()),2&t){const t=a.gc();a.Cb(1),a.Gc(t.text)}}let w=(()=>{class t{constructor(t,n,e,i,o){this.platform=t,this.parseFileService=n,this.camera=e,this.actionSheetCtrl=i,this.translate=o,this.eventFileUpload=new a.n,this.isUploading=!1}ngOnInit(){}onBoxTouched(){this.platform.is("cordova")?this.presentActionSheet():this.fileInput.nativeElement.click()}onFileChanged(t=null){this.doUpload(t.target.files[0],!1)}chooseImage(t){return Object(o.a)(this,void 0,void 0,(function*(){try{const n={sourceType:t,destinationType:this.camera.DestinationType.DATA_URL,targetWidth:400,targetHeight:400,quality:70,mediaType:this.camera.MediaType.PICTURE,encodingType:this.camera.EncodingType.JPEG,correctOrientation:!0},e=yield this.camera.getPicture(n);this.doUpload(e)}catch(n){console.warn(n)}}))}presentActionSheet(){return Object(o.a)(this,void 0,void 0,(function*(){const t=yield this.translate.get(["PHOTO_LIBRARY","CAMERA","CANCEL","CHOOSE_AN_OPTION"]).toPromise(),n=yield this.actionSheetCtrl.create({header:t.CHOOSE_AN_OPTION,buttons:[{text:t.PHOTO_LIBRARY,handler:()=>{this.chooseImage(this.camera.PictureSourceType.PHOTOLIBRARY)}},{text:t.CAMERA,handler:()=>{this.chooseImage(this.camera.PictureSourceType.CAMERA)}},{text:t.CANCEL,role:"cancel"}]});return yield n.present()}))}doUpload(t,n=!0){return Object(o.a)(this,void 0,void 0,(function*(){try{this.isUploading=!0,this.parseFile=yield this.parseFileService.upload(t,n),this.isUploading=!1,this.eventFileUpload.emit(this.parseFile)}catch(e){this.isUploading=!1,console.warn(e.message)}}))}}return t.\u0275fac=function(n){return new(n||t)(a.Pb(l.eb),a.Pb(h),a.Pb(u.a),a.Pb(l.a),a.Pb(p.d))},t.\u0275cmp=a.Jb({type:t,selectors:[["app-upload-box"]],viewQuery:function(t,n){var e;1&t&&a.Bc(m,!0),2&t&&a.tc(e=a.ec())&&(n.fileInput=e.first)},inputs:{text:"text"},outputs:{eventFileUpload:"onFileUploaded"},decls:6,vars:5,consts:[["type","file","accept","image/*",2,"display","none",3,"change"],["fileInput",""],[1,"box",3,"click"],[4,"ngIf"],["name","camera","color","medium",4,"ngIf"],["name","camera","color","medium"]],template:function(t,n){1&t&&(a.Vb(0,"input",0,1),a.dc("change",(function(t){return n.onFileChanged(t)})),a.Ub(),a.Vb(2,"div",2),a.dc("click",(function(){return n.onBoxTouched()})),a.Dc(3,g,1,0,"ion-spinner",3),a.Dc(4,f,1,0,"ion-icon",4),a.Dc(5,V,2,1,"div",3),a.Ub()),2&t&&(a.Cb(2),a.Cc("background-image","url("+(null==n.parseFile?null:n.parseFile.url())+")",a.Ib),a.Cb(1),a.mc("ngIf",n.isUploading),a.Cb(1),a.mc("ngIf",!n.isUploading&&!n.parseFile),a.Cb(1),a.mc("ngIf",n.text&&!n.isUploading&&!n.parseFile))},directives:[b.l,l.P,l.t],styles:[".box[_ngcontent-%COMP%]{align-items:center;background-size:cover;background-position:50%;border:1px dashed var(--ion-color-medium);cursor:pointer;display:inline-flex;height:110px;justify-content:center;position:relative;width:110px}.box[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:48px}.box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.2);color:var(--ion-color-dark-contrast);bottom:0;font-size:11px;font-weight:700;padding:3px 0;position:absolute;text-align:center;width:100%}"]}),t})();function C(t,n){1&t&&(a.Vb(0,"div"),a.Vb(1,"ion-label",7),a.Vb(2,"span"),a.Fc(3),a.hc(4,"translate"),a.Ub(),a.Ub(),a.Vb(5,"ion-item",8),a.Qb(6,"ion-input",15),a.Ub(),a.Ub()),2&t&&(a.Cb(3),a.Gc(a.ic(4,1,"USERNAME")))}function U(t,n){1&t&&a.Qb(0,"ion-spinner")}function v(t,n){1&t&&(a.Vb(0,"span"),a.Fc(1),a.hc(2,"translate"),a.Ub()),2&t&&(a.Cb(1),a.Gc(a.ic(2,1,"SAVE")))}let y=(()=>{class t extends s.a{constructor(t){super(t),this.user=r.a.getCurrent()}enableMenuSwipe(){return!0}ngOnInit(){this.setupForm()}onFileUploaded(t){this.photo=t}setupForm(){let t={name:new c.a(this.user.attributes.name,c.m.required),email:new c.a(this.user.attributes.email)};this.user.attributes.authData||(t.username=new c.a(this.user.username,c.m.required)),this.form=new c.c(t)}onDismiss(){this.modalCtrl.dismiss()}onSubmit(){return Object(o.a)(this,void 0,void 0,(function*(){try{if(this.form.invalid)return this.translate.get("INVALID_FORM").subscribe(t=>this.showToast(t));this.showLoadingView({showOverlay:!1});const t=Object.assign({},this.form.value);t.name&&(t.name=t.name.trim()),t.username&&(t.username=t.username.trim()),this.photo&&(t.photo=this.photo),t.email?t.email=t.email.trim():delete t.email;const n=r.a.getCurrent();yield n.save(t),this.showContentView(),this.translate.get("SAVED").subscribe(t=>this.showToast(t)),this.onDismiss()}catch(t){console.log(t),202===t.code?this.translate.get("USERNAME_TAKEN").subscribe(t=>this.showToast(t)):203===t.code?this.translate.get("EMAIL_TAKEN").subscribe(t=>this.showToast(t)):125===t.code?this.translate.get("EMAIL_INVALID").subscribe(t=>this.showToast(t)):this.translate.get("ERROR_NETWORK").subscribe(t=>this.showToast(t)),this.showContentView()}}))}}return t.\u0275fac=function(n){return new(n||t)(a.Pb(a.r))},t.\u0275cmp=a.Jb({type:t,selectors:[["page-profile-edit"]],features:[a.zb],decls:34,vars:17,consts:[[1,"ion-no-border"],["slot","end"],[3,"click"],["slot","start","name","close"],[1,"ion-padding"],["novalidate","",3,"formGroup","ngSubmit"],["profileForm","ngForm"],["position","stacked","color","medium"],["lines","none","color","light",1,"ion-margin-vertical"],["type","text","formControlName","name"],[4,"ngIf"],["type","email","formControlName","email",3,"keyup.enter"],[1,"ion-margin-vertical"],[3,"onFileUploaded"],["strong","","type","submit","shape","round","color","primary",3,"disabled"],["type","text","formControlName","username"]],template:function(t,n){if(1&t){const t=a.Wb();a.Vb(0,"ion-header",0),a.Vb(1,"ion-toolbar"),a.Vb(2,"ion-buttons",1),a.Vb(3,"ion-button",2),a.dc("click",(function(){return n.onDismiss()})),a.Qb(4,"ion-icon",3),a.Ub(),a.Ub(),a.Vb(5,"ion-title"),a.Fc(6),a.hc(7,"translate"),a.Ub(),a.Ub(),a.Ub(),a.Vb(8,"ion-content",4),a.Vb(9,"form",5,6),a.dc("ngSubmit",(function(){return n.onSubmit()})),a.Vb(11,"ion-label",7),a.Vb(12,"span"),a.Fc(13),a.hc(14,"translate"),a.Ub(),a.Ub(),a.Vb(15,"ion-item",8),a.Qb(16,"ion-input",9),a.Ub(),a.Dc(17,C,7,3,"div",10),a.Vb(18,"ion-label",7),a.Vb(19,"span"),a.Fc(20),a.hc(21,"translate"),a.Ub(),a.Ub(),a.Vb(22,"ion-item",8),a.Vb(23,"ion-input",11),a.dc("keyup.enter",(function(){return a.wc(t),a.uc(10).ngSubmit.emit()})),a.Ub(),a.Ub(),a.Vb(24,"ion-label",7),a.Vb(25,"span"),a.Fc(26),a.hc(27,"translate"),a.Ub(),a.Ub(),a.Vb(28,"div",12),a.Vb(29,"app-upload-box",13),a.dc("onFileUploaded",(function(t){return n.onFileUploaded(t)})),a.Ub(),a.Ub(),a.Vb(30,"div"),a.Vb(31,"ion-button",14),a.Dc(32,U,1,0,"ion-spinner",10),a.Dc(33,v,3,3,"span",10),a.Ub(),a.Ub(),a.Ub(),a.Ub()}2&t&&(a.Cb(6),a.Gc(a.ic(7,9,"EDIT_PROFILE")),a.Cb(3),a.mc("formGroup",n.form),a.Cb(4),a.Gc(a.ic(14,11,"NAME")),a.Cb(4),a.mc("ngIf",!(null!=n.user&&n.user.attributes.authData)),a.Cb(3),a.Gc(a.ic(21,13,"EMAIL")),a.Cb(6),a.Gc(a.ic(27,15,"UPLOAD_PICTURE")),a.Cb(5),a.mc("disabled",n.isLoadingViewVisible),a.Cb(1),a.mc("ngIf",n.isLoadingViewVisible),a.Cb(1),a.mc("ngIf",!n.isLoadingViewVisible))},directives:[l.s,l.Y,l.k,l.j,l.t,l.W,l.p,c.n,c.j,c.d,l.z,l.x,l.w,l.ib,c.i,c.b,b.l,w,l.P],pipes:[p.c],styles:["ion-item[_ngcontent-%COMP%]{--border-radius:4px}"]}),t})();function P(t,n){1&t&&a.Qb(0,"ion-spinner")}function O(t,n){1&t&&(a.Vb(0,"span"),a.Fc(1),a.hc(2,"translate"),a.Ub()),2&t&&(a.Cb(1),a.Gc(a.ic(2,1,"SUBMIT")))}let I=(()=>{class t extends s.a{constructor(t,n){super(t),this.userService=n,this.user=r.a.getCurrent(),this.form=new c.c({oldPassword:new c.a("",[c.m.required,c.m.minLength(6)]),password:new c.a("",[c.m.required,c.m.minLength(6)]),confirmPassword:new c.a("",[c.m.required,c.m.minLength(6)])})}enableMenuSwipe(){return!1}onDismiss(){this.modalCtrl.dismiss()}onSubmit(){return Object(o.a)(this,void 0,void 0,(function*(){try{let t=this.form.value;if(this.form.invalid)return this.translate.get("INVALID_FORM").subscribe(t=>this.showToast(t));if(t.password!==t.confirmPassword)return this.translate.get("PASSWORD_DOES_NOT_MATCH").subscribe(t=>this.showToast(t));yield this.showLoadingView({showOverlay:!1});let n={username:this.user.username,password:t.oldPassword};yield this.userService.signIn(n),yield this.user.save({password:t.password}),this.translate.get("SAVED").subscribe(t=>this.showToast(t)),this.showContentView()}catch(t){101===t.code?this.translate.get("PASSWORD_INVALID").subscribe(t=>this.showToast(t)):this.translate.get("ERROR_NETWORK").subscribe(t=>this.showToast(t)),this.showContentView()}}))}}return t.\u0275fac=function(n){return new(n||t)(a.Pb(a.r),a.Pb(r.a))},t.\u0275cmp=a.Jb({type:t,selectors:[["page-change-password"]],features:[a.zb],decls:38,vars:19,consts:[[1,"ion-no-border"],["slot","end"],[3,"click"],["slot","icon-only","name","close"],[1,"ion-padding"],["novalidate","",3,"formGroup","ngSubmit"],["passwordForm","ngForm"],["position","stacked","color","medium"],["lines","none","color","light",1,"ion-margin-vertical"],["type","password","formControlName","oldPassword"],["type","password","formControlName","password"],["color","dark"],[1,"bold"],["type","password","formControlName","confirmPassword",3,"keyup.enter"],["strong","","type","submit","shape","round","color","primary",3,"disabled"],[4,"ngIf"]],template:function(t,n){if(1&t){const t=a.Wb();a.Vb(0,"ion-header",0),a.Vb(1,"ion-toolbar"),a.Vb(2,"ion-buttons",1),a.Vb(3,"ion-button",2),a.dc("click",(function(){return n.onDismiss()})),a.Qb(4,"ion-icon",3),a.Ub(),a.Ub(),a.Vb(5,"ion-title"),a.Fc(6),a.hc(7,"translate"),a.Ub(),a.Ub(),a.Ub(),a.Vb(8,"ion-content",4),a.Vb(9,"form",5,6),a.dc("ngSubmit",(function(){return n.onSubmit()})),a.Vb(11,"ion-label",7),a.Vb(12,"span"),a.Fc(13),a.hc(14,"translate"),a.Ub(),a.Ub(),a.Vb(15,"ion-item",8),a.Qb(16,"ion-input",9),a.Ub(),a.Vb(17,"ion-label",7),a.Vb(18,"span"),a.Fc(19),a.hc(20,"translate"),a.Ub(),a.Ub(),a.Vb(21,"ion-item",8),a.Qb(22,"ion-input",10),a.Ub(),a.Vb(23,"ion-text",11),a.Vb(24,"p",12),a.Vb(25,"small"),a.Fc(26),a.hc(27,"translate"),a.Ub(),a.Ub(),a.Ub(),a.Vb(28,"ion-label",7),a.Vb(29,"span"),a.Fc(30),a.hc(31,"translate"),a.Ub(),a.Ub(),a.Vb(32,"ion-item",8),a.Vb(33,"ion-input",13),a.dc("keyup.enter",(function(){return a.wc(t),a.uc(10).ngSubmit.emit()})),a.Ub(),a.Ub(),a.Vb(34,"div"),a.Vb(35,"ion-button",14),a.Dc(36,P,1,0,"ion-spinner",15),a.Dc(37,O,3,3,"span",15),a.Ub(),a.Ub(),a.Ub(),a.Ub()}2&t&&(a.Cb(6),a.Gc(a.ic(7,9,"CHANGE_PASSWORD")),a.Cb(3),a.mc("formGroup",n.form),a.Cb(4),a.Gc(a.ic(14,11,"CURRENT_PASSWORD")),a.Cb(6),a.Gc(a.ic(20,13,"NEW_PASSWORD")),a.Cb(7),a.Hc(" ",a.ic(27,15,"PASSWORD_VALIDATION_HELP")," "),a.Cb(4),a.Gc(a.ic(31,17,"CONFIRM_PASSWORD")),a.Cb(5),a.mc("disabled",n.isLoadingViewVisible),a.Cb(1),a.mc("ngIf",n.isLoadingViewVisible),a.Cb(1),a.mc("ngIf",!n.isLoadingViewVisible))},directives:[l.s,l.Y,l.k,l.j,l.t,l.W,l.p,c.n,c.j,c.d,l.z,l.x,l.w,l.ib,c.i,c.b,l.T,b.l,l.P],pipes:[p.c],styles:["ion-item[_ngcontent-%COMP%]{--border-radius:4px}"]}),t})();var S=e("eAEk"),M=e("fgjG");function E(t,n){if(1&t){const t=a.Wb();a.Vb(0,"ion-item",12),a.Vb(1,"ion-label"),a.Fc(2),a.hc(3,"translate"),a.Ub(),a.Vb(4,"ion-toggle",13),a.dc("ionChange",(function(n){return a.wc(t),a.gc().onChangeIsPushEnabled(n)}))("ngModelChange",(function(n){return a.wc(t),a.gc().preference.isPushEnabled=n})),a.Ub(),a.Ub()}if(2&t){const t=a.gc();a.Cb(2),a.Gc(a.ic(3,2,"PUSH_NOTIFICATIONS")),a.Cb(2),a.mc("ngModel",t.preference.isPushEnabled)}}let F=(()=>{class t extends s.a{constructor(t,n,e){super(t),this.installationService=n,this.storage=e}enableMenuSwipe(){return!0}onDismiss(){this.modalCtrl.dismiss()}onChangeIsPushEnabled(t){return Object(o.a)(this,void 0,void 0,(function*(){if(!t)return;const n=t.detail.checked;try{const t=yield this.installationService.getId();yield this.installationService.save(t,{isPushEnabled:n}),this.storage.setIsPushEnabled(n),this.preference.isPushEnabled=n}catch(e){console.warn(e)}}))}onChangeLang(t){if(!t)return;const n=t.detail.value;document.dir="ar"===n?"rtl":"ltr",this.storage.setLang(n),this.translate.use(n),this.preference.lang=n}}return t.\u0275fac=function(n){return new(n||t)(a.Pb(a.r),a.Pb(M.a),a.Pb(S.a))},t.\u0275cmp=a.Jb({type:t,selectors:[["page-settings-page"]],features:[a.zb],decls:32,vars:17,consts:[[1,"ion-no-border"],["slot","end"],[3,"click"],["slot","start","name","close"],["color","light","lines","none","class","ion-margin-vertical",4,"ngIf"],["allowEmptySelection","false",3,"value","ionChange"],["color","dark",1,"bold"],["color","light"],["value","en"],["value","es"],["color","light","lines","none"],["value","ar"],["color","light","lines","none",1,"ion-margin-vertical"],[3,"ngModel","ionChange","ngModelChange"]],template:function(t,n){1&t&&(a.Vb(0,"ion-header",0),a.Vb(1,"ion-toolbar"),a.Vb(2,"ion-buttons",1),a.Vb(3,"ion-button",2),a.dc("click",(function(){return n.onDismiss()})),a.Qb(4,"ion-icon",3),a.Ub(),a.Ub(),a.Vb(5,"ion-title"),a.Fc(6),a.hc(7,"translate"),a.Ub(),a.Ub(),a.Ub(),a.Vb(8,"ion-content"),a.Dc(9,E,5,4,"ion-item",4),a.Vb(10,"ion-list"),a.Vb(11,"ion-radio-group",5),a.dc("ionChange",(function(t){return n.onChangeLang(t)})),a.Vb(12,"ion-list-header"),a.Vb(13,"ion-label"),a.Vb(14,"span",6),a.Fc(15),a.hc(16,"translate"),a.Ub(),a.Ub(),a.Ub(),a.Vb(17,"ion-item",7),a.Vb(18,"ion-label"),a.Fc(19),a.hc(20,"translate"),a.Ub(),a.Qb(21,"ion-radio",8),a.Ub(),a.Vb(22,"ion-item",7),a.Vb(23,"ion-label"),a.Fc(24),a.hc(25,"translate"),a.Ub(),a.Qb(26,"ion-radio",9),a.Ub(),a.Vb(27,"ion-item",10),a.Vb(28,"ion-label"),a.Fc(29),a.hc(30,"translate"),a.Ub(),a.Qb(31,"ion-radio",11),a.Ub(),a.Ub(),a.Ub(),a.Ub()),2&t&&(a.Cb(6),a.Gc(a.ic(7,7,"SETTINGS")),a.Cb(3),a.mc("ngIf",n.isHybrid()),a.Cb(2),a.mc("value",n.preference.lang),a.Cb(4),a.Gc(a.ic(16,9,"LANGUAGE")),a.Cb(4),a.Gc(a.ic(20,11,"ENGLISH")),a.Cb(5),a.Gc(a.ic(25,13,"SPANISH")),a.Cb(5),a.Gc(a.ic(30,15,"ARABIC")))},directives:[l.s,l.Y,l.k,l.j,l.t,l.W,l.p,b.l,l.A,l.D,l.hb,l.B,l.z,l.x,l.C,l.fb,l.X,l.c,c.i,c.k],pipes:[p.c],styles:[""]}),t})();var x=e("GvuD"),T=e("oZYh");function k(t,n){1&t&&(a.Vb(0,"h3"),a.Fc(1),a.hc(2,"translate"),a.Ub()),2&t&&(a.Cb(1),a.Hc(" ",a.ic(2,1,"GUEST")," "))}function A(t,n){if(1&t){const t=a.Wb();a.Vb(0,"ion-button",24),a.dc("click",(function(){return a.wc(t),a.gc().onPresentSignUpModal()})),a.Fc(1),a.hc(2,"translate"),a.Ub()}2&t&&(a.Cb(1),a.Hc(" ",a.ic(2,1,"SIGN_UP")," "))}function G(t,n){if(1&t){const t=a.Wb();a.Vb(0,"ion-button",24),a.dc("click",(function(){return a.wc(t),a.gc().onPresentSignInModal()})),a.Fc(1),a.hc(2,"translate"),a.Ub()}2&t&&(a.Cb(1),a.Hc(" ",a.ic(2,1,"LOGIN")," "))}function _(t,n){if(1&t){const t=a.Wb();a.Vb(0,"ion-item",12),a.dc("click",(function(){return a.wc(t),a.gc().onPresentChangePasswordModal()})),a.Qb(1,"ion-icon",25),a.Vb(2,"ion-label"),a.Vb(3,"p",14),a.Fc(4),a.hc(5,"translate"),a.Ub(),a.Ub(),a.Qb(6,"ion-icon",15),a.Ub()}2&t&&(a.Cb(4),a.Gc(a.ic(5,1,"CHANGE_PASSWORD")))}function D(t,n){if(1&t){const t=a.Wb();a.Vb(0,"ion-item",12),a.dc("click",(function(){return a.wc(t),a.gc().onPresentEditModal()})),a.Qb(1,"ion-icon",26),a.Vb(2,"ion-label"),a.Vb(3,"p",14),a.Fc(4),a.hc(5,"translate"),a.Ub(),a.Ub(),a.Qb(6,"ion-icon",15),a.Ub()}2&t&&(a.Cb(4),a.Gc(a.ic(5,1,"EDIT_PROFILE")))}function L(t,n){if(1&t){const t=a.Wb();a.Vb(0,"ion-item",21),a.dc("click",(function(){return a.wc(t),a.gc().onLogout()})),a.Qb(1,"ion-icon",27),a.Vb(2,"ion-label"),a.Vb(3,"p",14),a.Fc(4),a.hc(5,"translate"),a.Ub(),a.Ub(),a.Qb(6,"ion-icon",15),a.Ub()}2&t&&(a.Cb(4),a.Gc(a.ic(5,1,"LOGOUT")))}let N=(()=>{class t extends s.a{constructor(t){super(t)}enableMenuSwipe(){return!1}ionViewWillEnter(){this.container&&this.container.scrollToTop()}ionViewDidEnter(){return Object(o.a)(this,void 0,void 0,(function*(){this.user=r.a.getCurrent(),this.checkIsGuest();const t=yield this.getTrans("PROFILE");this.setPageTitle(t),this.setMetaTags({title:t})}))}ngOnInit(){this.user=r.a.getCurrent(),this.checkIsGuest(),window.addEventListener("user:login",t=>{this.user=t.detail,this.checkIsGuest()}),window.addEventListener("user:loggedOut",()=>{this.user=null})}checkIsGuest(){this.isGuest=this.user&&this.user.attributes.authData&&void 0!==this.user.attributes.authData.anonymous}goTo(t){if(!r.a.getCurrent()&&"help"!==t)return this.onPresentSignInModal();this.navigateToRelative("./"+t)}onPresentSignInModal(){return Object(o.a)(this,void 0,void 0,(function*(){yield this.showLoadingView({showOverlay:!0});const t=yield this.modalCtrl.create({component:x.a,componentProps:{showLoginForm:!0}});yield t.present(),this.showContentView()}))}onPresentSignUpModal(){return Object(o.a)(this,void 0,void 0,(function*(){yield this.showLoadingView({showOverlay:!0});const t=yield this.modalCtrl.create({component:x.a,componentProps:{showSignUpForm:!0}});yield t.present(),this.showContentView()}))}onPresentEditModal(){return Object(o.a)(this,void 0,void 0,(function*(){if(!r.a.getCurrent())return this.onPresentSignInModal();yield this.showLoadingView({showOverlay:!0});const t=yield this.modalCtrl.create({component:y});yield t.present(),this.showContentView()}))}onPresentChangePasswordModal(){return Object(o.a)(this,void 0,void 0,(function*(){if(!r.a.getCurrent())return this.onPresentSignInModal();yield this.showLoadingView({showOverlay:!0});const t=yield this.modalCtrl.create({component:I});yield t.present(),this.showContentView()}))}onPresentSettingsModal(){return Object(o.a)(this,void 0,void 0,(function*(){if(!r.a.getCurrent())return this.onPresentSignInModal();yield this.showLoadingView({showOverlay:!0});const t=yield this.modalCtrl.create({component:F});yield t.present(),this.showContentView()}))}onLogout(){window.dispatchEvent(new CustomEvent("user:logout"))}}return t.\u0275fac=function(n){return new(n||t)(a.Pb(a.r))},t.\u0275cmp=a.Jb({type:t,selectors:[["profile-page"]],viewQuery:function(t,n){var e;1&t&&a.Bc(l.p,!0),2&t&&a.tc(e=a.ec())&&(n.container=e.first)},features:[a.zb],decls:63,vars:26,consts:[[1,"ion-no-border"],["color","primary","fixed",""],["fixed",""],[1,"ion-justify-content-center"],["size-xs","12","size-sm","","size-md","","size-lg","8",1,"ion-no-padding"],[1,"heading"],["src-fallback","./assets/imgs/avatar.png",3,"src"],["color","light"],[4,"ngIf"],[2,"width","150px"],["class","ion-margin-top","size","small","expand","block","color","light",3,"click",4,"ngIf"],[1,"ion-no-padding"],["color","light",3,"click"],["name","list","slot","start","color","primary"],[1,"link","text-large"],["name","chevron-forward","slot","end","color","dark"],["name","card","slot","start","color","primary"],["name","pin","slot","start","color","primary"],["name","heart","slot","start","color","primary"],["color","light",3,"click",4,"ngIf"],["name","cog","slot","start","color","primary"],["lines","none","color","light",3,"click"],["name","help-buoy","slot","start","color","primary"],["lines","none","color","light",3,"click",4,"ngIf"],["size","small","expand","block","color","light",1,"ion-margin-top",3,"click"],["name","lock-closed","slot","start","color","primary"],["name","create","slot","start","color","primary"],["name","log-out","slot","start","color","primary"]],template:function(t,n){1&t&&(a.Vb(0,"ion-header",0),a.Qb(1,"ion-toolbar",1),a.Ub(),a.Vb(2,"ion-content"),a.Vb(3,"ion-grid",2),a.Vb(4,"ion-row",3),a.Vb(5,"ion-col",4),a.Vb(6,"div"),a.Vb(7,"section",5),a.Vb(8,"ion-avatar"),a.Qb(9,"img",6),a.Ub(),a.Vb(10,"ion-text",7),a.Vb(11,"h3"),a.Fc(12),a.Ub(),a.Dc(13,k,3,3,"h3",8),a.Ub(),a.Vb(14,"div",9),a.Dc(15,A,3,3,"ion-button",10),a.Dc(16,G,3,3,"ion-button",10),a.Ub(),a.Ub(),a.Vb(17,"ion-list",11),a.Vb(18,"ion-item",12),a.dc("click",(function(){return n.goTo("orders")})),a.Qb(19,"ion-icon",13),a.Vb(20,"ion-label"),a.Vb(21,"p",14),a.Fc(22),a.hc(23,"translate"),a.Ub(),a.Ub(),a.Qb(24,"ion-icon",15),a.Ub(),a.Vb(25,"ion-item",12),a.dc("click",(function(){return n.goTo("payment")})),a.Qb(26,"ion-icon",16),a.Vb(27,"ion-label"),a.Vb(28,"p",14),a.Fc(29),a.hc(30,"translate"),a.Ub(),a.Ub(),a.Qb(31,"ion-icon",15),a.Ub(),a.Vb(32,"ion-item",12),a.dc("click",(function(){return n.goTo("addresses")})),a.Qb(33,"ion-icon",17),a.Vb(34,"ion-label"),a.Vb(35,"p",14),a.Fc(36),a.hc(37,"translate"),a.Ub(),a.Ub(),a.Qb(38,"ion-icon",15),a.Ub(),a.Vb(39,"ion-item",12),a.dc("click",(function(){return n.goTo("favorites")})),a.Qb(40,"ion-icon",18),a.Vb(41,"ion-label"),a.Vb(42,"p",14),a.Fc(43),a.hc(44,"translate"),a.Ub(),a.Ub(),a.Qb(45,"ion-icon",15),a.Ub(),a.Dc(46,_,7,3,"ion-item",19),a.Dc(47,D,7,3,"ion-item",19),a.Vb(48,"ion-item",12),a.dc("click",(function(){return n.onPresentSettingsModal()})),a.Qb(49,"ion-icon",20),a.Vb(50,"ion-label"),a.Vb(51,"p",14),a.Fc(52),a.hc(53,"translate"),a.Ub(),a.Ub(),a.Qb(54,"ion-icon",15),a.Ub(),a.Vb(55,"ion-item",21),a.dc("click",(function(){return n.goTo("help")})),a.Qb(56,"ion-icon",22),a.Vb(57,"ion-label"),a.Vb(58,"p",14),a.Fc(59),a.hc(60,"translate"),a.Ub(),a.Ub(),a.Qb(61,"ion-icon",15),a.Ub(),a.Dc(62,L,7,3,"ion-item",23),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub()),2&t&&(a.Cb(9),a.mc("src",null==n.user||null==n.user.attributes.photo?null:n.user.attributes.photo.url(),a.zc),a.Cb(3),a.Gc(null==n.user?null:n.user.attributes.name),a.Cb(1),a.mc("ngIf",n.isGuest),a.Cb(2),a.mc("ngIf",n.isGuest),a.Cb(1),a.mc("ngIf",!n.user||n.isGuest),a.Cb(6),a.Gc(a.ic(23,14,"MY_ORDERS")),a.Cb(7),a.Gc(a.ic(30,16,"PAYMENT")),a.Cb(7),a.Gc(a.ic(37,18,"ADDRESSES")),a.Cb(7),a.Gc(a.ic(44,20,"FAVORITES")),a.Cb(3),a.mc("ngIf",n.user&&!n.user.attributes.authData),a.Cb(1),a.mc("ngIf",n.user&&!n.isGuest),a.Cb(5),a.Gc(a.ic(53,22,"SETTINGS")),a.Cb(7),a.Gc(a.ic(60,24,"HELP")),a.Cb(3),a.mc("ngIf",n.user&&!n.isGuest))},directives:[l.s,l.Y,l.p,l.r,l.J,l.o,l.f,T.a,l.T,b.l,l.A,l.x,l.t,l.z,l.j],pipes:[p.c],styles:[".heading[_ngcontent-%COMP%]{background:var(--ion-color-primary);display:flex;flex-direction:column;align-items:center;align-self:center;justify-content:center;padding-top:60px;padding-bottom:60px;text-align:center}ion-item[_ngcontent-%COMP%]{--min-height:64px}ion-avatar[_ngcontent-%COMP%]{width:80px;height:80px}ion-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{background:var(--ion-color-light);display:inline-block;padding:2px}.custom-line-height[_ngcontent-%COMP%]{line-height:1.6}.skeleton-item[_ngcontent-%COMP%]{width:auto;height:auto;margin:10px auto;padding:10px}.skeleton-item[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{display:inline-flex;width:100%;height:auto;flex:1}.skeleton-item[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:100px;height:90px}.skeleton-item[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{width:100%;padding:10px;height:80px}ion-grid[_ngcontent-%COMP%]{padding:0}@media only screen and (min-width:768px){ion-grid[_ngcontent-%COMP%]{padding:16px}.heading[_ngcontent-%COMP%]{border-top-left-radius:8px;border-top-right-radius:8px;margin-top:16px}}"]}),t})();var R=e("d2mR"),Q=e("b8Qw");let j=(()=>{class t{}return t.\u0275mod=a.Nb({type:t}),t.\u0275inj=a.Mb({factory:function(n){return new(n||t)},imports:[[R.a,c.e,c.l]]}),t})(),W=(()=>{class t{}return t.\u0275mod=a.Nb({type:t}),t.\u0275inj=a.Mb({factory:function(n){return new(n||t)},imports:[[R.a,c.e,c.l]]}),t})(),z=(()=>{class t{}return t.\u0275mod=a.Nb({type:t}),t.\u0275inj=a.Mb({factory:function(n){return new(n||t)},imports:[[R.a,c.e,c.l]]}),t})(),H=(()=>{class t{}return t.\u0275mod=a.Nb({type:t}),t.\u0275inj=a.Mb({factory:function(n){return new(n||t)},imports:[[i.i.forChild([{path:"",component:N}]),R.a,Q.a,j,W,z]]}),t})()}}]);