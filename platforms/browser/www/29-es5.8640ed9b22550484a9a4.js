function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,i=_getPrototypeOf(e);if(t){var r=_getPrototypeOf(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{lg6W:function(e,t,n){"use strict";n.r(t),n.d(t,"ProfilePageModule",(function(){return te}));var i,r=n("tyNb"),o=n("mrSG"),a=n("NV1z"),s=n("jgsO"),c=n("3Pt+"),u=n("fXoL"),l=n("TEn/"),b=n("ofXK"),p=n("a/9d"),h=n("v0iw"),d=((i=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"upload",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return new h.File("image.jpg",t?{base64:e}:e).save()}}]),e}()).\u0275fac=function(e){return new(e||i)},i.\u0275prov=u.Lb({token:i,factory:i.\u0275fac,providedIn:"root"}),i),f=n("sYmb"),m=["fileInput"];function g(e,t){1&e&&u.Qb(0,"ion-spinner")}function v(e,t){1&e&&u.Qb(0,"ion-icon",5)}function C(e,t){if(1&e&&(u.Vb(0,"div"),u.Fc(1),u.Ub()),2&e){var n=u.gc();u.Cb(1),u.Gc(n.text)}}var w,V=((w=function(){function e(t,n,i,r,o){_classCallCheck(this,e),this.platform=t,this.parseFileService=n,this.camera=i,this.actionSheetCtrl=r,this.translate=o,this.eventFileUpload=new u.n,this.isUploading=!1}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"onBoxTouched",value:function(){this.platform.is("cordova")?this.presentActionSheet():this.fileInput.nativeElement.click()}},{key:"onFileChanged",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.doUpload(e.target.files[0],!1)}},{key:"chooseImage",value:function(e){return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n={sourceType:e,destinationType:this.camera.DestinationType.DATA_URL,targetWidth:400,targetHeight:400,quality:70,mediaType:this.camera.MediaType.PICTURE,encodingType:this.camera.EncodingType.JPEG,correctOrientation:!0},t.next=4,this.camera.getPicture(n);case 4:i=t.sent,this.doUpload(i),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.warn(t.t0);case 11:case"end":return t.stop()}}),t,this,[[0,8]])})))}},{key:"presentActionSheet",value:function(){return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.translate.get(["PHOTO_LIBRARY","CAMERA","CANCEL","CHOOSE_AN_OPTION"]).toPromise();case 2:return t=e.sent,e.next=5,this.actionSheetCtrl.create({header:t.CHOOSE_AN_OPTION,buttons:[{text:t.PHOTO_LIBRARY,handler:function(){i.chooseImage(i.camera.PictureSourceType.PHOTOLIBRARY)}},{text:t.CAMERA,handler:function(){i.chooseImage(i.camera.PictureSourceType.CAMERA)}},{text:t.CANCEL,role:"cancel"}]});case 5:return n=e.sent,e.next=8,n.present();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e,this)})))}},{key:"doUpload",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,this.isUploading=!0,n.next=4,this.parseFileService.upload(e,t);case 4:this.parseFile=n.sent,this.isUploading=!1,this.eventFileUpload.emit(this.parseFile),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),this.isUploading=!1,console.warn(n.t0.message);case 12:case"end":return n.stop()}}),n,this,[[0,9]])})))}}]),e}()).\u0275fac=function(e){return new(e||w)(u.Pb(l.eb),u.Pb(d),u.Pb(p.a),u.Pb(l.a),u.Pb(f.d))},w.\u0275cmp=u.Jb({type:w,selectors:[["app-upload-box"]],viewQuery:function(e,t){var n;1&e&&u.Bc(m,!0),2&e&&u.tc(n=u.ec())&&(t.fileInput=n.first)},inputs:{text:"text"},outputs:{eventFileUpload:"onFileUploaded"},decls:6,vars:5,consts:[["type","file","accept","image/*",2,"display","none",3,"change"],["fileInput",""],[1,"box",3,"click"],[4,"ngIf"],["name","camera","color","medium",4,"ngIf"],["name","camera","color","medium"]],template:function(e,t){1&e&&(u.Vb(0,"input",0,1),u.dc("change",(function(e){return t.onFileChanged(e)})),u.Ub(),u.Vb(2,"div",2),u.dc("click",(function(){return t.onBoxTouched()})),u.Dc(3,g,1,0,"ion-spinner",3),u.Dc(4,v,1,0,"ion-icon",4),u.Dc(5,C,2,1,"div",3),u.Ub()),2&e&&(u.Cb(2),u.Cc("background-image","url("+(null==t.parseFile?null:t.parseFile.url())+")",u.Ib),u.Cb(1),u.mc("ngIf",t.isUploading),u.Cb(1),u.mc("ngIf",!t.isUploading&&!t.parseFile),u.Cb(1),u.mc("ngIf",t.text&&!t.isUploading&&!t.parseFile))},directives:[b.l,l.P,l.t],styles:[".box[_ngcontent-%COMP%]{align-items:center;background-size:cover;background-position:50%;border:1px dashed var(--ion-color-medium);cursor:pointer;display:inline-flex;height:110px;justify-content:center;position:relative;width:110px}.box[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:48px}.box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.2);color:var(--ion-color-dark-contrast);bottom:0;font-size:11px;font-weight:700;padding:3px 0;position:absolute;text-align:center;width:100%}"]}),w);function U(e,t){1&e&&(u.Vb(0,"div"),u.Vb(1,"ion-label",7),u.Vb(2,"span"),u.Fc(3),u.hc(4,"translate"),u.Ub(),u.Ub(),u.Vb(5,"ion-item",8),u.Qb(6,"ion-input",15),u.Ub(),u.Ub()),2&e&&(u.Cb(3),u.Gc(u.ic(4,1,"USERNAME")))}function y(e,t){1&e&&u.Qb(0,"ion-spinner")}function k(e,t){1&e&&(u.Vb(0,"span"),u.Fc(1),u.hc(2,"translate"),u.Ub()),2&e&&(u.Cb(1),u.Gc(u.ic(2,1,"SAVE")))}var P,x=((P=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,e)).user=s.a.getCurrent(),i}return _createClass(n,[{key:"enableMenuSwipe",value:function(){return!0}},{key:"ngOnInit",value:function(){this.setupForm()}},{key:"onFileUploaded",value:function(e){this.photo=e}},{key:"setupForm",value:function(){var e={name:new c.a(this.user.attributes.name,c.m.required),email:new c.a(this.user.attributes.email)};this.user.attributes.authData||(e.username=new c.a(this.user.username,c.m.required)),this.form=new c.c(e)}},{key:"onDismiss",value:function(){this.modalCtrl.dismiss()}},{key:"onSubmit",value:function(){return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!this.form.invalid){e.next=3;break}return e.abrupt("return",this.translate.get("INVALID_FORM").subscribe((function(e){return i.showToast(e)})));case 3:return this.showLoadingView({showOverlay:!1}),(t=Object.assign({},this.form.value)).name&&(t.name=t.name.trim()),t.username&&(t.username=t.username.trim()),this.photo&&(t.photo=this.photo),t.email?t.email=t.email.trim():delete t.email,n=s.a.getCurrent(),e.next=9,n.save(t);case 9:this.showContentView(),this.translate.get("SAVED").subscribe((function(e){return i.showToast(e)})),this.onDismiss(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0),202===e.t0.code?this.translate.get("USERNAME_TAKEN").subscribe((function(e){return i.showToast(e)})):203===e.t0.code?this.translate.get("EMAIL_TAKEN").subscribe((function(e){return i.showToast(e)})):125===e.t0.code?this.translate.get("EMAIL_INVALID").subscribe((function(e){return i.showToast(e)})):this.translate.get("ERROR_NETWORK").subscribe((function(e){return i.showToast(e)})),this.showContentView();case 17:case"end":return e.stop()}}),e,this,[[0,14]])})))}}]),n}(a.a)).\u0275fac=function(e){return new(e||P)(u.Pb(u.r))},P.\u0275cmp=u.Jb({type:P,selectors:[["page-profile-edit"]],features:[u.zb],decls:34,vars:17,consts:[[1,"ion-no-border"],["slot","end"],[3,"click"],["slot","start","name","close"],[1,"ion-padding"],["novalidate","",3,"formGroup","ngSubmit"],["profileForm","ngForm"],["position","stacked","color","medium"],["lines","none","color","light",1,"ion-margin-vertical"],["type","text","formControlName","name"],[4,"ngIf"],["type","email","formControlName","email",3,"keyup.enter"],[1,"ion-margin-vertical"],[3,"onFileUploaded"],["strong","","type","submit","shape","round","color","primary",3,"disabled"],["type","text","formControlName","username"]],template:function(e,t){if(1&e){var n=u.Wb();u.Vb(0,"ion-header",0),u.Vb(1,"ion-toolbar"),u.Vb(2,"ion-buttons",1),u.Vb(3,"ion-button",2),u.dc("click",(function(){return t.onDismiss()})),u.Qb(4,"ion-icon",3),u.Ub(),u.Ub(),u.Vb(5,"ion-title"),u.Fc(6),u.hc(7,"translate"),u.Ub(),u.Ub(),u.Ub(),u.Vb(8,"ion-content",4),u.Vb(9,"form",5,6),u.dc("ngSubmit",(function(){return t.onSubmit()})),u.Vb(11,"ion-label",7),u.Vb(12,"span"),u.Fc(13),u.hc(14,"translate"),u.Ub(),u.Ub(),u.Vb(15,"ion-item",8),u.Qb(16,"ion-input",9),u.Ub(),u.Dc(17,U,7,3,"div",10),u.Vb(18,"ion-label",7),u.Vb(19,"span"),u.Fc(20),u.hc(21,"translate"),u.Ub(),u.Ub(),u.Vb(22,"ion-item",8),u.Vb(23,"ion-input",11),u.dc("keyup.enter",(function(){return u.wc(n),u.uc(10).ngSubmit.emit()})),u.Ub(),u.Ub(),u.Vb(24,"ion-label",7),u.Vb(25,"span"),u.Fc(26),u.hc(27,"translate"),u.Ub(),u.Ub(),u.Vb(28,"div",12),u.Vb(29,"app-upload-box",13),u.dc("onFileUploaded",(function(e){return t.onFileUploaded(e)})),u.Ub(),u.Ub(),u.Vb(30,"div"),u.Vb(31,"ion-button",14),u.Dc(32,y,1,0,"ion-spinner",10),u.Dc(33,k,3,3,"span",10),u.Ub(),u.Ub(),u.Ub(),u.Ub()}2&e&&(u.Cb(6),u.Gc(u.ic(7,9,"EDIT_PROFILE")),u.Cb(3),u.mc("formGroup",t.form),u.Cb(4),u.Gc(u.ic(14,11,"NAME")),u.Cb(4),u.mc("ngIf",!(null!=t.user&&t.user.attributes.authData)),u.Cb(3),u.Gc(u.ic(21,13,"EMAIL")),u.Cb(6),u.Gc(u.ic(27,15,"UPLOAD_PICTURE")),u.Cb(5),u.mc("disabled",t.isLoadingViewVisible),u.Cb(1),u.mc("ngIf",t.isLoadingViewVisible),u.Cb(1),u.mc("ngIf",!t.isLoadingViewVisible))},directives:[l.s,l.Y,l.k,l.j,l.t,l.W,l.p,c.n,c.j,c.d,l.z,l.x,l.w,l.ib,c.i,c.b,b.l,V,l.P],pipes:[f.c],styles:["ion-item[_ngcontent-%COMP%]{--border-radius:4px}"]}),P);function O(e,t){1&e&&u.Qb(0,"ion-spinner")}function _(e,t){1&e&&(u.Vb(0,"span"),u.Fc(1),u.hc(2,"translate"),u.Ub()),2&e&&(u.Cb(1),u.Gc(u.ic(2,1,"SUBMIT")))}var I,S=((I=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e)).userService=i,r.user=s.a.getCurrent(),r.form=new c.c({oldPassword:new c.a("",[c.m.required,c.m.minLength(6)]),password:new c.a("",[c.m.required,c.m.minLength(6)]),confirmPassword:new c.a("",[c.m.required,c.m.minLength(6)])}),r}return _createClass(n,[{key:"enableMenuSwipe",value:function(){return!1}},{key:"onDismiss",value:function(){this.modalCtrl.dismiss()}},{key:"onSubmit",value:function(){return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=this.form.value,!this.form.invalid){e.next=4;break}return e.abrupt("return",this.translate.get("INVALID_FORM").subscribe((function(e){return i.showToast(e)})));case 4:if(t.password===t.confirmPassword){e.next=6;break}return e.abrupt("return",this.translate.get("PASSWORD_DOES_NOT_MATCH").subscribe((function(e){return i.showToast(e)})));case 6:return e.next=8,this.showLoadingView({showOverlay:!1});case 8:return n={username:this.user.username,password:t.oldPassword},e.next=11,this.userService.signIn(n);case 11:return e.next=13,this.user.save({password:t.password});case 13:this.translate.get("SAVED").subscribe((function(e){return i.showToast(e)})),this.showContentView(),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),101===e.t0.code?this.translate.get("PASSWORD_INVALID").subscribe((function(e){return i.showToast(e)})):this.translate.get("ERROR_NETWORK").subscribe((function(e){return i.showToast(e)})),this.showContentView();case 20:case"end":return e.stop()}}),e,this,[[0,17]])})))}}]),n}(a.a)).\u0275fac=function(e){return new(e||I)(u.Pb(u.r),u.Pb(s.a))},I.\u0275cmp=u.Jb({type:I,selectors:[["page-change-password"]],features:[u.zb],decls:38,vars:19,consts:[[1,"ion-no-border"],["slot","end"],[3,"click"],["slot","icon-only","name","close"],[1,"ion-padding"],["novalidate","",3,"formGroup","ngSubmit"],["passwordForm","ngForm"],["position","stacked","color","medium"],["lines","none","color","light",1,"ion-margin-vertical"],["type","password","formControlName","oldPassword"],["type","password","formControlName","password"],["color","dark"],[1,"bold"],["type","password","formControlName","confirmPassword",3,"keyup.enter"],["strong","","type","submit","shape","round","color","primary",3,"disabled"],[4,"ngIf"]],template:function(e,t){if(1&e){var n=u.Wb();u.Vb(0,"ion-header",0),u.Vb(1,"ion-toolbar"),u.Vb(2,"ion-buttons",1),u.Vb(3,"ion-button",2),u.dc("click",(function(){return t.onDismiss()})),u.Qb(4,"ion-icon",3),u.Ub(),u.Ub(),u.Vb(5,"ion-title"),u.Fc(6),u.hc(7,"translate"),u.Ub(),u.Ub(),u.Ub(),u.Vb(8,"ion-content",4),u.Vb(9,"form",5,6),u.dc("ngSubmit",(function(){return t.onSubmit()})),u.Vb(11,"ion-label",7),u.Vb(12,"span"),u.Fc(13),u.hc(14,"translate"),u.Ub(),u.Ub(),u.Vb(15,"ion-item",8),u.Qb(16,"ion-input",9),u.Ub(),u.Vb(17,"ion-label",7),u.Vb(18,"span"),u.Fc(19),u.hc(20,"translate"),u.Ub(),u.Ub(),u.Vb(21,"ion-item",8),u.Qb(22,"ion-input",10),u.Ub(),u.Vb(23,"ion-text",11),u.Vb(24,"p",12),u.Vb(25,"small"),u.Fc(26),u.hc(27,"translate"),u.Ub(),u.Ub(),u.Ub(),u.Vb(28,"ion-label",7),u.Vb(29,"span"),u.Fc(30),u.hc(31,"translate"),u.Ub(),u.Ub(),u.Vb(32,"ion-item",8),u.Vb(33,"ion-input",13),u.dc("keyup.enter",(function(){return u.wc(n),u.uc(10).ngSubmit.emit()})),u.Ub(),u.Ub(),u.Vb(34,"div"),u.Vb(35,"ion-button",14),u.Dc(36,O,1,0,"ion-spinner",15),u.Dc(37,_,3,3,"span",15),u.Ub(),u.Ub(),u.Ub(),u.Ub()}2&e&&(u.Cb(6),u.Gc(u.ic(7,9,"CHANGE_PASSWORD")),u.Cb(3),u.mc("formGroup",t.form),u.Cb(4),u.Gc(u.ic(14,11,"CURRENT_PASSWORD")),u.Cb(6),u.Gc(u.ic(20,13,"NEW_PASSWORD")),u.Cb(7),u.Hc(" ",u.ic(27,15,"PASSWORD_VALIDATION_HELP")," "),u.Cb(4),u.Gc(u.ic(31,17,"CONFIRM_PASSWORD")),u.Cb(5),u.mc("disabled",t.isLoadingViewVisible),u.Cb(1),u.mc("ngIf",t.isLoadingViewVisible),u.Cb(1),u.mc("ngIf",!t.isLoadingViewVisible))},directives:[l.s,l.Y,l.k,l.j,l.t,l.W,l.p,c.n,c.j,c.d,l.z,l.x,l.w,l.ib,c.i,c.b,l.T,b.l,l.P],pipes:[f.c],styles:["ion-item[_ngcontent-%COMP%]{--border-radius:4px}"]}),I),R=n("eAEk"),E=n("fgjG");function M(e,t){if(1&e){var n=u.Wb();u.Vb(0,"ion-item",12),u.Vb(1,"ion-label"),u.Fc(2),u.hc(3,"translate"),u.Ub(),u.Vb(4,"ion-toggle",13),u.dc("ionChange",(function(e){return u.wc(n),u.gc().onChangeIsPushEnabled(e)}))("ngModelChange",(function(e){return u.wc(n),u.gc().preference.isPushEnabled=e})),u.Ub(),u.Ub()}if(2&e){var i=u.gc();u.Cb(2),u.Gc(u.ic(3,2,"PUSH_NOTIFICATIONS")),u.Cb(2),u.mc("ngModel",i.preference.isPushEnabled)}}var T,F=((T=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var o;return _classCallCheck(this,n),(o=t.call(this,e)).installationService=i,o.storage=r,o}return _createClass(n,[{key:"enableMenuSwipe",value:function(){return!0}},{key:"onDismiss",value:function(){this.modalCtrl.dismiss()}},{key:"onChangeIsPushEnabled",value:function(e){return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return n=e.detail.checked,t.prev=3,t.next=6,this.installationService.getId();case 6:return i=t.sent,t.next=9,this.installationService.save(i,{isPushEnabled:n});case 9:this.storage.setIsPushEnabled(n),this.preference.isPushEnabled=n,t.next=16;break;case 13:t.prev=13,t.t0=t.catch(3),console.warn(t.t0);case 16:case"end":return t.stop()}}),t,this,[[3,13]])})))}},{key:"onChangeLang",value:function(e){if(e){var t=e.detail.value;document.dir="ar"===t?"rtl":"ltr",this.storage.setLang(t),this.translate.use(t),this.preference.lang=t}}}]),n}(a.a)).\u0275fac=function(e){return new(e||T)(u.Pb(u.r),u.Pb(E.a),u.Pb(R.a))},T.\u0275cmp=u.Jb({type:T,selectors:[["page-settings-page"]],features:[u.zb],decls:32,vars:17,consts:[[1,"ion-no-border"],["slot","end"],[3,"click"],["slot","start","name","close"],["color","light","lines","none","class","ion-margin-vertical",4,"ngIf"],["allowEmptySelection","false",3,"value","ionChange"],["color","dark",1,"bold"],["color","light"],["value","en"],["value","es"],["color","light","lines","none"],["value","ar"],["color","light","lines","none",1,"ion-margin-vertical"],[3,"ngModel","ionChange","ngModelChange"]],template:function(e,t){1&e&&(u.Vb(0,"ion-header",0),u.Vb(1,"ion-toolbar"),u.Vb(2,"ion-buttons",1),u.Vb(3,"ion-button",2),u.dc("click",(function(){return t.onDismiss()})),u.Qb(4,"ion-icon",3),u.Ub(),u.Ub(),u.Vb(5,"ion-title"),u.Fc(6),u.hc(7,"translate"),u.Ub(),u.Ub(),u.Ub(),u.Vb(8,"ion-content"),u.Dc(9,M,5,4,"ion-item",4),u.Vb(10,"ion-list"),u.Vb(11,"ion-radio-group",5),u.dc("ionChange",(function(e){return t.onChangeLang(e)})),u.Vb(12,"ion-list-header"),u.Vb(13,"ion-label"),u.Vb(14,"span",6),u.Fc(15),u.hc(16,"translate"),u.Ub(),u.Ub(),u.Ub(),u.Vb(17,"ion-item",7),u.Vb(18,"ion-label"),u.Fc(19),u.hc(20,"translate"),u.Ub(),u.Qb(21,"ion-radio",8),u.Ub(),u.Vb(22,"ion-item",7),u.Vb(23,"ion-label"),u.Fc(24),u.hc(25,"translate"),u.Ub(),u.Qb(26,"ion-radio",9),u.Ub(),u.Vb(27,"ion-item",10),u.Vb(28,"ion-label"),u.Fc(29),u.hc(30,"translate"),u.Ub(),u.Qb(31,"ion-radio",11),u.Ub(),u.Ub(),u.Ub(),u.Ub()),2&e&&(u.Cb(6),u.Gc(u.ic(7,7,"SETTINGS")),u.Cb(3),u.mc("ngIf",t.isHybrid()),u.Cb(2),u.mc("value",t.preference.lang),u.Cb(4),u.Gc(u.ic(16,9,"LANGUAGE")),u.Cb(4),u.Gc(u.ic(20,11,"ENGLISH")),u.Cb(5),u.Gc(u.ic(25,13,"SPANISH")),u.Cb(5),u.Gc(u.ic(30,15,"ARABIC")))},directives:[l.s,l.Y,l.k,l.j,l.t,l.W,l.p,b.l,l.A,l.D,l.hb,l.B,l.z,l.x,l.C,l.fb,l.X,l.c,c.i,c.k],pipes:[f.c],styles:[""]}),T),A=n("GvuD"),G=n("oZYh");function D(e,t){1&e&&(u.Vb(0,"h3"),u.Fc(1),u.hc(2,"translate"),u.Ub()),2&e&&(u.Cb(1),u.Hc(" ",u.ic(2,1,"GUEST")," "))}function L(e,t){if(1&e){var n=u.Wb();u.Vb(0,"ion-button",24),u.dc("click",(function(){return u.wc(n),u.gc().onPresentSignUpModal()})),u.Fc(1),u.hc(2,"translate"),u.Ub()}2&e&&(u.Cb(1),u.Hc(" ",u.ic(2,1,"SIGN_UP")," "))}function N(e,t){if(1&e){var n=u.Wb();u.Vb(0,"ion-button",24),u.dc("click",(function(){return u.wc(n),u.gc().onPresentSignInModal()})),u.Fc(1),u.hc(2,"translate"),u.Ub()}2&e&&(u.Cb(1),u.Hc(" ",u.ic(2,1,"LOGIN")," "))}function Q(e,t){if(1&e){var n=u.Wb();u.Vb(0,"ion-item",12),u.dc("click",(function(){return u.wc(n),u.gc().onPresentChangePasswordModal()})),u.Qb(1,"ion-icon",25),u.Vb(2,"ion-label"),u.Vb(3,"p",14),u.Fc(4),u.hc(5,"translate"),u.Ub(),u.Ub(),u.Qb(6,"ion-icon",15),u.Ub()}2&e&&(u.Cb(4),u.Gc(u.ic(5,1,"CHANGE_PASSWORD")))}function j(e,t){if(1&e){var n=u.Wb();u.Vb(0,"ion-item",12),u.dc("click",(function(){return u.wc(n),u.gc().onPresentEditModal()})),u.Qb(1,"ion-icon",26),u.Vb(2,"ion-label"),u.Vb(3,"p",14),u.Fc(4),u.hc(5,"translate"),u.Ub(),u.Ub(),u.Qb(6,"ion-icon",15),u.Ub()}2&e&&(u.Cb(4),u.Gc(u.ic(5,1,"EDIT_PROFILE")))}function W(e,t){if(1&e){var n=u.Wb();u.Vb(0,"ion-item",21),u.dc("click",(function(){return u.wc(n),u.gc().onLogout()})),u.Qb(1,"ion-icon",27),u.Vb(2,"ion-label"),u.Vb(3,"p",14),u.Fc(4),u.hc(5,"translate"),u.Ub(),u.Ub(),u.Qb(6,"ion-icon",15),u.Ub()}2&e&&(u.Cb(4),u.Gc(u.ic(5,1,"LOGOUT")))}var z,H,Y,B,J,q=((z=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"enableMenuSwipe",value:function(){return!1}},{key:"ionViewWillEnter",value:function(){this.container&&this.container.scrollToTop()}},{key:"ionViewDidEnter",value:function(){return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.user=s.a.getCurrent(),this.checkIsGuest(),e.next=3,this.getTrans("PROFILE");case 3:t=e.sent,this.setPageTitle(t),this.setMetaTags({title:t});case 5:case"end":return e.stop()}}),e,this)})))}},{key:"ngOnInit",value:function(){var e=this;this.user=s.a.getCurrent(),this.checkIsGuest(),window.addEventListener("user:login",(function(t){e.user=t.detail,e.checkIsGuest()})),window.addEventListener("user:loggedOut",(function(){e.user=null}))}},{key:"checkIsGuest",value:function(){this.isGuest=this.user&&this.user.attributes.authData&&void 0!==this.user.attributes.authData.anonymous}},{key:"goTo",value:function(e){if(!s.a.getCurrent()&&"help"!==e)return this.onPresentSignInModal();this.navigateToRelative("./"+e)}},{key:"onPresentSignInModal",value:function(){return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.showLoadingView({showOverlay:!0});case 2:return e.next=4,this.modalCtrl.create({component:A.a,componentProps:{showLoginForm:!0}});case 4:return t=e.sent,e.next=7,t.present();case 7:this.showContentView();case 8:case"end":return e.stop()}}),e,this)})))}},{key:"onPresentSignUpModal",value:function(){return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.showLoadingView({showOverlay:!0});case 2:return e.next=4,this.modalCtrl.create({component:A.a,componentProps:{showSignUpForm:!0}});case 4:return t=e.sent,e.next=7,t.present();case 7:this.showContentView();case 8:case"end":return e.stop()}}),e,this)})))}},{key:"onPresentEditModal",value:function(){return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.a.getCurrent()){e.next=2;break}return e.abrupt("return",this.onPresentSignInModal());case 2:return e.next=4,this.showLoadingView({showOverlay:!0});case 4:return e.next=6,this.modalCtrl.create({component:x});case 6:return t=e.sent,e.next=9,t.present();case 9:this.showContentView();case 10:case"end":return e.stop()}}),e,this)})))}},{key:"onPresentChangePasswordModal",value:function(){return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.a.getCurrent()){e.next=2;break}return e.abrupt("return",this.onPresentSignInModal());case 2:return e.next=4,this.showLoadingView({showOverlay:!0});case 4:return e.next=6,this.modalCtrl.create({component:S});case 6:return t=e.sent,e.next=9,t.present();case 9:this.showContentView();case 10:case"end":return e.stop()}}),e,this)})))}},{key:"onPresentSettingsModal",value:function(){return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.a.getCurrent()){e.next=2;break}return e.abrupt("return",this.onPresentSignInModal());case 2:return e.next=4,this.showLoadingView({showOverlay:!0});case 4:return e.next=6,this.modalCtrl.create({component:F});case 6:return t=e.sent,e.next=9,t.present();case 9:this.showContentView();case 10:case"end":return e.stop()}}),e,this)})))}},{key:"onLogout",value:function(){window.dispatchEvent(new CustomEvent("user:logout"))}}]),n}(a.a)).\u0275fac=function(e){return new(e||z)(u.Pb(u.r))},z.\u0275cmp=u.Jb({type:z,selectors:[["profile-page"]],viewQuery:function(e,t){var n;1&e&&u.Bc(l.p,!0),2&e&&u.tc(n=u.ec())&&(t.container=n.first)},features:[u.zb],decls:63,vars:26,consts:[[1,"ion-no-border"],["color","primary","fixed",""],["fixed",""],[1,"ion-justify-content-center"],["size-xs","12","size-sm","","size-md","","size-lg","8",1,"ion-no-padding"],[1,"heading"],["src-fallback","./assets/imgs/avatar.png",3,"src"],["color","light"],[4,"ngIf"],[2,"width","150px"],["class","ion-margin-top","size","small","expand","block","color","light",3,"click",4,"ngIf"],[1,"ion-no-padding"],["color","light",3,"click"],["name","list","slot","start","color","primary"],[1,"link","text-large"],["name","chevron-forward","slot","end","color","dark"],["name","card","slot","start","color","primary"],["name","pin","slot","start","color","primary"],["name","heart","slot","start","color","primary"],["color","light",3,"click",4,"ngIf"],["name","cog","slot","start","color","primary"],["lines","none","color","light",3,"click"],["name","help-buoy","slot","start","color","primary"],["lines","none","color","light",3,"click",4,"ngIf"],["size","small","expand","block","color","light",1,"ion-margin-top",3,"click"],["name","lock-closed","slot","start","color","primary"],["name","create","slot","start","color","primary"],["name","log-out","slot","start","color","primary"]],template:function(e,t){1&e&&(u.Vb(0,"ion-header",0),u.Qb(1,"ion-toolbar",1),u.Ub(),u.Vb(2,"ion-content"),u.Vb(3,"ion-grid",2),u.Vb(4,"ion-row",3),u.Vb(5,"ion-col",4),u.Vb(6,"div"),u.Vb(7,"section",5),u.Vb(8,"ion-avatar"),u.Qb(9,"img",6),u.Ub(),u.Vb(10,"ion-text",7),u.Vb(11,"h3"),u.Fc(12),u.Ub(),u.Dc(13,D,3,3,"h3",8),u.Ub(),u.Vb(14,"div",9),u.Dc(15,L,3,3,"ion-button",10),u.Dc(16,N,3,3,"ion-button",10),u.Ub(),u.Ub(),u.Vb(17,"ion-list",11),u.Vb(18,"ion-item",12),u.dc("click",(function(){return t.goTo("orders")})),u.Qb(19,"ion-icon",13),u.Vb(20,"ion-label"),u.Vb(21,"p",14),u.Fc(22),u.hc(23,"translate"),u.Ub(),u.Ub(),u.Qb(24,"ion-icon",15),u.Ub(),u.Vb(25,"ion-item",12),u.dc("click",(function(){return t.goTo("payment")})),u.Qb(26,"ion-icon",16),u.Vb(27,"ion-label"),u.Vb(28,"p",14),u.Fc(29),u.hc(30,"translate"),u.Ub(),u.Ub(),u.Qb(31,"ion-icon",15),u.Ub(),u.Vb(32,"ion-item",12),u.dc("click",(function(){return t.goTo("addresses")})),u.Qb(33,"ion-icon",17),u.Vb(34,"ion-label"),u.Vb(35,"p",14),u.Fc(36),u.hc(37,"translate"),u.Ub(),u.Ub(),u.Qb(38,"ion-icon",15),u.Ub(),u.Vb(39,"ion-item",12),u.dc("click",(function(){return t.goTo("favorites")})),u.Qb(40,"ion-icon",18),u.Vb(41,"ion-label"),u.Vb(42,"p",14),u.Fc(43),u.hc(44,"translate"),u.Ub(),u.Ub(),u.Qb(45,"ion-icon",15),u.Ub(),u.Dc(46,Q,7,3,"ion-item",19),u.Dc(47,j,7,3,"ion-item",19),u.Vb(48,"ion-item",12),u.dc("click",(function(){return t.onPresentSettingsModal()})),u.Qb(49,"ion-icon",20),u.Vb(50,"ion-label"),u.Vb(51,"p",14),u.Fc(52),u.hc(53,"translate"),u.Ub(),u.Ub(),u.Qb(54,"ion-icon",15),u.Ub(),u.Vb(55,"ion-item",21),u.dc("click",(function(){return t.goTo("help")})),u.Qb(56,"ion-icon",22),u.Vb(57,"ion-label"),u.Vb(58,"p",14),u.Fc(59),u.hc(60,"translate"),u.Ub(),u.Ub(),u.Qb(61,"ion-icon",15),u.Ub(),u.Dc(62,W,7,3,"ion-item",23),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub()),2&e&&(u.Cb(9),u.mc("src",null==t.user||null==t.user.attributes.photo?null:t.user.attributes.photo.url(),u.zc),u.Cb(3),u.Gc(null==t.user?null:t.user.attributes.name),u.Cb(1),u.mc("ngIf",t.isGuest),u.Cb(2),u.mc("ngIf",t.isGuest),u.Cb(1),u.mc("ngIf",!t.user||t.isGuest),u.Cb(6),u.Gc(u.ic(23,14,"MY_ORDERS")),u.Cb(7),u.Gc(u.ic(30,16,"PAYMENT")),u.Cb(7),u.Gc(u.ic(37,18,"ADDRESSES")),u.Cb(7),u.Gc(u.ic(44,20,"FAVORITES")),u.Cb(3),u.mc("ngIf",t.user&&!t.user.attributes.authData),u.Cb(1),u.mc("ngIf",t.user&&!t.isGuest),u.Cb(5),u.Gc(u.ic(53,22,"SETTINGS")),u.Cb(7),u.Gc(u.ic(60,24,"HELP")),u.Cb(3),u.mc("ngIf",t.user&&!t.isGuest))},directives:[l.s,l.Y,l.p,l.r,l.J,l.o,l.f,G.a,l.T,b.l,l.A,l.x,l.t,l.z,l.j],pipes:[f.c],styles:[".heading[_ngcontent-%COMP%]{background:var(--ion-color-primary);display:flex;flex-direction:column;align-items:center;align-self:center;justify-content:center;padding-top:60px;padding-bottom:60px;text-align:center}ion-item[_ngcontent-%COMP%]{--min-height:64px}ion-avatar[_ngcontent-%COMP%]{width:80px;height:80px}ion-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{background:var(--ion-color-light);display:inline-block;padding:2px}.custom-line-height[_ngcontent-%COMP%]{line-height:1.6}.skeleton-item[_ngcontent-%COMP%]{width:auto;height:auto;margin:10px auto;padding:10px}.skeleton-item[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{display:inline-flex;width:100%;height:auto;flex:1}.skeleton-item[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:100px;height:90px}.skeleton-item[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{width:100%;padding:10px;height:80px}ion-grid[_ngcontent-%COMP%]{padding:0}@media only screen and (min-width:768px){ion-grid[_ngcontent-%COMP%]{padding:16px}.heading[_ngcontent-%COMP%]{border-top-left-radius:8px;border-top-right-radius:8px;margin-top:16px}}"]}),z),K=n("d2mR"),X=n("b8Qw"),Z=((J=function e(){_classCallCheck(this,e)}).\u0275mod=u.Nb({type:J}),J.\u0275inj=u.Mb({factory:function(e){return new(e||J)},imports:[[K.a,c.e,c.l]]}),J),$=((B=function e(){_classCallCheck(this,e)}).\u0275mod=u.Nb({type:B}),B.\u0275inj=u.Mb({factory:function(e){return new(e||B)},imports:[[K.a,c.e,c.l]]}),B),ee=((Y=function e(){_classCallCheck(this,e)}).\u0275mod=u.Nb({type:Y}),Y.\u0275inj=u.Mb({factory:function(e){return new(e||Y)},imports:[[K.a,c.e,c.l]]}),Y),te=((H=function e(){_classCallCheck(this,e)}).\u0275mod=u.Nb({type:H}),H.\u0275inj=u.Mb({factory:function(e){return new(e||H)},imports:[[r.i.forChild([{path:"",component:q}]),K.a,X.a,Z,$,ee]]}),H)}}]);