(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{"8tSZ":function(t,i,e){"use strict";e.r(i),e.d(i,"CardListPageModule",(function(){return v}));var n=e("tyNb"),o=e("mrSG"),s=e("NV1z"),r=e("Obz0"),c=e("T0Z2"),a=e("fXoL"),l=e("TEn/"),d=e("ofXK"),h=e("4ro/"),b=e("xJkR"),u=e("sYmb");function g(t,i){1&t&&(a.Qb(0,"empty-view",12),a.hc(1,"translate")),2&t&&a.mc("text",a.ic(1,1,"ERROR_DATA"))}function f(t,i){1&t&&(a.Qb(0,"empty-view",13),a.hc(1,"translate")),2&t&&a.mc("text",a.ic(1,1,"EMPTY_CARDS"))}function m(t,i){1&t&&(a.Vb(0,"ion-badge",22),a.Fc(1),a.hc(2,"translate"),a.Ub()),2&t&&(a.Cb(1),a.Hc(" ",a.ic(2,1,"DEFAULT")," "))}function w(t,i){if(1&t){const t=a.Wb();a.Vb(0,"ion-item",18),a.Qb(1,"img",19),a.Vb(2,"ion-label"),a.Vb(3,"p"),a.Fc(4),a.Ub(),a.Dc(5,m,3,3,"ion-badge",20),a.Ub(),a.Vb(6,"ion-button",21),a.dc("click",(function(){a.wc(t);const e=i.$implicit;return a.gc(2).onDeleteCard(e)})),a.Fc(7),a.hc(8,"translate"),a.Ub(),a.Ub()}if(2&t){const t=i.$implicit;a.Cb(1),a.oc("src","./assets/imgs/",t.formatBrand(),".png",a.zc),a.Cb(3),a.Hc("\u2022\u2022\u2022\u2022 ",t.last4,""),a.Cb(1),a.mc("ngIf",t.isDefault),a.Cb(2),a.Hc(" ",a.ic(8,4,"DELETE")," ")}}function p(t,i){if(1&t&&(a.Vb(0,"ion-row",14),a.Vb(1,"ion-col",15),a.Vb(2,"ion-list",16),a.Dc(3,w,9,6,"ion-item",17),a.Ub(),a.Ub(),a.Ub()),2&t){const t=a.gc();a.Cb(3),a.mc("ngForOf",t.cards)}}const C=function(){return{"border-radius":"0",height:"70px"}};function V(t,i){1&t&&(a.Vb(0,"ion-row",23),a.Vb(1,"ion-col",15),a.Qb(2,"ngx-skeleton-loader",24),a.Ub(),a.Ub()),2&t&&(a.Cb(2),a.mc("theme",a.pc(1,C)))}let y=(()=>{class t extends s.a{constructor(t,i,e){super(t),this.actionSheetCtrl=i,this.creditCardService=e,this.cards=[]}enableMenuSwipe(){return!1}ionViewDidEnter(){return Object(o.a)(this,void 0,void 0,(function*(){this.cards.length||(this.showLoadingView({showOverlay:!1}),this.loadData());const t=yield this.getTrans("PAYMENT");this.setPageTitle(t),this.setMetaTags({title:t})}))}loadData(t={}){return Object(o.a)(this,void 0,void 0,(function*(){try{this.refresher=t.target,this.cards=yield this.creditCardService.load(),this.cards.length?this.showContentView():this.showEmptyView(),this.onRefreshComplete()}catch(i){this.showErrorView(),this.onRefreshComplete(),this.translate.get("ERROR_NETWORK").subscribe(t=>this.showToast(t))}}))}presentActionSheet(t){return Object(o.a)(this,void 0,void 0,(function*(){const i=yield this.getTrans(["ACTIONS","REMOVE","CANCEL"]),e=yield this.actionSheetCtrl.create({header:i.ACTIONS,buttons:[{icon:this.isIos()?null:"trash",text:i.REMOVE,handler:()=>{this.onDeleteCard(t)}},{icon:this.isIos()?null:"close",text:i.CANCEL}]});return yield e.present()}))}onDeleteCard(t){return Object(o.a)(this,void 0,void 0,(function*(){try{let i=yield this.translate.get("DELETE_CONFIRMATION").toPromise();if(!(yield this.showConfirm(i)))return;yield t.destroy();let e=this.cards.indexOf(t);-1!==e&&this.cards.splice(e,1),this.showContentView(),this.translate.get("DELETED").subscribe(t=>this.showToast(t))}catch(i){this.showContentView(),this.translate.get("ERROR_NETWORK").subscribe(t=>this.showToast(t))}}))}onAddButtonTouched(){return Object(o.a)(this,void 0,void 0,(function*(){yield this.showLoadingView({showOverlay:!0});const t=yield this.modalCtrl.create({component:c.a});yield t.present(),this.dismissLoadingView();const{data:i}=yield t.onWillDismiss();i&&(this.cards.unshift(i),this.showContentView())}))}}return t.\u0275fac=function(i){return new(i||t)(a.Pb(a.r),a.Pb(l.a),a.Pb(r.a))},t.\u0275cmp=a.Jb({type:t,selectors:[["page-card-list"]],features:[a.zb],decls:20,vars:13,consts:[[1,"ion-no-border"],["fixed",""],["slot","start"],["slot","end"],[3,"click"],["name","add","slot","icon-only"],["slot","fixed",3,"ionRefresh"],[3,"pullingText","refreshingText"],["icon","alert-circle-outline",3,"text",4,"ngIf"],["image","./assets/imgs/undraw_credit_card_df1m.svg","imageWidth","120",3,"text",4,"ngIf"],["class","ion-justify-content-center",4,"ngIf"],["class","ion-margin-vertical ion-justify-content-center",4,"ngIf"],["icon","alert-circle-outline",3,"text"],["image","./assets/imgs/undraw_credit_card_df1m.svg","imageWidth","120",3,"text"],[1,"ion-justify-content-center"],["size-xs","12","size-lg","9"],["lines","none",1,"ion-margin-top"],["class","radius ion-margin-bottom","color","light",4,"ngFor","ngForOf"],["color","light",1,"radius","ion-margin-bottom"],["width","40","slot","start",3,"src"],["class","text-small","color","primary",4,"ngIf"],["fill","clear","color","dark","slot","end",3,"click"],["color","primary",1,"text-small"],[1,"ion-margin-vertical","ion-justify-content-center"],["count","12",3,"theme"]],template:function(t,i){1&t&&(a.Vb(0,"ion-header",0),a.Vb(1,"ion-toolbar",1),a.Vb(2,"ion-buttons",2),a.Qb(3,"ion-back-button"),a.Ub(),a.Vb(4,"ion-title"),a.Fc(5),a.hc(6,"translate"),a.Ub(),a.Vb(7,"ion-buttons",3),a.Vb(8,"ion-button",4),a.dc("click",(function(){return i.onAddButtonTouched()})),a.Qb(9,"ion-icon",5),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Vb(10,"ion-content"),a.Vb(11,"ion-refresher",6),a.dc("ionRefresh",(function(t){return i.loadData(t)})),a.Qb(12,"ion-refresher-content",7),a.hc(13,"translate"),a.hc(14,"translate"),a.Ub(),a.Vb(15,"ion-grid",1),a.Dc(16,g,2,3,"empty-view",8),a.Dc(17,f,2,3,"empty-view",9),a.Dc(18,p,4,1,"ion-row",10),a.Dc(19,V,3,2,"ion-row",11),a.Ub(),a.Ub()),2&t&&(a.Cb(5),a.Gc(a.ic(6,7,"PAYMENT")),a.Cb(7),a.nc("pullingText",a.ic(13,9,"PULL_TO_REFRESH")),a.nc("refreshingText",a.ic(14,11,"REFRESHING")),a.Cb(4),a.mc("ngIf",i.isErrorViewVisible),a.Cb(1),a.mc("ngIf",i.isEmptyViewVisible),a.Cb(1),a.mc("ngIf",i.isContentViewVisible),a.Cb(1),a.mc("ngIf",i.isLoadingViewVisible))},directives:[l.s,l.Y,l.k,l.g,l.h,l.W,l.j,l.t,l.p,l.F,l.G,l.r,d.l,h.a,l.J,l.o,l.A,d.k,l.x,l.z,l.i,b.a],pipes:[u.c],styles:["ion-content[_ngcontent-%COMP%]{--background:var(--ion-color-light)}ion-grid[_ngcontent-%COMP%]{background:#fff}ion-item[_ngcontent-%COMP%]{--min-height:80px}"]}),t})();var E=e("d2mR"),T=e("5iJv");let v=(()=>{class t{}return t.\u0275mod=a.Nb({type:t}),t.\u0275inj=a.Mb({factory:function(i){return new(i||t)},imports:[[n.i.forChild([{path:"",component:y}]),E.a,T.a]]}),t})()}}]);