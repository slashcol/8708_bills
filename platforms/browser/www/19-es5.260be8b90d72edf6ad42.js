function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var n,o=_getPrototypeOf(t);if(e){var i=_getPrototypeOf(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{KiVI:function(t,e,n){"use strict";n.r(e),n.d(e,"BrandListPageModule",(function(){return M}));var o=n("ofXK"),i=n("3Pt+"),r=n("tyNb"),a=n("TEn/"),c=n("mrSG"),l=n("NV1z"),u=n("LQgz"),s=n("R0Ic"),b=n("XNiG"),f=n("VRyK"),d=n("gNTI"),g=n("fXoL"),p=n("4ro/"),h=n("wf0l"),m=n("sYmb");function y(t,e){1&t&&(g.Vb(0,"div",10),g.Qb(1,"ion-spinner"),g.Ub())}function v(t,e){1&t&&(g.Qb(0,"empty-view",11),g.hc(1,"translate")),2&t&&g.mc("text",g.ic(1,1,"ERROR_DATA"))}function C(t,e){1&t&&(g.Qb(0,"empty-view",11),g.hc(1,"translate")),2&t&&g.mc("text",g.ic(1,1,"EMPTY_DATA"))}var O=function(){return["../items"]},_=function(t){return{brand:t}};function w(t,e){if(1&t&&(g.Vb(0,"ion-col",17),g.Vb(1,"div",18),g.Qb(2,"div",19),g.Vb(3,"p",20),g.Fc(4),g.Ub(),g.Ub(),g.Ub()),2&t){var n=e.$implicit,o=g.gc(3);g.Cb(1),g.mc("routerLink",g.pc(5,O))("queryParams",g.qc(6,_,n.id)),g.Cb(1),g.mc("customObservable",o.loadAndScroll)("lazyLoad",null==n.image?null:n.image.url()),g.Cb(2),g.Hc(" ",n.name," ")}}function k(t,e){if(1&t&&(g.Vb(0,"ion-row"),g.Dc(1,w,5,8,"ion-col",16),g.Ub()),2&t){var n=g.gc(2);g.mc("@staggerIn",n.brands.length),g.Cb(1),g.mc("ngForOf",n.brands)("ngForTrackBy",n.trackByFn)}}function x(t,e){if(1&t&&(g.Vb(0,"div"),g.Vb(1,"ion-row",12),g.Vb(2,"ion-col"),g.Vb(3,"h3",13),g.Fc(4),g.hc(5,"translate"),g.Ub(),g.Ub(),g.Vb(6,"ion-col",14),g.Vb(7,"ion-button",15),g.Fc(8),g.hc(9,"translate"),g.Ub(),g.Ub(),g.Ub(),g.Dc(10,k,2,3,"ion-row",9),g.Ub()),2&t){var n=g.gc();g.Cb(4),g.Hc(" ",g.ic(5,4,"BRANDS")," "),g.Cb(3),g.mc("routerLink",g.pc(8,O)),g.Cb(1),g.Hc(" ",g.ic(9,6,"VIEW_ALL")," "),g.Cb(2),g.mc("ngIf",n.isContentViewVisible)}}function P(t,e){if(1&t&&(g.Vb(0,"ion-text",28),g.Vb(1,"h5",29),g.Fc(2),g.Ub(),g.Ub()),2&t){var n=g.gc().$implicit,o=g.gc(2);g.Cb(1),g.Cc("font-size",null==o.layout||null==o.layout.item?null:o.layout.item.fontSize),g.Cb(1),g.Hc(" ",n.name," ")}}function V(t,e){if(1&t&&(g.Vb(0,"ion-col"),g.Vb(1,"div",22),g.Vb(2,"div",23),g.Qb(3,"div",24),g.Vb(4,"div",25),g.Dc(5,P,3,3,"ion-text",26),g.Ub(),g.Ub(),g.Qb(6,"ion-ripple-effect",27),g.Ub(),g.Ub()),2&t){var n=e.$implicit,o=g.gc(2);g.Db("size-xs",12/(null==o.layout||null==o.layout.item?null:o.layout.item.columnsXs))("size-md",12/(null==o.layout||null==o.layout.item?null:o.layout.item.columnsMd))("size-lg",12/(null==o.layout||null==o.layout.item?null:o.layout.item.columnsLg)),g.Cb(1),g.mc("routerLink",g.pc(16,O))("queryParams",g.qc(17,_,n.id)),g.Cb(1),g.Cc("box-shadow",null==o.layout||null==o.layout.item?null:o.layout.item.boxShadow)("margin",null==o.layout||null==o.layout.item?null:o.layout.item.margin)("height",null==o.layout||null==o.layout.item?null:o.layout.item.height)("border-radius",null==o.layout||null==o.layout.item?null:o.layout.item.radius),g.Cb(1),g.mc("lazyLoad",null==n.image?null:n.image.url())("customObservable",o.loadAndScroll),g.Cb(2),g.mc("ngIf",!(null!=o.layout&&null!=o.layout.item&&o.layout.item.hideTitle))}}function R(t,e){if(1&t&&(g.Vb(0,"ion-row"),g.Dc(1,V,7,19,"ion-col",21),g.Ub()),2&t){var n=g.gc();g.mc("@staggerIn",n.brands.length),g.Cb(1),g.mc("ngForOf",n.brands)("ngForTrackBy",n.trackByFn)}}var L,T,I=((L=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,o,i){var r;return _classCallCheck(this,n),(r=e.call(this,t)).appConfigService=o,r.brandService=i,r.brands=[],r}return _createClass(n,[{key:"ngOnInit",value:function(){this.setupObservable()}},{key:"enableMenuSwipe",value:function(){return!1}},{key:"ionViewDidEnter",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getTrans("CATEGORIES");case 2:if(e=t.sent,this.setPageTitle(e),this.setMetaTags({title:e}),!this.brands.length){t.next=9;break}this.onContentLoaded(),t.next=12;break;case 9:return t.next=11,this.showLoadingView({showOverlay:!1});case 11:this.loadData();case 12:case"end":return t.stop()}}),t,this)})))}},{key:"setupObservable",value:function(){this.contentLoaded=new b.a,this.loadAndScroll=Object(f.a)(this.container.ionScroll,this.contentLoaded)}},{key:"onContentLoaded",value:function(){var t=this;setTimeout((function(){t.contentLoaded.next()}),400)}},{key:"loadData",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var o,i=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this.refresher=e.target,n.prev=1,n.next=4,this.appConfigService.load();case 4:return o=n.sent,this.layout=null===(t=null==o?void 0:o.layout)||void 0===t?void 0:t.brandList,n.next=8,this.brandService.load();case 8:this.brands=n.sent,this.onRefreshComplete(),this.brands.length?this.showContentView():this.showEmptyView(),this.onContentLoaded(),n.next=17;break;case 14:n.prev=14,n.t0=n.catch(1),this.translate.get("ERROR_NETWORK").subscribe((function(t){return i.showToast(t)})),this.onRefreshComplete(),this.showErrorView();case 17:case"end":return n.stop()}}),n,this,[[1,14]])})))}},{key:"trackByFn",value:function(t,e){return e?e.id:null}}]),n}(l.a)).\u0275fac=function(t){return new(t||L)(g.Pb(g.r),g.Pb(d.a),g.Pb(u.a))},L.\u0275cmp=g.Jb({type:L,selectors:[["app-brand-list"]],viewQuery:function(t,e){var n;1&t&&g.Bc(a.p,!0),2&t&&g.tc(n=g.ec())&&(e.container=n.first)},features:[g.zb],decls:16,vars:11,consts:[[1,"ion-no-border"],["fixed",""],["slot","start"],["scrollEvents","true"],["container",""],["slot","fixed",3,"ionRefresh"],[3,"pullingText","refreshingText"],["class","ion-text-center",4,"ngIf"],["icon","alert-circle-outline",3,"text",4,"ngIf"],[4,"ngIf"],[1,"ion-text-center"],["icon","alert-circle-outline",3,"text"],[1,"ion-padding","ion-align-items-center"],[1,"ion-no-margin"],[1,"ion-text-end"],["strong","","shape","round","color","medium",1,"no-shadow","ion-text-capitalize",3,"routerLink"],["size-xs","4","size-md","3","class","ion-text-center",4,"ngFor","ngForOf","ngForTrackBy"],["size-xs","4","size-md","3",1,"ion-text-center"],[3,"routerLink","queryParams"],["defaultImage","./assets/imgs/placeholder.png",1,"default-bg-img",3,"customObservable","lazyLoad"],[1,"link","ellipsis"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"ion-activatable","full-width",3,"routerLink","queryParams"],[1,"card"],["defaultImage","./assets/imgs/placeholder.png",1,"bg-img",3,"lazyLoad","customObservable"],[1,"content"],["color","light",4,"ngIf"],["type","bounded"],["color","light"],[1,"bold","link"]],template:function(t,e){1&t&&(g.Vb(0,"ion-header",0),g.Vb(1,"ion-toolbar",1),g.Vb(2,"ion-buttons",2),g.Qb(3,"ion-back-button"),g.Ub(),g.Ub(),g.Ub(),g.Vb(4,"ion-content",3,4),g.Vb(6,"ion-refresher",5),g.dc("ionRefresh",(function(t){return e.loadData(t)})),g.Qb(7,"ion-refresher-content",6),g.hc(8,"translate"),g.hc(9,"translate"),g.Ub(),g.Vb(10,"ion-grid",1),g.Dc(11,y,2,0,"div",7),g.Dc(12,v,2,3,"empty-view",8),g.Dc(13,C,2,3,"empty-view",8),g.Dc(14,x,11,9,"div",9),g.Dc(15,R,2,3,"ion-row",9),g.Ub(),g.Ub()),2&t&&(g.Cb(7),g.nc("pullingText",g.ic(8,7,"PULL_TO_REFRESH")),g.nc("refreshingText",g.ic(9,9,"REFRESHING")),g.Cb(4),g.mc("ngIf",e.isLoadingViewVisible),g.Cb(1),g.mc("ngIf",e.isErrorViewVisible),g.Cb(1),g.mc("ngIf",e.isEmptyViewVisible),g.Cb(1),g.mc("ngIf",e.isContentViewVisible&&!(null!=e.layout&&e.layout.enabled)),g.Cb(1),g.mc("ngIf",e.isContentViewVisible&&(null==e.layout?null:e.layout.enabled)))},directives:[a.s,a.Y,a.k,a.g,a.h,a.p,a.F,a.G,a.r,o.l,a.P,p.a,a.J,a.o,a.j,a.gb,r.h,o.k,h.a,a.H,a.T],pipes:[m.c],styles:['ion-content[_ngcontent-%COMP%]{--background:var(--ion-color-light)}ion-grid[_ngcontent-%COMP%]{background:#fff}.default-bg-img[_ngcontent-%COMP%]{background-color:var(--ion-color-light);background-size:cover;background-repeat:no-repeat;border:6px solid var(--ion-color-light-shade);border-radius:16px;background-position:50%;height:150px}.card[_ngcontent-%COMP%]{height:200px;position:relative;overflow:hidden}.card[_ngcontent-%COMP%]   .bg-img[_ngcontent-%COMP%]{background-size:cover;background-position:50%;position:absolute;top:0;bottom:0;left:0;right:0}.card[_ngcontent-%COMP%]   .bg-img[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:100%;top:0;left:0;background:rgba(0,0,0,.3)}.card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;align-self:center;justify-content:center;padding:10px;text-align:center;height:100%}.card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{z-index:1}.card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--ion-color-primary),var(--ion-color-primary-tint));border-radius:16px;padding:4px 16px}@media (min-width:992px){.default-bg-img[_ngcontent-%COMP%]{height:300px}}'],data:{animation:[Object(s.l)("staggerIn",[Object(s.k)("* => *",[Object(s.f)(":enter",Object(s.j)({opacity:0,transform:"translate3d(0,10px,0)"}),{optional:!0}),Object(s.f)(":enter",Object(s.h)("40ms",[Object(s.e)("100ms",Object(s.j)({opacity:1,transform:"translate3d(0,0,0)"}))]),{optional:!0})])])]}}),L),j=n("d2mR"),U=[{path:"",component:I}],M=((T=function t(){_classCallCheck(this,t)}).\u0275mod=g.Nb({type:T}),T.\u0275inj=g.Mb({factory:function(t){return new(t||T)},imports:[[o.c,i.e,a.Z,j.a,r.i.forChild(U)]]}),T)},gNTI:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var o=n("v0iw"),i=n("fXoL"),r=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.call(this,"AppConfig")}return _createClass(n,[{key:"load",value:function(){return o.Cloud.run("getAppConfig")}},{key:"about",get:function(){return this.get("about")}},{key:"admin",get:function(){return this.get("admin")}},{key:"layout",get:function(){return this.get("layout")}},{key:"auth",get:function(){return this.get("auth")}}]),n}(o.Object);return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}();o.Object.registerSubclass("AppConfig",r)}}]);