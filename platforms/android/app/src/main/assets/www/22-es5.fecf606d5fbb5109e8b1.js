function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var n,r=_getPrototypeOf(t);if(e){var i=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{"8tSZ":function(t,e,n){"use strict";n.r(e),n.d(e,"CardListPageModule",(function(){return V}));var r=n("tyNb"),i=n("mrSG"),o=n("NV1z"),s=n("Obz0"),c=n("T0Z2"),a=n("fXoL"),u=n("TEn/"),l=n("ofXK"),f=n("4ro/"),h=n("xJkR"),b=n("sYmb");function d(t,e){1&t&&(a.Qb(0,"empty-view",12),a.hc(1,"translate")),2&t&&a.mc("text",a.ic(1,1,"ERROR_DATA"))}function p(t,e){1&t&&(a.Qb(0,"empty-view",13),a.hc(1,"translate")),2&t&&a.mc("text",a.ic(1,1,"EMPTY_CARDS"))}function g(t,e){1&t&&(a.Vb(0,"ion-badge",22),a.Fc(1),a.hc(2,"translate"),a.Ub()),2&t&&(a.Cb(1),a.Hc(" ",a.ic(2,1,"DEFAULT")," "))}function m(t,e){if(1&t){var n=a.Wb();a.Vb(0,"ion-item",18),a.Qb(1,"img",19),a.Vb(2,"ion-label"),a.Vb(3,"p"),a.Fc(4),a.Ub(),a.Dc(5,g,3,3,"ion-badge",20),a.Ub(),a.Vb(6,"ion-button",21),a.dc("click",(function(){a.wc(n);var t=e.$implicit;return a.gc(2).onDeleteCard(t)})),a.Fc(7),a.hc(8,"translate"),a.Ub(),a.Ub()}if(2&t){var r=e.$implicit;a.Cb(1),a.oc("src","./assets/imgs/",r.formatBrand(),".png",a.zc),a.Cb(3),a.Hc("\u2022\u2022\u2022\u2022 ",r.last4,""),a.Cb(1),a.mc("ngIf",r.isDefault),a.Cb(2),a.Hc(" ",a.ic(8,4,"DELETE")," ")}}function v(t,e){if(1&t&&(a.Vb(0,"ion-row",14),a.Vb(1,"ion-col",15),a.Vb(2,"ion-list",16),a.Dc(3,m,9,6,"ion-item",17),a.Ub(),a.Ub(),a.Ub()),2&t){var n=a.gc();a.Cb(3),a.mc("ngForOf",n.cards)}}var w=function(){return{"border-radius":"0",height:"70px"}};function C(t,e){1&t&&(a.Vb(0,"ion-row",23),a.Vb(1,"ion-col",15),a.Qb(2,"ngx-skeleton-loader",24),a.Ub(),a.Ub()),2&t&&(a.Cb(2),a.mc("theme",a.pc(1,w)))}var y,_,x=((y=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).actionSheetCtrl=r,o.creditCardService=i,o.cards=[],o}return _createClass(n,[{key:"enableMenuSwipe",value:function(){return!1}},{key:"ionViewDidEnter",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.cards.length||(this.showLoadingView({showOverlay:!1}),this.loadData()),t.next=3,this.getTrans("PAYMENT");case 3:e=t.sent,this.setPageTitle(e),this.setMetaTags({title:e});case 5:case"end":return t.stop()}}),t,this)})))}},{key:"loadData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.refresher=t.target,e.next=4,this.creditCardService.load();case 4:this.cards=e.sent,this.cards.length?this.showContentView():this.showEmptyView(),this.onRefreshComplete(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),this.showErrorView(),this.onRefreshComplete(),this.translate.get("ERROR_NETWORK").subscribe((function(t){return n.showToast(t)}));case 12:case"end":return e.stop()}}),e,this,[[0,9]])})))}},{key:"presentActionSheet",value:function(t){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n,r,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getTrans(["ACTIONS","REMOVE","CANCEL"]);case 2:return n=e.sent,e.next=5,this.actionSheetCtrl.create({header:n.ACTIONS,buttons:[{icon:this.isIos()?null:"trash",text:n.REMOVE,handler:function(){i.onDeleteCard(t)}},{icon:this.isIos()?null:"close",text:n.CANCEL}]});case 5:return r=e.sent,e.next=8,r.present();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e,this)})))}},{key:"onDeleteCard",value:function(t){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n,r,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.translate.get("DELETE_CONFIRMATION").toPromise();case 3:return n=e.sent,e.next=6,this.showConfirm(n);case 6:if(e.sent){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,t.destroy();case 10:-1!==(r=this.cards.indexOf(t))&&this.cards.splice(r,1),this.showContentView(),this.translate.get("DELETED").subscribe((function(t){return i.showToast(t)})),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),this.showContentView(),this.translate.get("ERROR_NETWORK").subscribe((function(t){return i.showToast(t)}));case 17:case"end":return e.stop()}}),e,this,[[0,14]])})))}},{key:"onAddButtonTouched",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.showLoadingView({showOverlay:!0});case 2:return t.next=4,this.modalCtrl.create({component:c.a});case 4:return e=t.sent,t.next=7,e.present();case 7:return this.dismissLoadingView(),t.next=10,e.onWillDismiss();case 10:n=t.sent,(r=n.data)&&(this.cards.unshift(r),this.showContentView());case 13:case"end":return t.stop()}}),t,this)})))}}]),n}(o.a)).\u0275fac=function(t){return new(t||y)(a.Pb(a.r),a.Pb(u.a),a.Pb(s.a))},y.\u0275cmp=a.Jb({type:y,selectors:[["page-card-list"]],features:[a.zb],decls:20,vars:13,consts:[[1,"ion-no-border"],["fixed",""],["slot","start"],["slot","end"],[3,"click"],["name","add","slot","icon-only"],["slot","fixed",3,"ionRefresh"],[3,"pullingText","refreshingText"],["icon","alert-circle-outline",3,"text",4,"ngIf"],["image","./assets/imgs/undraw_credit_card_df1m.svg","imageWidth","120",3,"text",4,"ngIf"],["class","ion-justify-content-center",4,"ngIf"],["class","ion-margin-vertical ion-justify-content-center",4,"ngIf"],["icon","alert-circle-outline",3,"text"],["image","./assets/imgs/undraw_credit_card_df1m.svg","imageWidth","120",3,"text"],[1,"ion-justify-content-center"],["size-xs","12","size-lg","9"],["lines","none",1,"ion-margin-top"],["class","radius ion-margin-bottom","color","light",4,"ngFor","ngForOf"],["color","light",1,"radius","ion-margin-bottom"],["width","40","slot","start",3,"src"],["class","text-small","color","primary",4,"ngIf"],["fill","clear","color","dark","slot","end",3,"click"],["color","primary",1,"text-small"],[1,"ion-margin-vertical","ion-justify-content-center"],["count","12",3,"theme"]],template:function(t,e){1&t&&(a.Vb(0,"ion-header",0),a.Vb(1,"ion-toolbar",1),a.Vb(2,"ion-buttons",2),a.Qb(3,"ion-back-button"),a.Ub(),a.Vb(4,"ion-title"),a.Fc(5),a.hc(6,"translate"),a.Ub(),a.Vb(7,"ion-buttons",3),a.Vb(8,"ion-button",4),a.dc("click",(function(){return e.onAddButtonTouched()})),a.Qb(9,"ion-icon",5),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Vb(10,"ion-content"),a.Vb(11,"ion-refresher",6),a.dc("ionRefresh",(function(t){return e.loadData(t)})),a.Qb(12,"ion-refresher-content",7),a.hc(13,"translate"),a.hc(14,"translate"),a.Ub(),a.Vb(15,"ion-grid",1),a.Dc(16,d,2,3,"empty-view",8),a.Dc(17,p,2,3,"empty-view",9),a.Dc(18,v,4,1,"ion-row",10),a.Dc(19,C,3,2,"ion-row",11),a.Ub(),a.Ub()),2&t&&(a.Cb(5),a.Gc(a.ic(6,7,"PAYMENT")),a.Cb(7),a.nc("pullingText",a.ic(13,9,"PULL_TO_REFRESH")),a.nc("refreshingText",a.ic(14,11,"REFRESHING")),a.Cb(4),a.mc("ngIf",e.isErrorViewVisible),a.Cb(1),a.mc("ngIf",e.isEmptyViewVisible),a.Cb(1),a.mc("ngIf",e.isContentViewVisible),a.Cb(1),a.mc("ngIf",e.isLoadingViewVisible))},directives:[u.s,u.Y,u.k,u.g,u.h,u.W,u.j,u.t,u.p,u.F,u.G,u.r,l.l,f.a,u.J,u.o,u.A,l.k,u.x,u.z,u.i,h.a],pipes:[b.c],styles:["ion-content[_ngcontent-%COMP%]{--background:var(--ion-color-light)}ion-grid[_ngcontent-%COMP%]{background:#fff}ion-item[_ngcontent-%COMP%]{--min-height:80px}"]}),y),R=n("d2mR"),O=n("5iJv"),V=((_=function t(){_classCallCheck(this,t)}).\u0275mod=a.Nb({type:_}),_.\u0275inj=a.Mb({factory:function(t){return new(t||_)},imports:[[r.i.forChild([{path:"",component:x}]),R.a,O.a]]}),_)}}]);