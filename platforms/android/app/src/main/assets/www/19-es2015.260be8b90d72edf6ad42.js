(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{KiVI:function(t,n,e){"use strict";e.r(n),e.d(n,"BrandListPageModule",(function(){return _}));var o=e("ofXK"),i=e("3Pt+"),r=e("tyNb"),a=e("TEn/"),l=e("mrSG"),c=e("NV1z"),s=e("LQgz"),u=e("R0Ic"),b=e("XNiG"),d=e("VRyK"),g=e("gNTI"),m=e("fXoL"),h=e("4ro/"),f=e("wf0l"),p=e("sYmb");function y(t,n){1&t&&(m.Vb(0,"div",10),m.Qb(1,"ion-spinner"),m.Ub())}function C(t,n){1&t&&(m.Qb(0,"empty-view",11),m.hc(1,"translate")),2&t&&m.mc("text",m.ic(1,1,"ERROR_DATA"))}function v(t,n){1&t&&(m.Qb(0,"empty-view",11),m.hc(1,"translate")),2&t&&m.mc("text",m.ic(1,1,"EMPTY_DATA"))}const w=function(){return["../items"]},O=function(t){return{brand:t}};function V(t,n){if(1&t&&(m.Vb(0,"ion-col",17),m.Vb(1,"div",18),m.Qb(2,"div",19),m.Vb(3,"p",20),m.Fc(4),m.Ub(),m.Ub(),m.Ub()),2&t){const t=n.$implicit,e=m.gc(3);m.Cb(1),m.mc("routerLink",m.pc(5,w))("queryParams",m.qc(6,O,t.id)),m.Cb(1),m.mc("customObservable",e.loadAndScroll)("lazyLoad",null==t.image?null:t.image.url()),m.Cb(2),m.Hc(" ",t.name," ")}}function x(t,n){if(1&t&&(m.Vb(0,"ion-row"),m.Dc(1,V,5,8,"ion-col",16),m.Ub()),2&t){const t=m.gc(2);m.mc("@staggerIn",t.brands.length),m.Cb(1),m.mc("ngForOf",t.brands)("ngForTrackBy",t.trackByFn)}}function k(t,n){if(1&t&&(m.Vb(0,"div"),m.Vb(1,"ion-row",12),m.Vb(2,"ion-col"),m.Vb(3,"h3",13),m.Fc(4),m.hc(5,"translate"),m.Ub(),m.Ub(),m.Vb(6,"ion-col",14),m.Vb(7,"ion-button",15),m.Fc(8),m.hc(9,"translate"),m.Ub(),m.Ub(),m.Ub(),m.Dc(10,x,2,3,"ion-row",9),m.Ub()),2&t){const t=m.gc();m.Cb(4),m.Hc(" ",m.ic(5,4,"BRANDS")," "),m.Cb(3),m.mc("routerLink",m.pc(8,w)),m.Cb(1),m.Hc(" ",m.ic(9,6,"VIEW_ALL")," "),m.Cb(2),m.mc("ngIf",t.isContentViewVisible)}}function P(t,n){if(1&t&&(m.Vb(0,"ion-text",28),m.Vb(1,"h5",29),m.Fc(2),m.Ub(),m.Ub()),2&t){const t=m.gc().$implicit,n=m.gc(2);m.Cb(1),m.Cc("font-size",null==n.layout||null==n.layout.item?null:n.layout.item.fontSize),m.Cb(1),m.Hc(" ",t.name," ")}}function L(t,n){if(1&t&&(m.Vb(0,"ion-col"),m.Vb(1,"div",22),m.Vb(2,"div",23),m.Qb(3,"div",24),m.Vb(4,"div",25),m.Dc(5,P,3,3,"ion-text",26),m.Ub(),m.Ub(),m.Qb(6,"ion-ripple-effect",27),m.Ub(),m.Ub()),2&t){const t=n.$implicit,e=m.gc(2);m.Db("size-xs",12/(null==e.layout||null==e.layout.item?null:e.layout.item.columnsXs))("size-md",12/(null==e.layout||null==e.layout.item?null:e.layout.item.columnsMd))("size-lg",12/(null==e.layout||null==e.layout.item?null:e.layout.item.columnsLg)),m.Cb(1),m.mc("routerLink",m.pc(16,w))("queryParams",m.qc(17,O,t.id)),m.Cb(1),m.Cc("box-shadow",null==e.layout||null==e.layout.item?null:e.layout.item.boxShadow)("margin",null==e.layout||null==e.layout.item?null:e.layout.item.margin)("height",null==e.layout||null==e.layout.item?null:e.layout.item.height)("border-radius",null==e.layout||null==e.layout.item?null:e.layout.item.radius),m.Cb(1),m.mc("lazyLoad",null==t.image?null:t.image.url())("customObservable",e.loadAndScroll),m.Cb(2),m.mc("ngIf",!(null!=e.layout&&null!=e.layout.item&&e.layout.item.hideTitle))}}function I(t,n){if(1&t&&(m.Vb(0,"ion-row"),m.Dc(1,L,7,19,"ion-col",21),m.Ub()),2&t){const t=m.gc();m.mc("@staggerIn",t.brands.length),m.Cb(1),m.mc("ngForOf",t.brands)("ngForTrackBy",t.trackByFn)}}let U=(()=>{class t extends c.a{constructor(t,n,e){super(t),this.appConfigService=n,this.brandService=e,this.brands=[]}ngOnInit(){this.setupObservable()}enableMenuSwipe(){return!1}ionViewDidEnter(){return Object(l.a)(this,void 0,void 0,(function*(){const t=yield this.getTrans("CATEGORIES");this.setPageTitle(t),this.setMetaTags({title:t}),this.brands.length?this.onContentLoaded():(yield this.showLoadingView({showOverlay:!1}),this.loadData())}))}setupObservable(){this.contentLoaded=new b.a,this.loadAndScroll=Object(d.a)(this.container.ionScroll,this.contentLoaded)}onContentLoaded(){setTimeout(()=>{this.contentLoaded.next()},400)}loadData(t={}){var n;return Object(l.a)(this,void 0,void 0,(function*(){this.refresher=t.target;try{const t=yield this.appConfigService.load();this.layout=null===(n=null==t?void 0:t.layout)||void 0===n?void 0:n.brandList,this.brands=yield this.brandService.load(),this.onRefreshComplete(),this.brands.length?this.showContentView():this.showEmptyView(),this.onContentLoaded()}catch(e){this.translate.get("ERROR_NETWORK").subscribe(t=>this.showToast(t)),this.onRefreshComplete(),this.showErrorView()}}))}trackByFn(t,n){return n?n.id:null}}return t.\u0275fac=function(n){return new(n||t)(m.Pb(m.r),m.Pb(g.a),m.Pb(s.a))},t.\u0275cmp=m.Jb({type:t,selectors:[["app-brand-list"]],viewQuery:function(t,n){var e;1&t&&m.Bc(a.p,!0),2&t&&m.tc(e=m.ec())&&(n.container=e.first)},features:[m.zb],decls:16,vars:11,consts:[[1,"ion-no-border"],["fixed",""],["slot","start"],["scrollEvents","true"],["container",""],["slot","fixed",3,"ionRefresh"],[3,"pullingText","refreshingText"],["class","ion-text-center",4,"ngIf"],["icon","alert-circle-outline",3,"text",4,"ngIf"],[4,"ngIf"],[1,"ion-text-center"],["icon","alert-circle-outline",3,"text"],[1,"ion-padding","ion-align-items-center"],[1,"ion-no-margin"],[1,"ion-text-end"],["strong","","shape","round","color","medium",1,"no-shadow","ion-text-capitalize",3,"routerLink"],["size-xs","4","size-md","3","class","ion-text-center",4,"ngFor","ngForOf","ngForTrackBy"],["size-xs","4","size-md","3",1,"ion-text-center"],[3,"routerLink","queryParams"],["defaultImage","./assets/imgs/placeholder.png",1,"default-bg-img",3,"customObservable","lazyLoad"],[1,"link","ellipsis"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"ion-activatable","full-width",3,"routerLink","queryParams"],[1,"card"],["defaultImage","./assets/imgs/placeholder.png",1,"bg-img",3,"lazyLoad","customObservable"],[1,"content"],["color","light",4,"ngIf"],["type","bounded"],["color","light"],[1,"bold","link"]],template:function(t,n){1&t&&(m.Vb(0,"ion-header",0),m.Vb(1,"ion-toolbar",1),m.Vb(2,"ion-buttons",2),m.Qb(3,"ion-back-button"),m.Ub(),m.Ub(),m.Ub(),m.Vb(4,"ion-content",3,4),m.Vb(6,"ion-refresher",5),m.dc("ionRefresh",(function(t){return n.loadData(t)})),m.Qb(7,"ion-refresher-content",6),m.hc(8,"translate"),m.hc(9,"translate"),m.Ub(),m.Vb(10,"ion-grid",1),m.Dc(11,y,2,0,"div",7),m.Dc(12,C,2,3,"empty-view",8),m.Dc(13,v,2,3,"empty-view",8),m.Dc(14,k,11,9,"div",9),m.Dc(15,I,2,3,"ion-row",9),m.Ub(),m.Ub()),2&t&&(m.Cb(7),m.nc("pullingText",m.ic(8,7,"PULL_TO_REFRESH")),m.nc("refreshingText",m.ic(9,9,"REFRESHING")),m.Cb(4),m.mc("ngIf",n.isLoadingViewVisible),m.Cb(1),m.mc("ngIf",n.isErrorViewVisible),m.Cb(1),m.mc("ngIf",n.isEmptyViewVisible),m.Cb(1),m.mc("ngIf",n.isContentViewVisible&&!(null!=n.layout&&n.layout.enabled)),m.Cb(1),m.mc("ngIf",n.isContentViewVisible&&(null==n.layout?null:n.layout.enabled)))},directives:[a.s,a.Y,a.k,a.g,a.h,a.p,a.F,a.G,a.r,o.l,a.P,h.a,a.J,a.o,a.j,a.gb,r.h,o.k,f.a,a.H,a.T],pipes:[p.c],styles:['ion-content[_ngcontent-%COMP%]{--background:var(--ion-color-light)}ion-grid[_ngcontent-%COMP%]{background:#fff}.default-bg-img[_ngcontent-%COMP%]{background-color:var(--ion-color-light);background-size:cover;background-repeat:no-repeat;border:6px solid var(--ion-color-light-shade);border-radius:16px;background-position:50%;height:150px}.card[_ngcontent-%COMP%]{height:200px;position:relative;overflow:hidden}.card[_ngcontent-%COMP%]   .bg-img[_ngcontent-%COMP%]{background-size:cover;background-position:50%;position:absolute;top:0;bottom:0;left:0;right:0}.card[_ngcontent-%COMP%]   .bg-img[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:100%;top:0;left:0;background:rgba(0,0,0,.3)}.card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;align-self:center;justify-content:center;padding:10px;text-align:center;height:100%}.card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{z-index:1}.card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--ion-color-primary),var(--ion-color-primary-tint));border-radius:16px;padding:4px 16px}@media (min-width:992px){.default-bg-img[_ngcontent-%COMP%]{height:300px}}'],data:{animation:[Object(u.l)("staggerIn",[Object(u.k)("* => *",[Object(u.f)(":enter",Object(u.j)({opacity:0,transform:"translate3d(0,10px,0)"}),{optional:!0}),Object(u.f)(":enter",Object(u.h)("40ms",[Object(u.e)("100ms",Object(u.j)({opacity:1,transform:"translate3d(0,0,0)"}))]),{optional:!0})])])]}}),t})();var T=e("d2mR");const M=[{path:"",component:U}];let _=(()=>{class t{}return t.\u0275mod=m.Nb({type:t}),t.\u0275inj=m.Mb({factory:function(n){return new(n||t)},imports:[[o.c,i.e,a.Z,T.a,r.i.forChild(M)]]}),t})()},gNTI:function(t,n,e){"use strict";e.d(n,"a",(function(){return r}));var o=e("v0iw"),i=e("fXoL");let r=(()=>{class t extends o.Object{constructor(){super("AppConfig")}load(){return o.Cloud.run("getAppConfig")}get about(){return this.get("about")}get admin(){return this.get("admin")}get layout(){return this.get("layout")}get auth(){return this.get("auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=i.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();o.Object.registerSubclass("AppConfig",r)}}]);